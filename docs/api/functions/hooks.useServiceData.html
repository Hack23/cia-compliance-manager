<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>useServiceData | CIA Compliance Manager API Documentation - v1.0.6</title><meta name="description" content="Documentation for CIA Compliance Manager API Documentation"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">CIA Compliance Manager API Documentation - v1.0.6</a><div id="tsd-toolbar-links"><a href="https://github.com/Hack23/cia-compliance-manager">GitHub</a><a href="https://hack23.github.io/cia-compliance-manager/documentation.html">Documentation</a></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="../modules/hooks.html">hooks</a></li><li><a href="" aria-current="page">useServiceData</a></li></ul><h1>Function useServiceData</h1></div><section class="tsd-panel"><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="useservicedata"><span class="tsd-kind-call-signature">useServiceData</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="#useservicedatat">T</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">fetchFn</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">()</span> <span class="tsd-signature-symbol">=&gt;</span> <a class="tsd-signature-type tsd-kind-type-parameter" href="#useservicedatat">T</a><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">deps</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">DependencyList</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/hooks.ServiceDataState.html" class="tsd-signature-type tsd-kind-interface">ServiceDataState</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="#useservicedatat">T</a><span class="tsd-signature-symbol">&gt;</span><a href="#useservicedata" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Custom hook for fetching service data with loading and error states</p>
<h2 id="business-perspective" class="tsd-anchor-link">Business Perspective<a href="#business-perspective" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Standardizes data fetching across all widgets, ensuring consistent loading
states and error handling. This improves user experience by providing
predictable feedback during data operations and simplifies maintenance
by centralizing error handling logic. ðŸ”„</p>
<h2 id="technical-perspective" class="tsd-anchor-link">Technical Perspective<a href="#technical-perspective" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Extracts the common loading/error/data pattern found in 6+ widgets,
reducing code duplication and ensuring consistent error handling. Uses
React hooks best practices with proper dependency management.</p>
<p>Note: This hook currently supports synchronous fetch functions only.
The services in this application return data synchronously, so this
design choice simplifies the implementation and testing. For async
operations, the hook can be extended in the future if needed.</p>
</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span id="useservicedatat"><span class="tsd-kind-type-parameter">T</span></span><div class="tsd-comment tsd-typography"><p>Type of data returned by the fetch function</p>
</div></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">fetchFn</span>: <span class="tsd-signature-symbol">()</span> <span class="tsd-signature-symbol">=&gt;</span> <a class="tsd-signature-type tsd-kind-type-parameter" href="#useservicedatat">T</a></span><div class="tsd-comment tsd-typography"><p>Synchronous function to fetch data</p>
</div></li><li><span><span class="tsd-kind-parameter">deps</span>: <span class="tsd-signature-type">DependencyList</span><span class="tsd-signature-symbol"> = []</span></span><div class="tsd-comment tsd-typography"><p>Dependency array for useEffect (when to re-fetch)</p>
</div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="../interfaces/hooks.ServiceDataState.html" class="tsd-signature-type tsd-kind-interface">ServiceDataState</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="#useservicedatat">T</a><span class="tsd-signature-symbol">&gt;</span></h4><p>Service data state with loading, error, data, and refetch function</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example">Example<a href="#example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="tsx"><span class="hl-0">// Basic usage with service call</span><br/><span class="hl-7">const</span><span class="hl-2"> { </span><span class="hl-1">data</span><span class="hl-2">, </span><span class="hl-1">loading</span><span class="hl-2">, </span><span class="hl-1">error</span><span class="hl-2">, </span><span class="hl-1">refetch</span><span class="hl-2"> } = </span><span class="hl-4">useServiceData</span><span class="hl-2">(</span><br/><span class="hl-2">  () </span><span class="hl-7">=&gt;</span><span class="hl-2"> </span><span class="hl-3">securityMetricsService</span><span class="hl-2">.</span><span class="hl-4">getMetrics</span><span class="hl-2">(</span><span class="hl-3">level</span><span class="hl-2">),</span><br/><span class="hl-2">  [</span><span class="hl-3">level</span><span class="hl-2">]</span><br/><span class="hl-2">);</span><br/><br/><span class="hl-5">if</span><span class="hl-2"> (</span><span class="hl-3">loading</span><span class="hl-2">) </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-9">&lt;</span><span class="hl-8">LoadingSpinner</span><span class="hl-2"> </span><span class="hl-9">/&gt;</span><span class="hl-2">;</span><br/><span class="hl-5">if</span><span class="hl-2"> (</span><span class="hl-3">error</span><span class="hl-2">) </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-9">&lt;</span><span class="hl-8">ErrorMessage</span><span class="hl-2"> </span><span class="hl-10">error</span><span class="hl-2">=</span><span class="hl-7">{</span><span class="hl-3">error</span><span class="hl-7">}</span><span class="hl-2"> </span><span class="hl-10">retry</span><span class="hl-2">=</span><span class="hl-7">{</span><span class="hl-3">refetch</span><span class="hl-7">}</span><span class="hl-2"> </span><span class="hl-9">/&gt;</span><span class="hl-2">;</span><br/><span class="hl-5">if</span><span class="hl-2"> (!</span><span class="hl-3">data</span><span class="hl-2">) </span><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-9">&lt;</span><span class="hl-8">NoDataMessage</span><span class="hl-2"> </span><span class="hl-9">/&gt;</span><span class="hl-2">;</span><br/><br/><span class="hl-5">return</span><span class="hl-2"> </span><span class="hl-9">&lt;</span><span class="hl-8">DataDisplay</span><span class="hl-2"> </span><span class="hl-10">data</span><span class="hl-2">=</span><span class="hl-7">{</span><span class="hl-3">data</span><span class="hl-7">}</span><span class="hl-2"> </span><span class="hl-9">/&gt;</span><span class="hl-2">;</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-1">Example<a href="#example-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="tsx"><span class="hl-0">// Usage with multiple dependencies</span><br/><span class="hl-7">const</span><span class="hl-2"> { </span><span class="hl-1">data</span><span class="hl-2">, </span><span class="hl-1">loading</span><span class="hl-2">, </span><span class="hl-1">error</span><span class="hl-2"> } = </span><span class="hl-4">useServiceData</span><span class="hl-2">(</span><br/><span class="hl-2">  () </span><span class="hl-7">=&gt;</span><span class="hl-2"> </span><span class="hl-4">getSecurityMetrics</span><span class="hl-2">(</span><br/><span class="hl-2">    </span><span class="hl-3">levels</span><span class="hl-2">.</span><span class="hl-3">availability</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-3">levels</span><span class="hl-2">.</span><span class="hl-3">integrity</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-3">levels</span><span class="hl-2">.</span><span class="hl-3">confidentiality</span><br/><span class="hl-2">  ),</span><br/><span class="hl-2">  [</span><span class="hl-3">levels</span><span class="hl-2">.</span><span class="hl-3">availability</span><span class="hl-2">, </span><span class="hl-3">levels</span><span class="hl-2">.</span><span class="hl-3">integrity</span><span class="hl-2">, </span><span class="hl-3">levels</span><span class="hl-2">.</span><span class="hl-3">confidentiality</span><span class="hl-2">]</span><br/><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-2">Example<a href="#example-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="tsx"><span class="hl-0">// Manual refetch on user action</span><br/><span class="hl-7">const</span><span class="hl-2"> { </span><span class="hl-1">data</span><span class="hl-2">, </span><span class="hl-1">refetch</span><span class="hl-2"> } = </span><span class="hl-4">useServiceData</span><span class="hl-2">(</span><br/><span class="hl-2">  () </span><span class="hl-7">=&gt;</span><span class="hl-2"> </span><span class="hl-3">complianceService</span><span class="hl-2">.</span><span class="hl-4">getStatus</span><span class="hl-2">(</span><span class="hl-3">level</span><span class="hl-2">),</span><br/><span class="hl-2">  [</span><span class="hl-3">level</span><span class="hl-2">]</span><br/><span class="hl-2">);</span><br/><br/><span class="hl-5">return</span><span class="hl-2"> (</span><br/><span class="hl-2">  </span><span class="hl-9">&lt;</span><span class="hl-13">div</span><span class="hl-9">&gt;</span><br/><span class="hl-2">    </span><span class="hl-9">&lt;</span><span class="hl-8">DataDisplay</span><span class="hl-2"> </span><span class="hl-10">data</span><span class="hl-2">=</span><span class="hl-7">{</span><span class="hl-3">data</span><span class="hl-7">}</span><span class="hl-2"> </span><span class="hl-9">/&gt;</span><br/><span class="hl-2">    </span><span class="hl-9">&lt;</span><span class="hl-13">button</span><span class="hl-2"> </span><span class="hl-10">onClick</span><span class="hl-2">=</span><span class="hl-7">{</span><span class="hl-3">refetch</span><span class="hl-7">}</span><span class="hl-9">&gt;</span><span class="hl-2">Refresh</span><span class="hl-9">&lt;/</span><span class="hl-13">button</span><span class="hl-9">&gt;</span><br/><span class="hl-2">  </span><span class="hl-9">&lt;/</span><span class="hl-13">div</span><span class="hl-9">&gt;</span><br/><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/Hack23/cia-compliance-manager/blob/acf00ef65a6c14ce92ad6d4769155d6c4560b4a9/src/hooks/useServiceData.ts#L89">hooks/useServiceData.ts:89</a></li></ul></aside></div></li></ul></section></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#business-perspective"><span>Business <wbr/>Perspective</span></a><a href="#technical-perspective"><span>Technical <wbr/>Perspective</span></a></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://github.com/Hack23/cia-compliance-manager" class="tsd-nav-link">GitHub</a><a href="https://hack23.github.io/cia-compliance-manager/documentation.html" class="tsd-nav-link">Documentation</a></nav><nav class="tsd-navigation"><a href="../modules.html">CIA Compliance Manager API Documentation - v1.0.6</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
