{"version":3,"file":"index-DwcV0hVR.js","sources":["../../src/constants/colorConstants.ts","../../src/hooks/useCIAOptions.ts","../../src/constants/riskConstants.ts","../../src/constants/appConstants.ts","../../src/constants/testIds.ts","../../src/components/common/WidgetContainer.tsx","../../src/constants/coreConstants.ts","../../src/utils/securityLevelUtils.ts","../../src/services/ciaContentService.ts","../../src/components/common/StatusBadge.tsx","../../src/components/common/CIAImpactCard.tsx","../../src/components/common/KeyValuePair.tsx","../../src/components/widgets/AvailabilityImpactWidget.tsx","../../src/components/widgets/BusinessImpactAnalysisWidget.tsx","../../src/components/common/SecurityLevelSummaryItem.tsx","../../src/components/widgets/CIAImpactSummaryWidget.tsx","../../src/components/widgets/ComplianceStatusWidget.tsx","../../src/components/widgets/ConfidentialityImpactWidget.tsx","../../src/components/common/MetricsCard.tsx","../../src/components/widgets/CostEstimationWidget.tsx","../../src/components/widgets/IntegrityImpactWidget.tsx","../../src/components/widgets/SecurityResourcesWidget.tsx","../../src/components/widgets/SecuritySummaryWidget.tsx","../../src/components/charts/RadarChart.tsx","../../src/components/common/WidgetHeader.tsx","../../src/components/common/Tooltip.tsx","../../src/components/common/SecurityLevelSelector.tsx","../../src/components/common/SecurityRiskScore.tsx","../../src/components/widgets/SecurityVisualizationWidget.tsx","../../src/components/widgets/TechnicalDetailsWidget.tsx","../../src/components/widgets/ValueCreationWidget.tsx","../../src/utils/widgetRegistry.tsx","../../src/utils/errorHandlers.tsx","../../src/types/cia.ts","../../src/components/dashboard/Dashboard.tsx","../../src/components/securitylevel/SecurityLevelSelector.tsx","../../src/components/SecurityLevelSelector.tsx","../../src/components/widgets/SecurityLevelWidget.tsx","../../src/types/widgets.ts","../../src/application/CIAClassificationApp.tsx","../../src/App.tsx","../../src/index.tsx"],"sourcesContent":["import { SecurityLevel } from \"../types/cia\";\n\n/**\n * Color constants for security levels following\n * WCAG 2.1 AA standards (contrast ratio ‚â• 4.5:1)\n */\nexport const SECURITY_LEVEL_COLORS = {\n  // Primary colors for badges, buttons, etc.\n  BACKGROUND: {\n    NONE: \"#dc3545\", // Stronger red\n    LOW: \"#e67e22\", // More vibrant orange\n    MODERATE: \"#f1c40f\", // Stronger yellow\n    HIGH: \"#2ecc71\", // More vibrant green\n    VERY_HIGH: \"#3498db\", // More vibrant blue\n  },\n\n  // Text colors that meet contrast requirements with white backgrounds\n  TEXT: {\n    NONE: \"#7d1a1a\", // Dark red\n    LOW: \"#924d10\", // Dark orange\n    MODERATE: \"#7d6608\", // Dark yellow\n    HIGH: \"#186a3b\", // Dark green\n    VERY_HIGH: \"#1a5276\", // Dark blue\n  },\n\n  // Colors for use with dark backgrounds - increased brightness for visibility\n  DARK_MODE: {\n    NONE: \"#ff6b6b\", // Brighter red for dark backgrounds\n    LOW: \"#ff9f43\", // Brighter orange\n    MODERATE: \"#feca57\", // Brighter yellow\n    HIGH: \"#54e346\", // Brighter green\n    VERY_HIGH: \"#70a1ff\", // Brighter blue\n  },\n\n  // For borders and accents - slightly higher saturation\n  BORDER: {\n    NONE: \"#f8d7da\", // Light red border\n    LOW: \"#ffedd8\", // Light orange border\n    MODERATE: \"#fff6d9\", // Light yellow border\n    HIGH: \"#d4edda\", // Light green border\n    VERY_HIGH: \"#cfe2ff\", // Light blue border\n  },\n};\n\n/**\n * Colors specific to CIA components - with enhanced distinctiveness\n */\nexport const CIA_COMPONENT_COLORS = {\n  CONFIDENTIALITY: {\n    PRIMARY: \"#9c27b0\", // Purple\n    SECONDARY: \"#e1bee7\", // Light purple\n    DARK: \"#7b1fa2\", // Dark purple\n  },\n  INTEGRITY: {\n    PRIMARY: \"#27ae60\", // Green\n    SECONDARY: \"#d4efdf\", // Light green\n    DARK: \"#2ecc71\", // Vibrant green\n  },\n  AVAILABILITY: {\n    PRIMARY: \"#2196f3\", // Blue\n    SECONDARY: \"#bbdefb\", // Light blue\n    DARK: \"#1976d2\", // Dark blue\n  },\n};\n\n/**\n * Get background and text colors for a specific security level\n */\nexport const getSecurityLevelColorPair = (\n  level: SecurityLevel\n): { bg: string; text: string } => {\n  // Check if we're in dark mode\n  const isDarkMode = document.documentElement.classList.contains(\"dark\");\n\n  const normalizedLevel = level\n    .replace(/\\s+/g, \"_\")\n    .toUpperCase() as keyof typeof SECURITY_LEVEL_COLORS.BACKGROUND;\n\n  // Use different colors based on dark mode to ensure visibility\n  const bgColor = isDarkMode\n    ? SECURITY_LEVEL_COLORS.DARK_MODE[normalizedLevel] ||\n      SECURITY_LEVEL_COLORS.DARK_MODE.NONE\n    : SECURITY_LEVEL_COLORS.BACKGROUND[normalizedLevel] ||\n      SECURITY_LEVEL_COLORS.BACKGROUND.NONE;\n\n  // For dark mode, always use white/near-white text for better visibility\n  const textColor = isDarkMode\n    ? \"#ffffff\"\n    : normalizedLevel === \"NONE\" || normalizedLevel === \"LOW\"\n    ? \"#ffffff\"\n    : \"#000000\";\n\n  return { bg: bgColor, text: textColor };\n};\n\n/**\n * Get component color scheme respecting dark mode\n */\nexport const getCIAComponentColors = (\n  component: \"CONFIDENTIALITY\" | \"INTEGRITY\" | \"AVAILABILITY\"\n): { primary: string; secondary: string } => {\n  const isDarkMode = document.documentElement.classList.contains(\"dark\");\n\n  // Return appropriate colors based on dark mode\n  return {\n    primary: isDarkMode\n      ? CIA_COMPONENT_COLORS[component].DARK\n      : CIA_COMPONENT_COLORS[component].PRIMARY,\n    secondary: isDarkMode\n      ? `${CIA_COMPONENT_COLORS[component].DARK}80` // Add transparency\n      : CIA_COMPONENT_COLORS[component].SECONDARY,\n  };\n};\n","import { useMemo } from \"react\";\nimport { getSecurityLevelColorPair } from \"../constants/colorConstants\";\nimport { CIADetails, SecurityLevel } from \"../types/cia\";\n\n/**\n * Interface defining the structure of an ROI estimate for a specific security level\n */\nexport interface ROIEstimate {\n  value: string; // Primary property name\n  returnRate: string; // Alias for backward compatibility\n  description: string;\n  potentialSavings?: string;\n  breakEvenPeriod?: string;\n  implementationCost?: string;\n}\n\n/**\n * Map of ROI estimates by security level\n */\nexport interface ROIEstimatesMap {\n  NONE: ROIEstimate;\n  LOW: ROIEstimate;\n  MODERATE: ROIEstimate;\n  HIGH: ROIEstimate;\n  VERY_HIGH: ROIEstimate;\n}\n\n/**\n * Common interface for all CIA security options to ensure consistency\n */\nexport interface EnhancedCIADetails extends CIADetails {\n  description: string;\n  technical: string;\n  businessImpact: string;\n  capex: number;\n  opex: number;\n  bg: string;\n  text: string;\n  recommendations: string[];\n  businessImpactDetails?: {\n    financialImpact?: {\n      description: string;\n      riskLevel: string;\n      annualRevenueLoss?: string;\n    };\n    operationalImpact?: {\n      description: string;\n      riskLevel: string;\n      meanTimeToRecover?: string;\n    };\n    reputationalImpact?: {\n      description: string;\n      riskLevel: string;\n    };\n    strategic?: {\n      description: string;\n      riskLevel: string;\n    };\n    regulatory?: {\n      description: string;\n      riskLevel: string;\n      complianceViolations?: string[];\n    };\n  };\n  rto?: string; // Recovery Time Objective\n  rpo?: string; // Recovery Point Objective\n  mttr?: string; // Mean Time To Recovery\n  uptime?: string; // For availability options\n  validationMethod?: string; // For integrity options\n  protectionMethod?: string; // For confidentiality options\n  implementationComplexity?: string;\n  maintenanceRequirements?: string;\n  requiredExpertise?: string;\n  controlFamily?: string[];\n  applicableFrameworks?: string[];\n  // New fields to reduce hardcoding in ciaContentService\n  businessPerspective?: string;\n  implementationSteps?: string[];\n  effort?: {\n    development: string;\n    maintenance: string;\n    expertise: string;\n  };\n  keyImpact?: string;\n  metric?: string;\n  valuePoints?: string[];\n  roiEstimate?: {\n    value: string;\n    description: string;\n  };\n  implementationConsiderations?: string;\n  securityIcon?: string;\n  complianceImpact?: {\n    frameworks: {\n      compliant: string[];\n      partiallyCompliant: string[];\n      nonCompliant: string[];\n    };\n    requirements?: string[];\n    remediationSteps?: string[];\n  };\n  codeExamples?: Array<{\n    language: string;\n    title: string;\n    code: string;\n  }>;\n  // Add technical implementation details\n  technicalImplementation?: {\n    description: string;\n    implementationSteps: string[];\n    effort: {\n      development: string;\n      maintenance: string;\n      expertise: string;\n    };\n    requirements?: string[];\n    technologies?: string[];\n  };\n}\n\n// Define all options as private internal constants\nconst _availabilityOptions: Partial<Record<SecurityLevel, EnhancedCIADetails>> =\n  {\n    None: {\n      description:\n        \"No availability measures are in place. The system is prone to frequent, unpredictable outages.\",\n      technical:\n        \"No redundancy, backup systems, monitoring, or disaster recovery procedures are implemented.\",\n      businessImpact:\n        \"Severe disruptions occur during outages, potentially resulting in revenue losses estimated at 5-10% annually under prolonged conditions.\",\n      capex: 0,\n      opex: 0,\n      bg: getSecurityLevelColorPair(\"None\" as SecurityLevel).bg,\n      text: getSecurityLevelColorPair(\"None\" as SecurityLevel).text,\n      recommendations: [\n        \"Implement basic monitoring to detect outages early\",\n        \"Establish a rudimentary backup process with periodic testing\",\n        \"Document manual recovery procedures with clear roles\",\n        \"Establish baseline uptime metrics to gauge current performance\",\n        \"Identify and prioritize critical systems for improvement\",\n      ],\n      uptime: \"<90%\",\n      businessImpactDetails: {\n        financialImpact: {\n          description:\n            \"Prolonged outages can lead to significant revenue loss, estimated at 5-10% of annual revenue.\",\n          riskLevel: \"Critical\",\n          annualRevenueLoss: \"5-10% of annual revenue\",\n        },\n        operationalImpact: {\n          description:\n            \"Operations are severely disrupted with recovery timelines that are highly unpredictable.\",\n          riskLevel: \"Critical\",\n          meanTimeToRecover: \"Unpredictable (hours to days)\",\n        },\n        regulatory: {\n          description:\n            \"Likely violates basic service agreements and regulatory requirements.\",\n          riskLevel: \"High\",\n          complianceViolations: [\"SLAs\", \"Basic industry standards\"],\n        },\n      },\n      securityIcon: \"‚ö†Ô∏è\",\n    },\n    Low: {\n      description:\n        \"Basic availability measures are present but have significant limitations, leading to extended downtime during disruptions.\",\n      technical:\n        \"Reliance on manual backup processes and limited monitoring, with basic recovery documentation.\",\n      businessImpact:\n        \"Moderate disruptions can lead to revenue losses estimated at 3-5% annually, heavily dependent on recovery speed.\",\n      capex: 5,\n      opex: 3,\n      bg: getSecurityLevelColorPair(\"Low\" as SecurityLevel).bg,\n      text: getSecurityLevelColorPair(\"Low\" as SecurityLevel).text,\n      recommendations: [\n        \"Implement scheduled backups and test recovery procedures regularly\",\n        \"Set up basic monitoring alerts for early detection\",\n        \"Document recovery processes and establish a communication protocol for outages\",\n      ],\n      uptime: \"95%\",\n      rto: \"24-48 hours\",\n      rpo: \"24 hours\",\n      mttr: \"12-24 hours\",\n      businessImpactDetails: {\n        financialImpact: {\n          description:\n            \"Revenue impact is estimated at around 3-5% annually due to extended downtimes.\",\n          riskLevel: \"High\",\n          annualRevenueLoss: \"3-5% of annual revenue\",\n        },\n        operationalImpact: {\n          description:\n            \"Business disruptions are significant and require manual intervention, leading to slower recovery.\",\n          riskLevel: \"High\",\n          meanTimeToRecover: \"12-24 hours\",\n        },\n      },\n      securityIcon: \"üîí\",\n    },\n    Moderate: {\n      description:\n        \"Standard availability measures that yield acceptable uptime with planned disaster recovery processes.\",\n      technical:\n        \"Scheduled backups, automated monitoring with alerts, documented recovery procedures, and partial redundancy for key components.\",\n      businessImpact:\n        \"Occasional disruptions are generally contained, with revenue losses estimated at 1-3% annually.\",\n      capex: 15,\n      opex: 10,\n      bg: getSecurityLevelColorPair(\"Moderate\" as SecurityLevel).bg,\n      text: getSecurityLevelColorPair(\"Moderate\" as SecurityLevel).text,\n      recommendations: [\n        \"Enhance redundancy for mission-critical systems\",\n        \"Automate backup and disaster recovery testing\",\n        \"Integrate comprehensive monitoring with defined SLAs\",\n      ],\n      uptime: \"99%\",\n      rto: \"4-8 hours\",\n      rpo: \"4 hours\",\n      mttr: \"2-4 hours\",\n      businessImpactDetails: {\n        financialImpact: {\n          description:\n            \"Revenue impact is modest, estimated at approximately 1-3% annually, assuming typical outage scenarios.\",\n          riskLevel: \"Medium\",\n          annualRevenueLoss: \"1-3% of annual revenue\",\n        },\n        operationalImpact: {\n          description:\n            \"Disruptions occur infrequently and recovery is relatively quick.\",\n          riskLevel: \"Medium\",\n          meanTimeToRecover: \"2-4 hours\",\n        },\n      },\n      securityIcon: \"üõ°Ô∏è\",\n    },\n    High: {\n      description:\n        \"Robust availability measures with high redundancy and automated recovery systems ensure near-continuous operations.\",\n      technical:\n        \"N+1 redundancy, multi-region standby systems, automated failover, comprehensive monitoring, and regular disaster recovery testing.\",\n      businessImpact:\n        \"Business continuity is well-maintained with negligible revenue impact (generally under 1%).\",\n      capex: 30,\n      opex: 20,\n      bg: getSecurityLevelColorPair(\"High\" as SecurityLevel).bg,\n      text: getSecurityLevelColorPair(\"High\" as SecurityLevel).text,\n      recommendations: [\n        \"Deploy N+1 redundancy for all critical systems\",\n        \"Implement automated failover and real-time monitoring\",\n        \"Conduct regular disaster recovery drills and define escalation procedures\",\n      ],\n      uptime: \"99.9%\",\n      rto: \"15-60 minutes\",\n      rpo: \"15 minutes\",\n      mttr: \"10-30 minutes\",\n      businessImpactDetails: {\n        financialImpact: {\n          description:\n            \"Revenue impact is minimal, generally estimated at less than 1% of annual revenue.\",\n          riskLevel: \"Low\",\n          annualRevenueLoss: \"<1% of annual revenue\",\n        },\n        operationalImpact: {\n          description:\n            \"Disruptions are rare and recovery is almost instantaneous due to automation.\",\n          riskLevel: \"Low\",\n          meanTimeToRecover: \"10-30 minutes\",\n        },\n        strategic: {\n          description:\n            \"High reliability can support market expansion and reinforces customer trust.\",\n          riskLevel: \"Low\",\n        },\n      },\n      securityIcon: \"üõ°Ô∏èüõ°Ô∏è\",\n    },\n    \"Very High\": {\n      description:\n        \"Maximum availability with continuous operations enabled by multi-region redundancy, real-time replication, and fully automated recovery.\",\n      technical:\n        \"N+2 redundancy, active-active multi-region architecture, real-time replication, and automated remediation ensure near-zero downtime.\",\n      businessImpact:\n        \"Operational continuity is nearly uninterrupted under normal conditions, with revenue impact considered negligible‚Äîthough extreme events remain a risk.\",\n      capex: 60,\n      opex: 40,\n      bg: getSecurityLevelColorPair(\"Very High\" as SecurityLevel).bg,\n      text: getSecurityLevelColorPair(\"Very High\" as SecurityLevel).text,\n      recommendations: [\n        \"Implement N+2 redundancy across all critical components\",\n        \"Deploy an active-active multi-region architecture with real-time replication\",\n        \"Establish fully automated remediation systems and 24/7 operations support\",\n        \"Conduct regular chaos engineering exercises to stress-test resilience\",\n      ],\n      uptime: \"99.99%\",\n      rto: \"<5 minutes\",\n      rpo: \"<1 minute\",\n      mttr: \"<5 minutes\",\n      businessImpactDetails: {\n        financialImpact: {\n          description:\n            \"Revenue losses due to availability issues are negligible under normal conditions.\",\n          riskLevel: \"Minimal\",\n        },\n        operationalImpact: {\n          description:\n            \"Business operations are maintained nearly continuously with rapid, automated recovery.\",\n          riskLevel: \"Minimal\",\n          meanTimeToRecover: \"<5 minutes\",\n        },\n        strategic: {\n          description:\n            \"Superior reliability offers a competitive advantage in high-demand markets.\",\n          riskLevel: \"Minimal\",\n        },\n        regulatory: {\n          description:\n            \"Exceeds stringent regulatory and SLA requirements for availability.\",\n          riskLevel: \"Minimal\",\n          complianceViolations: [],\n        },\n      },\n      securityIcon: \"üõ°Ô∏èüõ°Ô∏èüõ°Ô∏è\",\n    },\n  };\n\nconst _integrityOptions: Partial<Record<SecurityLevel, EnhancedCIADetails>> = {\n  None: {\n    description:\n      \"No integrity controls are implemented, leaving the system vulnerable to undetected data corruption.\",\n    technical:\n      \"There is no input validation, no checksums, no audit logging, and no data verification mechanisms.\",\n    businessImpact:\n      \"This lack of controls poses a critical risk to decision-making and financial reporting, potentially leading to significant operational disruptions.\",\n    capex: 0,\n    opex: 0,\n    bg: getSecurityLevelColorPair(\"None\" as SecurityLevel).bg,\n    text: getSecurityLevelColorPair(\"None\" as SecurityLevel).text,\n    recommendations: [\n      \"Implement fundamental input validation measures\",\n      \"Introduce basic application-level data checks\",\n      \"Set up rudimentary audit logs for critical transactions\",\n    ],\n    businessImpactDetails: {\n      financialImpact: {\n        description:\n          \"Financial reporting reliability is severely compromised, risking misallocation of resources.\",\n        riskLevel: \"Critical\",\n      },\n      operationalImpact: {\n        description:\n          \"Decisions based on inaccurate data can lead to cascading failures and prolonged recovery times.\",\n        riskLevel: \"Critical\",\n      },\n    },\n    validationMethod: \"None\",\n  },\n  Low: {\n    description:\n      \"Basic integrity controls are present, relying mainly on manual verification processes that are error-prone and hard to scale.\",\n    technical:\n      \"Relies on simple input validation, rudimentary access controls, and manual checksum verification without automated oversight.\",\n    businessImpact:\n      \"Data inaccuracies may occur intermittently, potentially leading to errors in financial calculations and operational inefficiencies.\",\n    capex: 5,\n    opex: 3,\n    bg: getSecurityLevelColorPair(\"Low\" as SecurityLevel).bg,\n    text: getSecurityLevelColorPair(\"Low\" as SecurityLevel).text,\n    recommendations: [\n      \"Adopt server-side validation to minimize human error\",\n      \"Introduce automated data verification where possible\",\n      \"Schedule regular manual reviews to detect anomalies\",\n    ],\n    validationMethod: \"Manual checks\",\n    businessImpactDetails: {\n      financialImpact: {\n        description:\n          \"Financial calculations might be affected by occasional errors, though the overall impact is moderate.\",\n        riskLevel: \"High\",\n      },\n      operationalImpact: {\n        description:\n          \"Manual processes may catch corruption inconsistently, leading to sporadic operational delays.\",\n        riskLevel: \"High\",\n      },\n    },\n  },\n  Moderate: {\n    description:\n      \"Standard integrity controls combine automated verification with periodic manual oversight, providing a reasonable level of assurance.\",\n    technical:\n      \"Utilizes comprehensive input validation, checksums, version control, and audit logging with a blend of automated and manual checks.\",\n    businessImpact:\n      \"Most data corruption is detected and corrected, though sophisticated attacks or subtle errors may still occur.\",\n    capex: 15,\n    opex: 10,\n    bg: getSecurityLevelColorPair(\"Moderate\" as SecurityLevel).bg,\n    text: getSecurityLevelColorPair(\"Moderate\" as SecurityLevel).text,\n    recommendations: [\n      \"Implement end-to-end automated data validation\",\n      \"Utilize database constraints and triggers to enforce integrity rules\",\n      \"Establish robust audit trails and periodic integrity reviews\",\n    ],\n    validationMethod: \"Automated validation\",\n    businessImpactDetails: {\n      financialImpact: {\n        description:\n          \"Financial data is generally reliable; however, occasional discrepancies may still impact reporting accuracy.\",\n        riskLevel: \"Medium\",\n      },\n      operationalImpact: {\n        description:\n          \"Operational disruptions are infrequent and usually resolved quickly via established audit trails.\",\n        riskLevel: \"Medium\",\n      },\n      regulatory: {\n        description:\n          \"Controls meet basic regulatory standards, though they might fall short of stricter compliance requirements.\",\n        riskLevel: \"Medium\",\n      },\n    },\n  },\n  High: {\n    description:\n      \"Advanced integrity controls employing cryptographic techniques provide strong data assurance, albeit with increased complexity and cost.\",\n    technical:\n      \"Incorporates digital signatures, hash verifications, and tamper-resistant audit logs to secure data integrity.\",\n    businessImpact:\n      \"Data integrity is strongly maintained, reducing risks in financial and operational decision-making, but the high investment may limit broader scalability.\",\n    capex: 30,\n    opex: 20,\n    bg: getSecurityLevelColorPair(\"High\" as SecurityLevel).bg,\n    text: getSecurityLevelColorPair(\"High\" as SecurityLevel).text,\n    recommendations: [\n      \"Deploy digital signatures for high-risk data entries\",\n      \"Implement cryptographic hash validations for data immutability\",\n      \"Establish immutable audit logging mechanisms\",\n    ],\n    validationMethod: \"Cryptographic verification\",\n    businessImpactDetails: {\n      financialImpact: {\n        description:\n          \"High confidence in financial data minimizes the risk of significant misreporting.\",\n        riskLevel: \"Low\",\n      },\n      operationalImpact: {\n        description:\n          \"Robust change tracking enables timely detection and correction of data errors.\",\n        riskLevel: \"Low\",\n      },\n      regulatory: {\n        description:\n          \"These controls typically exceed many regulatory requirements, providing a strong compliance posture.\",\n        riskLevel: \"Low\",\n      },\n    },\n  },\n  \"Very High\": {\n    description:\n      \"State-of-the-art integrity controls leveraging distributed ledger technologies provide near-absolute data assurance, though they introduce significant complexity and cost.\",\n    technical:\n      \"Employs multi-party verification, blockchain-based ledgers, and zero-knowledge proofs to ensure immutable audit trails.\",\n    businessImpact:\n      \"Data integrity is virtually guaranteed, which is critical for high-stakes regulatory and financial environments, but the substantial investment and complexity may not be justifiable for all organizations.\",\n    capex: 60,\n    opex: 40,\n    bg: getSecurityLevelColorPair(\"Very High\" as SecurityLevel).bg,\n    text: getSecurityLevelColorPair(\"Very High\" as SecurityLevel).text,\n    recommendations: [\n      \"Explore blockchain or distributed ledger solutions for critical data\",\n      \"Deploy multi-party verification systems to enhance auditability\",\n      \"Investigate zero-knowledge proofs to verify data integrity without compromising confidentiality\",\n    ],\n    validationMethod: \"Blockchain/distributed ledger\",\n    businessImpactDetails: {\n      financialImpact: {\n        description:\n          \"Ensures exceptional reliability of financial data, enabling precise reporting in regulated sectors.\",\n        riskLevel: \"Minimal\",\n      },\n      operationalImpact: {\n        description:\n          \"Data integrity is nearly absolute, reducing operational risk to an absolute minimum, despite high system complexity.\",\n        riskLevel: \"Minimal\",\n      },\n      strategic: {\n        description:\n          \"Supports organizations in highly regulated or high-stakes markets; however, the cost and complexity may outweigh benefits for most.\",\n        riskLevel: \"Minimal\",\n      },\n    },\n  },\n};\n\n// Create full confidentiality options with all levels\nconst _confidentialityOptions: Partial<\n  Record<SecurityLevel, EnhancedCIADetails>\n> = {\n  None: {\n    description:\n      \"No confidentiality controls are implemented, leaving sensitive information fully exposed to any user with system access.\",\n    technical:\n      \"There are no access controls, no encryption measures, and no data classification processes.\",\n    businessImpact:\n      \"This exposes the organization to severe reputational damage and regulatory non-compliance, with potential legal penalties if sensitive data is compromised.\",\n    capex: 0,\n    opex: 0,\n    bg: getSecurityLevelColorPair(\"None\" as SecurityLevel).bg,\n    text: getSecurityLevelColorPair(\"None\" as SecurityLevel).text,\n    recommendations: [\n      \"Implement basic authentication mechanisms\",\n      \"Introduce simple authorization controls\",\n      \"Establish a rudimentary data classification scheme\",\n    ],\n    protectionMethod: \"None\",\n    businessImpactDetails: {\n      reputationalImpact: {\n        description:\n          \"Without confidentiality controls, sensitive information can be accessed by unauthorized parties, severely damaging customer trust and brand reputation.\",\n        riskLevel: \"Critical\",\n      },\n      regulatory: {\n        description:\n          \"Non-compliance with data protection regulations is highly likely, potentially resulting in fines and legal action.\",\n        riskLevel: \"Critical\",\n        complianceViolations: [\"GDPR\", \"CCPA\", \"HIPAA\", \"PCI-DSS\"],\n      },\n    },\n  },\n  Low: {\n    description:\n      \"Basic confidentiality measures are in place but provide only minimal protection against unauthorized access.\",\n    technical:\n      \"Relies on password protection, basic role-based access controls, and minimal encryption.\",\n    businessImpact:\n      \"Sensitive data is somewhat protected, but the risk of exposure remains high, potentially leading to moderate reputational harm and regulatory challenges.\",\n    capex: 5,\n    opex: 3,\n    bg: getSecurityLevelColorPair(\"Low\" as SecurityLevel).bg,\n    text: getSecurityLevelColorPair(\"Low\" as SecurityLevel).text,\n    recommendations: [\n      \"Upgrade to a robust authentication system\",\n      \"Implement comprehensive role-based access controls\",\n      \"Enforce TLS/SSL for all data in transit\",\n    ],\n    protectionMethod: \"Basic access control\",\n    businessImpactDetails: {\n      reputationalImpact: {\n        description:\n          \"Exposure of sensitive data is possible, which could lead to moderate damage to the organization‚Äôs reputation if an incident occurs.\",\n        riskLevel: \"High\",\n      },\n      regulatory: {\n        description:\n          \"Existing measures may not fully satisfy privacy regulations, leading to potential fines or legal scrutiny.\",\n        riskLevel: \"High\",\n      },\n    },\n  },\n  Moderate: {\n    description:\n      \"Standard confidentiality measures provide a reasonable level of protection for sensitive information under typical threat scenarios.\",\n    technical:\n      \"Utilizes strong authentication, role-based access control, and encryption both at rest and in transit.\",\n    businessImpact:\n      \"Most unauthorized access attempts are thwarted, reducing the risk of data breaches. However, sophisticated threats might still pose a risk, leading to moderate operational and reputational impacts.\",\n    capex: 15,\n    opex: 10,\n    bg: getSecurityLevelColorPair(\"Moderate\" as SecurityLevel).bg,\n    text: getSecurityLevelColorPair(\"Moderate\" as SecurityLevel).text,\n    recommendations: [\n      \"Implement robust encryption for data both at rest and in transit\",\n      \"Regularly review and update access controls\",\n      \"Establish continuous monitoring and auditing of data access\",\n    ],\n    protectionMethod: \"Standard encryption\",\n    businessImpactDetails: {\n      reputationalImpact: {\n        description:\n          \"Sensitive data is largely protected, mitigating the risk of reputational damage in the event of an incident.\",\n        riskLevel: \"Medium\",\n      },\n      regulatory: {\n        description:\n          \"Generally meets standard data protection requirements, though vulnerabilities may remain against highly sophisticated attacks.\",\n        riskLevel: \"Medium\",\n      },\n    },\n  },\n  High: {\n    description:\n      \"Advanced confidentiality measures provide strong protection against unauthorized access to sensitive information.\",\n    technical:\n      \"Employs multi-factor authentication, robust encryption, fine-grained access controls, and continuous security monitoring.\",\n    businessImpact:\n      \"Significantly reduces the risk of data breaches, thereby minimizing reputational damage and ensuring compliance with stringent regulatory standards.\",\n    capex: 30,\n    opex: 20,\n    bg: getSecurityLevelColorPair(\"High\" as SecurityLevel).bg,\n    text: getSecurityLevelColorPair(\"High\" as SecurityLevel).text,\n    recommendations: [\n      \"Deploy multi-factor authentication across all user access points\",\n      \"Implement end-to-end encryption and conduct regular security audits\",\n      \"Establish comprehensive monitoring of data access and activity\",\n    ],\n    protectionMethod: \"E2E encryption\",\n    businessImpactDetails: {\n      reputationalImpact: {\n        description:\n          \"High-level measures substantially reduce the risk of sensitive data exposure, protecting the organization‚Äôs reputation.\",\n        riskLevel: \"Low\",\n      },\n      regulatory: {\n        description:\n          \"Measures meet or exceed many regulatory requirements, thereby reducing legal risks.\",\n        riskLevel: \"Low\",\n      },\n    },\n  },\n  \"Very High\": {\n    description:\n      \"Maximum confidentiality measures are implemented for protecting highly sensitive or classified information.\",\n    technical:\n      \"Uses advanced encryption standards, hardware security modules, strict access controls, and a zero-trust architecture with continuous monitoring.\",\n    businessImpact:\n      \"Provides best-in-class protection, virtually eliminating the risk of unauthorized data access. However, the high cost and system complexity may not be justifiable for all organizations.\",\n    capex: 60,\n    opex: 40,\n    bg: getSecurityLevelColorPair(\"Very High\" as SecurityLevel).bg,\n    text: getSecurityLevelColorPair(\"Very High\" as SecurityLevel).text,\n    recommendations: [\n      \"Implement quantum-resistant encryption algorithms\",\n      \"Deploy hardware security modules for critical data repositories\",\n      \"Adopt a zero-trust architecture to continuously validate access\",\n    ],\n    protectionMethod: \"Military-grade encryption\",\n    businessImpactDetails: {\n      reputationalImpact: {\n        description:\n          \"Provides near-absolute protection of sensitive data, virtually eliminating the risk of reputational damage.\",\n        riskLevel: \"Minimal\",\n      },\n      strategic: {\n        description:\n          \"Enables secure handling of top-secret or highly regulated information, although the high investment and complexity require careful justification.\",\n        riskLevel: \"Minimal\",\n      },\n    },\n  },\n};\n\n// ROI estimates with refined, more pessimistic values and revised descriptions\nconst _ROI_ESTIMATES: ROIEstimatesMap = {\n  NONE: {\n    value: \"0%\",\n    returnRate: \"0%\", // Retained for backward compatibility\n    description:\n      \"No security investment yields no cost avoidance, leaving the firm fully exposed.\",\n    potentialSavings: \"$0\",\n    breakEvenPeriod: \"N/A\",\n  },\n  LOW: {\n    value: \"0-10%\",\n    returnRate: \"0-10%\", // Retained for backward compatibility\n    description:\n      \"Minimal investment yields negligible benefits; returns are marginal and highly context-dependent.\",\n    potentialSavings: \"$0.5K-$2K (contextual)\",\n    breakEvenPeriod: \"30-36 months\",\n  },\n  MODERATE: {\n    value: \"10-20%\",\n    returnRate: \"10-20%\", // Retained for backward compatibility\n    description:\n      \"Standard investments offer modest risk reduction with benefits that vary by environment.\",\n    potentialSavings: \"$2K-$10K (contextual)\",\n    breakEvenPeriod: \"24-30 months\",\n  },\n  HIGH: {\n    value: \"20-30%\",\n    returnRate: \"20-30%\", // Retained for backward compatibility\n    description:\n      \"Advanced measures improve protection, though realized returns may be lower than expected.\",\n    potentialSavings: \"$10K-$30K (contextual)\",\n    breakEvenPeriod: \"18-24 months\",\n  },\n  VERY_HIGH: {\n    value: \"30-50%\",\n    returnRate: \"30-50%\", // Retained for backward compatibility\n    description:\n      \"Premium investments aim for robust risk management but may not fully justify the high cost in less favorable contexts.\",\n    potentialSavings: \"$30K-$70K (contextual)\",\n    breakEvenPeriod: \"12-18 months\",\n    implementationCost: \"High initial investment with variable returns\",\n  },\n};\n\n// Expose constants for external use - avoiding duplicate exports\nexport const availabilityOptions = _availabilityOptions;\nexport const integrityOptions = _integrityOptions;\nexport const confidentialityOptions = _confidentialityOptions;\nexport const ROI_ESTIMATES = _ROI_ESTIMATES;\n\n/**\n * Custom hook for accessing CIA security options with memoization\n */\nexport function useCIAOptions() {\n  // Memoize individual objects to prevent unnecessary re-renders\n  const availabilityOpts = useMemo(() => _availabilityOptions, []);\n  const integrityOpts = useMemo(() => _integrityOptions, []);\n  const confidentialityOpts = useMemo(() => _confidentialityOptions, []);\n  const roiEstimates = useMemo(() => _ROI_ESTIMATES, []);\n\n  // Memoize the combined object to prevent re-renders when hook is used\n  return useMemo(\n    () => ({\n      availabilityOptions: availabilityOpts,\n      integrityOptions: integrityOpts,\n      confidentialityOptions: confidentialityOpts,\n      ROI_ESTIMATES: roiEstimates,\n    }),\n    [availabilityOpts, integrityOpts, confidentialityOpts, roiEstimates]\n  );\n}\n\n// Export CIADetails for backward compatibility\nexport type { CIADetails } from \"../types/cia\";\n","/**\n * Constants for risk levels used throughout the application\n */\nexport const RISK_LEVELS = {\n  CRITICAL: \"Critical Risk\",\n  HIGH: \"High Risk\",\n  MEDIUM: \"Medium Risk\",\n  LOW: \"Low Risk\",\n  MINIMAL: \"Minimal Risk\",\n  UNKNOWN: \"Unknown Risk\",\n} as const;\n\nexport type RiskLevel = (typeof RISK_LEVELS)[keyof typeof RISK_LEVELS];\n\n/**\n * Gets risk level based on security level\n * @param securityLevel - The security level\n * @returns The corresponding risk level\n */\nexport function getRiskLevelFromSecurityLevel(\n  securityLevel: string\n): RiskLevel {\n  switch (securityLevel) {\n    case \"None\":\n      return RISK_LEVELS.CRITICAL;\n    case \"Low\":\n      return RISK_LEVELS.HIGH;\n    case \"Moderate\":\n      return RISK_LEVELS.MEDIUM;\n    case \"High\":\n      return RISK_LEVELS.LOW;\n    case \"Very High\":\n      return RISK_LEVELS.MINIMAL;\n    default:\n      return RISK_LEVELS.UNKNOWN;\n  }\n}\n\n// Business impact categories\nexport const BUSINESS_IMPACT_CATEGORIES = {\n  FINANCIAL: \"financial\",\n  OPERATIONAL: \"operational\",\n  REPUTATIONAL: \"reputational\",\n  REGULATORY: \"regulatory\",\n  STRATEGIC: \"strategic\",\n};\n","// App constants used by both components and tests\n// Centralized to avoid duplication and make tests more stable\n\n// Import from the shared risk constants file\nimport { CIADetails, SecurityLevel } from \"../types/cia\"; // Import SecurityLevel\nimport { BUSINESS_IMPACT_CATEGORIES, RISK_LEVELS } from \"./riskConstants\";\n// Import the UI constants for backward compatibility\nimport { BUSINESS_IMPACT_ICONS, SECURITY_LEVEL_COLORS } from \"./uiConstants\";\n\n// Re-export UI constants for backward compatibility, except WIDGET_ICONS\nexport { BUSINESS_IMPACT_ICONS, SECURITY_LEVEL_COLORS };\n\n// SecurityLevelMap type for cleaner lookups\nexport type SecurityLevelKey =\n  | \"NONE\"\n  | \"LOW\"\n  | \"MODERATE\"\n  | \"HIGH\"\n  | \"VERY_HIGH\";\nexport type SecurityLevelMap<T> = Record<SecurityLevelKey, T>;\n\n/**\n * Maps CIA option values to constants with consistent naming (NONE, LOW, etc.)\n * Modified version to avoid circular dependencies\n */\nexport const mapOptionsToConstants = <\n  T extends keyof CIADetails,\n  R = CIADetails[T]\n>(\n  options: Record<string, CIADetails>,\n  key: T,\n  transform?: (value: CIADetails[T], level: string) => R\n) => {\n  if (!options) {\n    return {\n      NONE: undefined,\n      LOW: undefined,\n      MODERATE: undefined,\n      HIGH: undefined,\n      VERY_HIGH: undefined,\n    };\n  }\n\n  return {\n    NONE:\n      options.None &&\n      (transform ? transform(options.None[key], \"None\") : options.None[key]),\n    LOW:\n      options.Low &&\n      (transform ? transform(options.Low[key], \"Low\") : options.Low[key]),\n    MODERATE:\n      options.Moderate &&\n      (transform\n        ? transform(options.Moderate[key], \"Moderate\")\n        : options.Moderate[key]),\n    HIGH:\n      options.High &&\n      (transform ? transform(options.High[key], \"High\") : options.High[key]),\n    VERY_HIGH:\n      options[\"Very High\"] &&\n      (transform\n        ? transform(options[\"Very High\"][key], \"Very High\")\n        : options[\"Very High\"][key]),\n  };\n};\n\n// Export the risk levels and business impact categories from here as well for consistency\nexport { BUSINESS_IMPACT_CATEGORIES, RISK_LEVELS };\n\n/**\n * Creates a matcher function for testing that checks if text appears in an element with a specific class\n *\n * @param text Text to look for\n * @param className CSS class the element should have\n * @returns A function that returns true if the element matches both conditions\n */\nexport const getTextElementMatcher = (text: string, className: string) => {\n  return (content: string, element: Element) =>\n    element.className.includes(className) &&\n    content.includes(getPartialTextMatcher(text));\n};\n\n// Exported test helpers - making it easy to do partial matches in tests\nexport const getPartialTextMatcher = (text: string, length = 15) => {\n  return text.substring(0, Math.min(text.length, length));\n};\n\n// Helper to create a RegExp from a constant for more robust test matching\nexport const createRegexMatcher = (text: string) => {\n  // Escape special regex characters and return a case-insensitive regex\n  const escaped = text.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n  return new RegExp(escaped, \"i\");\n};\n\n// Helper for matching partial content in value descriptions\nexport const createValuePointMatcher = (point: string) => {\n  // Split the point into words and take first 2-3 to make a more robust matcher\n  const words = point.split(\" \").slice(0, 3).join(\"\\\\s+\");\n  return new RegExp(words, \"i\");\n};\n\n// Update the type of SECURITY_LEVELS to use the imported SecurityLevel\nexport const SECURITY_LEVELS: Record<SecurityLevelKey, SecurityLevel> = {\n  NONE: \"None\",\n  LOW: \"Low\",\n  MODERATE: \"Moderate\",\n  HIGH: \"High\",\n  VERY_HIGH: \"Very High\",\n};\n\n// CIA Component Labels\nexport const CIA_LABELS = {\n  AVAILABILITY: \"Availability\",\n  INTEGRITY: \"Integrity\",\n  CONFIDENTIALITY: \"Confidentiality\",\n};\n\n// CIA component icons\nexport const CIA_COMPONENT_ICONS = {\n  CONFIDENTIALITY: \"üîí\",\n  INTEGRITY: \"üîê\",\n  AVAILABILITY: \"‚è±Ô∏è\",\n};\n\n// CIA tooltip descriptions for better user understanding\nexport const CIA_DESCRIPTIONS = {\n  CONFIDENTIALITY: \"Controls who can access your data and systems\",\n  INTEGRITY: \"Ensures data remains accurate and unaltered\",\n  AVAILABILITY: \"Determines how reliably your systems can be accessed\",\n};\n\n// Compliance Status Text\nexport const COMPLIANCE_STATUS = {\n  NON_COMPLIANT: \"Non-Compliant\",\n  BASIC_COMPLIANCE: \"Meets basic compliance only\",\n  STANDARD_COMPLIANCE: \"Compliant with standard frameworks\",\n  FULL_COMPLIANCE: \"Compliant with all major frameworks\",\n};\n\n// Status Icons\nexport const UI_ICONS = {\n  // Compliance icons\n  NON_COMPLIANT: \"‚ùå\",\n  BASIC_COMPLIANCE: \"‚ö†Ô∏è\",\n  STANDARD_COMPLIANCE: \"‚úì\",\n  FULL_COMPLIANCE: \"‚úÖ\",\n\n  // Security level icons\n  SECURITY_NONE: \"‚ö†Ô∏è\",\n  SECURITY_LOW: \"üîì\",\n  SECURITY_MODERATE: \"üîê\",\n  SECURITY_HIGH: \"üõ°Ô∏è\",\n  SECURITY_VERY_HIGH: \"üîí\",\n};\n\n// Security Summary Titles - derived from security levels\nexport const SECURITY_SUMMARY_TITLES = {\n  NONE: `${SECURITY_LEVELS.NONE} Security`,\n  LOW: `${SECURITY_LEVELS.LOW} Security`,\n  MODERATE: `${SECURITY_LEVELS.MODERATE} Security`,\n  HIGH: `${SECURITY_LEVELS.HIGH} Security`,\n  VERY_HIGH: `${SECURITY_LEVELS.VERY_HIGH} Security`,\n};\n\n// Security recommendations for each level\nexport const SECURITY_RECOMMENDATIONS = {\n  NONE: \"Not recommended for any production system. Implement basic security controls immediately.\",\n  LOW: \"Only appropriate for non-critical systems with public information.\",\n  MODERATE:\n    \"Suitable for internal business systems with some regulatory requirements.\",\n  HIGH: \"Appropriate for systems handling sensitive customer data or financial information.\",\n  VERY_HIGH:\n    \"Suitable for mission-critical systems handling top secret information.\",\n  BASIC: \"Only appropriate for non-critical systems with public information.\",\n};\n\n// Framework descriptions\nexport const FRAMEWORK_DESCRIPTIONS = {\n  SOC2: \"Requires basic security controls across CIA triad\",\n  ISO27001: \"Requires moderate security controls and management system\",\n  PCI_DSS: \"Emphasis on strong confidentiality controls\",\n  HIPAA: \"Requires protection of healthcare information\",\n  NIST: \"High security controls for federal information systems\",\n};\n\n// Security Descriptions - direct hardcoded values to maintain test compatibility\nexport const SECURITY_DESCRIPTIONS = {\n  NONE: \"No security controls implemented.\",\n  LOW: \"Basic protection with minimal controls and manual processes.\",\n  MODERATE:\n    \"Balanced protection with automated recovery, validation checks, and standard encryption.\",\n  HIGH: \"Robust protection with minimal single points of failure, blockchain validation, and strong encryption.\",\n  VERY_HIGH:\n    \"Maximum protection with quantum-safe encryption, multi-site redundancy, and real-time validation.\",\n};\n\n// Technical descriptions - for more detailed tooltips - using the helper function\nexport const TECHNICAL_DESCRIPTIONS = {\n  // Placeholder that will be populated by the actual components\n  AVAILABILITY: {} as Record<SecurityLevelKey, string>,\n  INTEGRITY: {} as Record<SecurityLevelKey, string>,\n  CONFIDENTIALITY: {} as Record<SecurityLevelKey, string>,\n};\n\n// Impact Analysis Descriptions using enhanced helper\nexport const IMPACT_DESCRIPTIONS = {\n  // Placeholder that will be populated by the actual components\n  AVAILABILITY: {} as Record<SecurityLevelKey, string>,\n  INTEGRITY: {} as Record<SecurityLevelKey, string>,\n  CONFIDENTIALITY: {} as Record<SecurityLevelKey, string>,\n};\n\n// Business Impact - using the helper\nexport const BUSINESS_IMPACTS = {\n  // Placeholder that will be populated by the actual components\n  AVAILABILITY: {} as Record<SecurityLevelKey, string>,\n  INTEGRITY: {} as Record<SecurityLevelKey, string>,\n  CONFIDENTIALITY: {} as Record<SecurityLevelKey, string>,\n};\n\n// Value Creation Points\nexport const VALUE_CREATION_POINTS: Partial<Record<SecurityLevel, string[]>> = {\n  None: [\"Minimal security baseline\"],\n  Low: [\"Basic security protection\"],\n  Moderate: [\"Demonstrates security diligence\"],\n  High: [\"Enables expansion into regulated markets\"],\n  \"Very High\": [\"Enables participation in classified\"],\n};\n\n// Detailed value creation points by security level\nexport const DETAILED_VALUE_POINTS = {\n  NONE: [\n    \"No value creation from security perspective\",\n    \"High risk of security incidents with significant business impact\",\n    \"Limited ability to participate in business relationships requiring security\",\n    \"Potential regulatory issues in many industries\",\n  ],\n  LOW: [\n    \"Minimal upfront costs allow budget allocation elsewhere\",\n    \"Appropriate for public data and low-impact internal systems\",\n    \"Provides basic protection against common threats\",\n    \"Simple implementation with minimal maintenance overhead\",\n  ],\n  MODERATE: [\n    \"Reduces operational disruptions by 80% compared to Basic level\",\n    \"Prevents common security incidents affecting quarterly performance\",\n    \"Provides competitive advantage over businesses with sub-standard security\",\n    \"Meets requirements for standard business relationships\",\n  ],\n  HIGH: [\n    \"Provides assurance to high-value customers with stringent requirements\",\n    \"Reduces insurance premiums through demonstrated security\",\n    \"Minimizes breach-related costs (avg. $4.45M per incident)\",\n    \"Supports premium service offerings where security is a differentiator\",\n  ],\n  VERY_HIGH: [\n    \"Protects irreplaceable intellectual property worth billions\",\n    \"Creates long-term trust with stakeholders including governments\",\n    \"Provides resilience against catastrophic events\",\n    \"Supports premium pricing models based on security guarantees\",\n  ],\n};\n\n// ROI Estimates - consistent format across all values\nexport const ROI_ESTIMATES = {\n  NONE: \"Negative (high risk of losses)\",\n  LOW: \"1-2x for basic security implementation\",\n  MODERATE: \"2-3x with moderate security\",\n  HIGH: \"3-5x with high security\",\n  VERY_HIGH: \"5x+ with very high security\",\n\n  // Also include structured data for component use\n  NONE_OBJ: {\n    returnRate: \"0%\",\n    description: \"No security investment means no return\",\n  },\n  LOW_OBJ: {\n    returnRate: \"120%\",\n    description: \"Basic security measures provide minimal protection\",\n  },\n  MODERATE_OBJ: {\n    returnRate: \"200%\",\n    description: \"Standard security provides good cost-benefit balance\",\n  },\n  HIGH_OBJ: {\n    returnRate: \"350%\",\n    description: \"Advanced security provides significant protection\",\n  },\n  VERY_HIGH_OBJ: {\n    returnRate: \"450%\",\n    description: \"Maximum security provides optimal protection\",\n  },\n};\n\n// Cost Analysis Messages\nexport const COST_ANALYSIS = {\n  SMALL_SOLUTION:\n    \"Basic security implementation with minimal investment. Suitable for small businesses or non-critical systems.\",\n  LARGE_SOLUTION:\n    \"Comprehensive security solution requiring significant investment. Recommended for critical systems or regulated industries.\",\n};\n\n// Framework names\nexport const COMPLIANCE_FRAMEWORKS = {\n  SOC2: \"SOC 2\", // Change if needed to match what the component uses\n  ISO27001: \"ISO 27001\",\n  PCI_DSS: \"PCI DSS\",\n  HIPAA: \"HIPAA\",\n  NIST: \"NIST 800-53 High\",\n};\n\n// Additional constants for specific UI components (previously in testConstants)\nexport const DISPLAY_FORMAT = {\n  CURRENCY_PREFIX: \"$\",\n  PERCENTAGE_SUFFIX: \"%\",\n  DECIMAL_PLACES: 2,\n};\n\n// UI Text constants - centralized text for all UI elements\nexport const UI_TEXT = {\n  // Common UI labels\n  LABELS: {\n    BUSINESS_IMPACT: \"Business Impact:\",\n    RECOMMENDATION: \"Recommendation:\",\n    ESTIMATED_COST: \"Estimated Implementation Cost\",\n    CAPEX: \"CAPEX:\",\n    OPEX: \"OPEX:\",\n    COST_ANALYSIS: \"Cost Analysis\",\n    BUSINESS_VALUE: \"Business value derived from this security profile:\",\n    ESTIMATED_ROI: \"Estimated ROI:\",\n    SECURITY_PROFILE: \"Security Profile\",\n    CURRENT_PROFILE: \"Current Profile\",\n    AVAILABILITY: \"Availability\",\n    INTEGRITY: \"Integrity\",\n    CONFIDENTIALITY: \"Confidentiality\",\n  },\n\n  // Widget titles\n  WIDGET_TITLES: {\n    SECURITY_LEVEL: \"Security Profile Configuration\",\n    SECURITY_SUMMARY: \"Security Summary\",\n    RADAR_CHART: \"Security Radar\",\n    COST_ESTIMATION: \"Cost Estimation\",\n    COMPLIANCE_STATUS: \"Compliance Status\",\n    VALUE_CREATION: \"Value Creation\",\n    IMPACT_ANALYSIS: \"Impact Analysis\",\n    SECURITY_PROFILE: \"CIA Security Profile\",\n    SECURITY_RESOURCES: \"Security Resources\",\n  },\n\n  // Budget related text\n  BUDGET: {\n    IT_BUDGET_CAPEX: \"of IT budget as one-time capital expenditure\",\n    IT_BUDGET_OPEX: \"of IT budget as annual operational expenses\",\n  },\n\n  // Security measures\n  SECURITY_MEASURES: {\n    AVAILABILITY: \"Availability\",\n    INTEGRITY: \"Integrity\",\n    CONFIDENTIALITY: \"Confidentiality\",\n  },\n\n  // Chart labels\n  CHART: {\n    LABEL_SECURITY_LEVELS: \"Security Levels\",\n    TITLE_SECURITY_PROFILE: \"Security Profile\",\n  },\n\n  // Value creation titles\n  VALUE_CREATION: {\n    NONE_TITLE: \"No Value Creation\",\n    WITH_LEVEL: (level: string) => `${level} Value Creation`,\n  },\n\n  // App title\n  APP_TITLE: \"CIA Compliance Manager Dashboard\",\n};\n\n// Test specific matchers for use in testing UI elements\nexport const TEST_MATCHERS = {\n  COMPLIANCE_FRAMEWORKS_REGEX: new RegExp(\n    Object.values(COMPLIANCE_FRAMEWORKS).join(\"|\")\n  ),\n  UPTIME_PATTERN: /\\d+\\.?\\d*%\\s+uptime/i,\n  DOWNTIME_PATTERN: /downtime/i,\n  // Add matchers for security descriptions\n  SECURITY_NONE_PATTERN: new RegExp(SECURITY_DESCRIPTIONS.NONE),\n  SECURITY_LOW_PATTERN: new RegExp(SECURITY_DESCRIPTIONS.LOW),\n  SECURITY_MODERATE_PATTERN: new RegExp(SECURITY_DESCRIPTIONS.MODERATE),\n  SECURITY_HIGH_PATTERN: new RegExp(SECURITY_DESCRIPTIONS.HIGH),\n  SECURITY_VERY_HIGH_PATTERN: new RegExp(SECURITY_DESCRIPTIONS.VERY_HIGH),\n};\n\n// Add for test data:\nexport const TEST_DATA = {\n  WIDGET: {\n    TITLE: \"Test Widget\",\n    CONTENT: \"Widget content\",\n    CUSTOM_CLASS: \"test-class\",\n  },\n  MOCK_DESCRIPTIONS: {\n    AVAILABILITY: \"Custom availability description\",\n    INTEGRITY: \"Custom integrity description\",\n    CONFIDENTIALITY: \"Custom confidentiality description\",\n  },\n  MOCK_OPTIONS: {\n    BASE: {\n      description: \"None\",\n      impact: \"None\",\n      technical: \"None\",\n      capex: 0,\n      opex: 0,\n      bg: \"#ffffff\",\n      text: \"#000000\",\n    },\n    LOW: {\n      description: \"Low\",\n      impact: \"Low\",\n      technical: \"Low\",\n      capex: 5,\n      opex: 5,\n      bg: \"#ffffff\",\n      text: \"#000000\",\n    },\n  },\n};\n\n// Add to the constants file\nexport const IMPLEMENTATION_COSTS: {\n  [key: string]: {\n    developmentEffort: string;\n    maintenance: string;\n    expertise: string;\n  };\n} = {\n  None: {\n    developmentEffort: \"Minimal\",\n    maintenance: \"None\",\n    expertise: \"Basic\",\n  },\n  Low: {\n    developmentEffort: \"Days\",\n    maintenance: \"Monthly checks\",\n    expertise: \"Junior\",\n  },\n  Moderate: {\n    developmentEffort: \"Weeks\",\n    maintenance: \"Weekly checks\",\n    expertise: \"Mid-level\",\n  },\n  High: {\n    developmentEffort: \"1-2 Months\",\n    maintenance: \"Daily monitoring\",\n    expertise: \"Senior\",\n  },\n  \"Very High\": {\n    developmentEffort: \"2-6 Months\",\n    maintenance: \"Continuous monitoring\",\n    expertise: \"Expert\",\n  },\n};\n\nexport const WIDGET_ICONS = {\n  SECURITY_LEVEL: \"üõ°Ô∏è\",\n  SECURITY_SUMMARY: \"üìä\",\n  SECURITY_VISUALIZATION: \"üìà\",\n  COMPLIANCE_STATUS: \"‚úÖ\",\n  VALUE_CREATION: \"üíπ\",\n  COST_ESTIMATION: \"üí∞\",\n  BUSINESS_IMPACT: \"üè¢\",\n  TECHNICAL_IMPLEMENTATION: \"‚öôÔ∏è\",\n  AVAILABILITY_IMPACT: \"‚è±Ô∏è\",\n  INTEGRITY_IMPACT: \"üîê\",\n  CONFIDENTIALITY_IMPACT: \"üîí\",\n  SECURITY_RESOURCES: \"üìö\",\n};\n\nexport const RISK_LEVEL_DESCRIPTIONS = {\n  CRITICAL:\n    \"Significant vulnerabilities present that require immediate attention. Extremely high likelihood of security incidents with severe business impact.\",\n  HIGH: \"Major security deficiencies exist that should be addressed urgently. High likelihood of security incidents with substantial business impact.\",\n  MEDIUM:\n    \"Some security gaps exist that should be addressed as part of regular improvement cycles. Moderate likelihood of security incidents.\",\n  LOW: \"Minor security improvements could be beneficial. Low likelihood of security incidents with limited business impact.\",\n  MINIMAL:\n    \"Strong security posture with only marginal improvement opportunities. Very low likelihood of security incidents.\",\n};\n","/**\n * Centralized Test ID constants for component selection in tests\n */\n\nimport { SecurityLevel } from \"../types/cia\"; // Updated import from .tsx to .ts\nimport { VALUE_CREATION_POINTS } from \"./appConstants\";\n\n// Add this function near the top of the file to make it easier to create compound testIds\nexport const createCompoundTestId = (prefix: string, suffix: string): string =>\n  `${prefix}-${suffix}`;\n\n// Add the missing createContextualTestId function\nexport const createContextualTestId = (\n  componentPrefix: string,\n  elementId: string\n): string => {\n  return `${componentPrefix}-${elementId}`;\n};\n\n// Add these mappings to help make testIds more unique and consistent\nexport const WIDGET_PREFIXES = {\n  SECURITY_PROFILE: \"widget-security-level\",\n  COST_ESTIMATION: \"widget-cost-estimation\",\n  BUSINESS_IMPACT: \"widget-business-impact\",\n  COMPLIANCE_STATUS: \"widget-compliance-status\",\n  RADAR_CHART: \"widget-radar-chart\",\n  VALUE_CREATION: \"widget-value-creation\",\n  SECURITY_SUMMARY: \"widget-security-summary\",\n  TECHNICAL_DETAILS: \"widget-technical-details\",\n};\n\n// CIA Component TestIDs - KEEP ORIGINAL VALUES FOR BACKWARD COMPATIBILITY\nexport const CIA_TEST_IDS = {\n  // Select dropdown elements\n  AVAILABILITY_SELECT: \"availability-selector\",\n  INTEGRITY_SELECT: \"integrity-selector\",\n  CONFIDENTIALITY_SELECT: \"confidentiality-selector\",\n\n  // Labels and descriptions\n  AVAILABILITY_LABEL: \"availability-label\",\n  INTEGRITY_LABEL: \"integrity-label\",\n  CONFIDENTIALITY_LABEL: \"confidentiality-label\",\n  AVAILABILITY_DESCRIPTION: \"availability-description\",\n  INTEGRITY_DESCRIPTION: \"integrity-description\",\n  CONFIDENTIALITY_DESCRIPTION: \"confidentiality-description\",\n\n  // Description text elements\n  AVAILABILITY_DESCRIPTION_TEXT: \"availability-description-text\",\n  INTEGRITY_DESCRIPTION_TEXT: \"integrity-description-text\",\n  CONFIDENTIALITY_DESCRIPTION_TEXT: \"confidentiality-description-text\",\n\n  // Sections and indicators\n  AVAILABILITY_SECTION: \"availability-section\",\n  INTEGRITY_SECTION: \"integrity-section\",\n  CONFIDENTIALITY_SECTION: \"confidentiality-section\",\n  AVAILABILITY_LEVEL_INDICATOR: \"availability-level-indicator\",\n  INTEGRITY_LEVEL_INDICATOR: \"integrity-level-indicator\",\n  CONFIDENTIALITY_LEVEL_INDICATOR: \"confidentiality-level-indicator\",\n\n  // Selected level indicators\n  AVAILABILITY_SELECTED_LEVEL: \"availability-selected-level\",\n  INTEGRITY_SELECTED_LEVEL: \"integrity-selected-level\",\n  CONFIDENTIALITY_SELECTED_LEVEL: \"confidentiality-selected-level\",\n\n  // Color indicators\n  AVAILABILITY_COLOR_INDICATOR: \"availability-color-indicator\",\n  INTEGRITY_COLOR_INDICATOR: \"integrity-color-indicator\",\n  CONFIDENTIALITY_COLOR_INDICATOR: \"confidentiality-color-indicator\",\n\n  // Technical info buttons and popovers\n  AVAILABILITY_TECHNICAL_INFO: \"availability-technical-info\",\n  INTEGRITY_TECHNICAL_INFO: \"integrity-technical-info\",\n  CONFIDENTIALITY_TECHNICAL_INFO: \"confidentiality-technical-info\",\n  AVAILABILITY_TECHNICAL_INFO_BUTTON: \"availability-technical-info-button\",\n  INTEGRITY_TECHNICAL_INFO_BUTTON: \"integrity-technical-info-button\",\n  CONFIDENTIALITY_TECHNICAL_INFO_BUTTON:\n    \"confidentiality-technical-info-button\",\n  AVAILABILITY_TECHNICAL_POPOVER: \"availability-technical-popover\",\n  INTEGRITY_TECHNICAL_POPOVER: \"integrity-technical-popover\",\n  CONFIDENTIALITY_TECHNICAL_POPOVER: \"confidentiality-technical-popover\",\n\n  // Badges\n  AVAILABILITY_UPTIME_BADGE: \"availability-uptime-badge\",\n  INTEGRITY_VALIDATION_BADGE: \"integrity-validation-badge\",\n  CONFIDENTIALITY_PROTECTION_BADGE: \"confidentiality-protection-badge\",\n\n  // Technical details and business impact\n  AVAILABILITY_TECHNICAL_DETAILS: \"availability-technical-details\",\n  INTEGRITY_TECHNICAL_DETAILS: \"integrity-technical-details\",\n  CONFIDENTIALITY_TECHNICAL_DETAILS: \"confidentiality-technical-details\",\n  AVAILABILITY_BUSINESS_IMPACT: \"availability-business-impact\",\n  INTEGRITY_BUSINESS_IMPACT: \"integrity-business-impact\",\n  CONFIDENTIALITY_BUSINESS_IMPACT: \"confidentiality-business-impact\",\n\n  // New constants\n  AVAILABILITY_KV: \"availability-kv\",\n  INTEGRITY_KV: \"integrity-kv\",\n  CONFIDENTIALITY_KV: \"confidentiality-kv\",\n  CURRENT_AVAILABILITY: \"current-availability\",\n  CURRENT_INTEGRITY: \"current-integrity\",\n  CURRENT_CONFIDENTIALITY: \"current-confidentiality\",\n\n  // Added missing properties\n  SECURITY_LEVEL_SELECTOR: \"security-level-selector\",\n  SECURITY_LEVEL_CONTROLS: \"security-level-controls\",\n\n  // Additional backward compatibility for any potential direct references\n  AVAILABILITY: \"availability\",\n  INTEGRITY: \"integrity\",\n  CONFIDENTIALITY: \"confidentiality\",\n};\n\n// Common widget test IDs - KEEP ORIGINAL VALUES FOR BACKWARD COMPATIBILITY\nexport const WIDGET_TEST_IDS = {\n  // Keep existing IDs for backward compatibility\n  SECURITY_LEVEL_CONTROLS: \"security-level-controls\",\n  VALUE_CREATION_TITLE: \"value-creation-title\",\n  ROI_VALUE: \"roi-value\",\n  SECURITY_SUMMARY_TITLE: \"security-summary-title\",\n  LOADING_INDICATOR: \"loading-indicator\",\n  DATA_CONTAINER: \"data-container\",\n  CONTENT_TITLE: \"content-title\",\n\n  // Value Creation Widget\n  VALUE_CREATION_CONTENT: \"value-creation-content\",\n  VALUE_CREATION_SUBTITLE: \"value-creation-subtitle\",\n  VALUE_POINTS_LIST: \"value-points-list\",\n  ROI_SECTION: \"roi-section\",\n  // Add missing section ID for ValueCreationWidget tests\n  BENEFITS_SECTION: \"benefits-section\",\n\n  // Technical Details Widget\n  TECHNICAL_DETAILS_WIDGET: \"technical-details-widget\",\n  AVAILABILITY_TAB: \"availability-tab\",\n  INTEGRITY_TAB: \"integrity-tab\",\n  CONFIDENTIALITY_TAB: \"confidentiality-tab\",\n  TECHNICAL_HEADER: \"technical-header\",\n  TECHNICAL_DESCRIPTION: \"technical-description\",\n  IMPLEMENTATION_HEADER: \"implementation-header\",\n  RESOURCES_HEADER: \"resources-header\",\n  DEVELOPMENT_EFFORT: \"development-effort\",\n  MAINTENANCE_LEVEL: \"maintenance-level\",\n  REQUIRED_EXPERTISE: \"required-expertise\",\n\n  // CIA Impact Summary Widget\n  CIA_IMPACT_SUMMARY: \"cia-impact-summary\",\n  CIA_IMPACT_AVAILABILITY_ROW: \"cia-impact-availability-row\",\n  CIA_IMPACT_INTEGRITY_ROW: \"cia-impact-integrity-row\",\n  CIA_IMPACT_CONFIDENTIALITY_ROW: \"cia-impact-confidentiality-row\",\n  CIA_IMPACT_AVAILABILITY_LEVEL: \"cia-impact-availability-level\",\n  CIA_IMPACT_INTEGRITY_LEVEL: \"cia-impact-integrity-level\",\n  CIA_IMPACT_CONFIDENTIALITY_LEVEL: \"cia-impact-confidentiality-level\",\n\n  // Add more specific and standardized widget container IDs\n  SECURITY_LEVEL_WIDGET: \"widget-security-level\",\n  SECURITY_LEVEL_SELECTION: \"widget-security-level-selection\",\n  COST_ESTIMATION_WIDGET: \"widget-cost-estimation\",\n  BUSINESS_IMPACT_WIDGET: \"widget-business-impact\",\n  COMPLIANCE_STATUS_WIDGET: \"widget-compliance-status\",\n  RADAR_CHART_WIDGET: \"widget-radar-chart\",\n  VALUE_CREATION_WIDGET: \"widget-value-creation\",\n\n  // Add these new widget test IDs\n  INTEGRITY_IMPACT_WIDGET: \"widget-integrity-impact\",\n  CONFIDENTIALITY_IMPACT_WIDGET: \"widget-confidentiality-impact\",\n  AVAILABILITY_IMPACT_WIDGET: \"widget-availability-impact\",\n  SECURITY_RESOURCES_WIDGET: \"widget-security-resources\",\n  SECURITY_SUMMARY_WIDGET: \"security-summary-widget\",\n  SECURITY_VISUALIZATION_WIDGET: \"security-visualization-widget\",\n};\n\n// BusinessImpactAnalysisWidget IDs - KEEP ORIGINAL VALUES FOR BACKWARD COMPATIBILITY\nexport const BUSINESS_IMPACT_TEST_IDS = {\n  FINANCIAL_IMPACT_SECTION: \"financial-impact-section\",\n  OPERATIONAL_IMPACT_SECTION: \"operational-impact-section\",\n  REPUTATIONAL_IMPACT_SECTION: \"reputational-impact-section\",\n  REGULATORY_IMPACT_SECTION: \"regulatory-impact-section\",\n  STRATEGIC_IMPACT_SECTION: \"strategic-impact-section\",\n  // Add this line\n  BUSINESS_IMPACT_WIDGET: \"business-impact-widget\",\n  BUSINESS_IMPACT_ANALYSIS_PREFIX: \"business-impact-analysis\",\n  CATEGORY_ICON_PREFIX: \"category-icon\",\n  IMPACT_ANALYSIS_PREFIX: \"impact-analysis\",\n  IMPACT_LEVEL_INDICATOR_PREFIX: \"impact-level-indicator\",\n  IMPACT_LEVEL_TEXT_PREFIX: \"impact-level-text\",\n  IMPACT_DESCRIPTION_PREFIX: \"impact-description\",\n  BUSINESS_IMPACT_PREFIX: \"business-impact\",\n\n  // Tabs and sections\n  TAB_CONSIDERATIONS: \"tab-considerations\",\n  TAB_BENEFITS: \"tab-benefits\",\n  BUSINESS_IMPACT_SUMMARY: \"business-impact-summary\",\n  BUSINESS_CONSIDERATIONS: \"business-considerations\",\n  BUSINESS_BENEFITS: \"business-benefits\",\n  NO_CONSIDERATIONS_MESSAGE: \"no-considerations-message\",\n  NO_BENEFITS_MESSAGE: \"no-benefits-message\",\n\n  // Impact metrics\n  IMPACT_METRICS_SECTION: \"impact-metrics-section\",\n  FINANCIAL_IMPACT_CARD: \"financial-impact-card\",\n  FINANCIAL_IMPACT_METRICS: \"financial-impact-metrics\",\n  ANNUAL_REVENUE_LOSS: \"annual-revenue-loss\",\n  REVENUE_LOSS_KV: \"revenue-loss-kv\",\n  OPERATIONAL_IMPACT_CARD: \"operational-impact-card\",\n  OPERATIONAL_IMPACT_METRICS: \"operational-impact-metrics\",\n  MEAN_RECOVERY_TIME: \"mean-recovery-time\",\n  RECOVERY_TIME_KV: \"recovery-time-kv\",\n\n  // Combined Impact Widget\n  COMBINED_BUSINESS_IMPACT_WIDGET: \"combined-business-impact-widget\",\n};\n\n// ComplianceStatusWidget IDs - KEEP ORIGINAL VALUES FOR BACKWARD COMPATIBILITY\nexport const FRAMEWORK_TEST_IDS = {\n  COMPLIANCE_FRAMEWORKS_CONTAINER: \"compliance-frameworks-container\",\n  FRAMEWORK_ITEM_PREFIX: \"framework-item\",\n  COMPLIANCE_STATUS_WIDGET: \"compliance-status-widget\",\n  COMPLIANCE_STATUS_BADGE: \"compliance-status-badge\",\n  COMPLIANT_FRAMEWORKS_LIST: \"compliant-frameworks-list\",\n  COMPLIANCE_REQUIREMENTS_LIST: \"compliance-requirements-list\",\n};\n\n// RadarChart test IDs - KEEP ORIGINAL VALUES FOR BACKWARD COMPATIBILITY\nexport const CHART_TEST_IDS = {\n  RADAR_CHART: \"radar-chart\",\n  RADAR_CHART_CONTAINER: \"radar-chart-container\",\n  RADAR_CHART_CANVAS: \"radar-chart-canvas\",\n  RADAR_CHART_ERROR: \"radar-chart-error\",\n  RADAR_AVAILABILITY_VALUE: \"radar-availability-value\",\n  RADAR_INTEGRITY_VALUE: \"radar-integrity-value\",\n  RADAR_CONFIDENTIALITY_VALUE: \"radar-confidentiality-value\",\n};\n\n// CostEstimationWidget test IDs - KEEP ORIGINAL VALUES FOR BACKWARD COMPATIBILITY\nexport const COST_TEST_IDS = {\n  // Keep existing IDs for backward compatibility\n  COST_CONTAINER: \"cost-container\",\n  CAPEX_VALUE: \"capex-value\",\n  OPEX_VALUE: \"opex-value\",\n  TOTAL_COST: \"total-cost\",\n  ROI_ESTIMATE: \"roi-estimate\",\n\n  // Cost Estimation Widget\n  COST_ESTIMATION_CONTENT: \"cost-estimation-content\",\n  ESTIMATED_COST_HEADING: \"estimated-cost-heading\",\n  IMPLEMENTATION_TIME: \"implementation-time\",\n  CAPEX_SEVERITY_ICON: \"capex-severity-icon\",\n  CAPEX_ESTIMATE_VALUE: \"capex-estimate-value\",\n  CAPEX_SECTION: \"capex-section\",\n  CAPEX_PROGRESS_BAR: \"capex-progress-bar\",\n  CAPEX_PERCENTAGE: \"capex-percentage\",\n  OPEX_SEVERITY_ICON: \"opex-severity-icon\",\n  OPEX_ESTIMATE_VALUE: \"opex-estimate-value\",\n  MONTHLY_OPEX: \"monthly-opex\",\n  OPEX_SECTION: \"opex-section\",\n  OPEX_PROGRESS_BAR: \"opex-progress-bar\",\n  OPEX_PERCENTAGE: \"opex-percentage\",\n  TOTAL_COST_SUMMARY: \"total-cost-summary\",\n  THREE_YEAR_TOTAL: \"three-year-total\",\n  COST_ANALYSIS_SECTION: \"cost-analysis-section\",\n  COST_ANALYSIS_HEADING: \"cost-analysis-heading\",\n  COST_ANALYSIS_TEXT: \"cost-analysis-text\",\n  ROI_SECTION: \"roi-section\",\n\n  // Add more specific IDs\n  COST_ESTIMATION_WIDGET: \"widget-cost-estimation\",\n  COST_ESTIMATION_ROOT: \"widget-cost-estimation-root\",\n};\n\n// SecuritySummaryWidget test IDs - KEEP ORIGINAL VALUES FOR BACKWARD COMPATIBILITY\nexport const SUMMARY_TEST_IDS = {\n  SUMMARY_CONTAINER: \"security-summary-container\",\n  OVERALL_RATING: \"overall-rating\",\n  SECURITY_LEVEL_DESCRIPTION: \"security-level-description\",\n  SECURITY_RECOMMENDATIONS: \"security-recommendations\",\n  CIA_RATINGS: \"cia-ratings\",\n\n  // Security Summary Widget\n  SECURITY_SUMMARY_CONTAINER: \"security-summary-container\",\n  SECURITY_LEVEL_INDICATOR: \"security-level-indicator\",\n  SECURITY_ICON: \"security-icon\",\n  SECURITY_LEVEL_PROGRESS_BAR: \"security-level-progress-bar\",\n  SECURITY_SUMMARY_DESCRIPTION: \"security-summary-description\",\n  ROI_ESTIMATE_SUMMARY: \"roi-estimate-summary\",\n  ROI_ESTIMATE_PAIR: \"roi-estimate-pair\",\n\n  // Toggle sections\n  TECHNICAL_SECTION_TOGGLE: \"technical-section-toggle\",\n  TECHNICAL_DETAILS_SECTION: \"technical-details-section\",\n  BUSINESS_IMPACT_TOGGLE: \"business-impact-toggle\",\n  BUSINESS_IMPACT_SECTION: \"business-impact-section\",\n  METRICS_TOGGLE: \"metrics-toggle\",\n  METRICS_SECTION: \"metrics-section\",\n\n  // CIA levels in summary\n  AVAILABILITY_LEVEL_PILL: \"availability-level-pill\",\n  INTEGRITY_LEVEL_PILL: \"integrity-level-pill\",\n  CONFIDENTIALITY_LEVEL_PILL: \"confidentiality-level-pill\",\n\n  // Technical heading/details\n  AVAILABILITY_TECH_HEADING: \"availability-tech-heading\",\n  INTEGRITY_TECH_HEADING: \"integrity-tech-heading\",\n  CONFIDENTIALITY_TECH_HEADING: \"confidentiality-tech-heading\",\n  AVAILABILITY_TECH_DETAILS: \"availability-tech-details\",\n  INTEGRITY_TECH_DETAILS: \"integrity-tech-details\",\n  CONFIDENTIALITY_TECH_DETAILS: \"confidentiality-tech-details\",\n\n  // Impact headings/details\n  AVAILABILITY_IMPACT_HEADING: \"availability-impact-heading\",\n  INTEGRITY_IMPACT_HEADING: \"integrity-impact-heading\",\n  CONFIDENTIALITY_IMPACT_HEADING: \"confidentiality-impact-heading\",\n  AVAILABILITY_IMPACT_DETAILS: \"availability-impact-details\",\n  INTEGRITY_IMPACT_DETAILS: \"integrity-impact-details\",\n  CONFIDENTIALITY_IMPACT_DETAILS: \"confidentiality-impact-details\",\n\n  // Benefits and recommendations\n  KEY_BENEFITS_HEADING: \"key-benefits-heading\",\n  KEY_BENEFITS_LIST: \"key-benefits-list\",\n  RECOMMENDATION_HEADING: \"recommendation-heading\",\n  SECURITY_RECOMMENDATION: \"security-recommendation\",\n\n  // Status badges - ORIGINAL NAMES WITHOUT PREFIX\n  BADGE_HIGH_RISK: \"badge-high-risk\",\n  BADGE_NOT_RECOMMENDED: \"badge-not-recommended\",\n  BADGE_LIMITED_PROTECTION: \"badge-limited-protection\",\n  BADGE_PUBLIC_DATA_ONLY: \"badge-public-data-only\",\n  BADGE_COMPLIANCE_READY: \"badge-compliance-ready\",\n  BADGE_GOOD_BALANCE: \"badge-good-balance\",\n  BADGE_STRONG_PROTECTION: \"badge-strong-protection\",\n  BADGE_SENSITIVE_DATA_READY: \"badge-sensitive-data-ready\",\n  BADGE_MAXIMUM_SECURITY: \"badge-maximum-security\",\n  BADGE_MISSION_CRITICAL: \"badge-mission-critical\",\n};\n\n// App-level test IDs - KEEP ORIGINAL VALUES FOR BACKWARD COMPATIBILITY\nexport const APP_TEST_IDS = {\n  APP_CONTAINER: \"app-container\",\n  THEME_TOGGLE: \"theme-toggle\",\n  APP_TITLE: \"app-title\",\n  DASHBOARD_CONTAINER: \"dashboard-container\",\n  APP_ROOT: \"app-root\",\n  CIA_CLASSIFICATION_APP: \"cia-classification-app\",\n  DASHBOARD_GRID: \"dashboard-grid\",\n  // Add missing theme toggle specific IDs\n  THEME_TOGGLE_DARK: \"theme-toggle-dark\",\n  THEME_TOGGLE_LIGHT: \"theme-toggle-light\",\n};\n\n// Common component test IDs - KEEP ORIGINAL VALUES FOR BACKWARD COMPATIBILITY\nexport const COMMON_COMPONENT_TEST_IDS = {\n  // MetricsCard\n  METRICS_CARD: \"metrics-card\",\n  METRICS_CARD_TITLE: \"metrics-card-title\",\n  METRICS_CARD_TREND: \"metrics-card-trend\",\n  METRICS_CARD_VALUE: \"metrics-card-value\",\n\n  // KeyValuePair\n  KEY_VALUE_PAIR: \"key-value-pair\",\n  KV_LABEL: \"kv-label\",\n  KV_VALUE: \"kv-value\",\n\n  // StatusBadge\n  STATUS_BADGE: \"status-badge\",\n\n  // ValueDisplay\n  VALUE_DISPLAY: \"value-display\",\n  DISPLAYED_VALUE: \"displayed-value\",\n\n  // SecurityLevelSelector\n  CURRENT_AVAILABILITY: \"current-availability\",\n  AVAILABILITY_KV: \"availability-kv\",\n  CURRENT_INTEGRITY: \"current-integrity\",\n  INTEGRITY_KV: \"integrity-kv\",\n  CURRENT_CONFIDENTIALITY: \"current-confidentiality\",\n  CONFIDENTIALITY_KV: \"confidentiality-kv\",\n\n  // Selection\n  CONTEXT_INFO: \"context-info\",\n};\n\n// Widget registry test IDs\nexport const WIDGET_REGISTRY_TEST_IDS = {\n  WIDGET_PREFIX: \"widget-\",\n};\n\n// Add these missing constants to the file with other test IDs\n\nexport const AVAILABILITY_IMPACT_TEST_IDS = {\n  AVAILABILITY_IMPACT_PREFIX: \"widget-availability-impact\",\n  AVAILABILITY_IMPACT_TITLE: \"availability-impact-title\",\n  AVAILABILITY_IMPACT_DESCRIPTION: \"availability-impact-description\",\n  AVAILABILITY_IMPACT_BUSINESS_IMPACT: \"availability-impact-business-impact\",\n  AVAILABILITY_IMPACT_VALUE: \"availability-impact-value\",\n  AVAILABILITY_IMPACT_UPTIME: \"availability-impact-uptime\",\n  AVAILABILITY_IMPACT_MTTR: \"availability-impact-mttr\",\n  AVAILABILITY_IMPACT_RTO: \"availability-impact-rto\",\n  AVAILABILITY_IMPACT_RPO: \"availability-impact-rpo\",\n  AVAILABILITY_IMPACT_RECOMMENDATIONS: \"availability-impact-recommendations\",\n  AVAILABILITY_IMPACT_BUSINESS_PERSPECTIVE:\n    \"availability-impact-business-perspective\",\n};\n\nexport const CONFIDENTIALITY_IMPACT_TEST_IDS = {\n  CONFIDENTIALITY_IMPACT_PREFIX: \"confidentiality-impact\",\n  CONFIDENTIALITY_IMPACT_DESCRIPTION: \"confidentiality-impact-description\",\n  CONFIDENTIALITY_IMPACT_VALUE: \"confidentiality-impact-value\",\n};\n\nexport const INTEGRITY_IMPACT_TEST_IDS = {\n  INTEGRITY_IMPACT_PREFIX: \"integrity-impact\",\n  INTEGRITY_IMPACT_DESCRIPTION: \"integrity-impact-description\",\n  INTEGRITY_IMPACT_VALUE: \"integrity-impact-value\",\n};\n\nexport const SECURITY_SUMMARY_TEST_IDS = {\n  SECURITY_SUMMARY_PREFIX: \"security-summary\",\n  SECURITY_ICON: \"security-icon\",\n  OVERALL_LEVEL: \"overall-level\",\n  AVAILABILITY_LEVEL: \"availability-level\",\n  INTEGRITY_LEVEL: \"integrity-level\",\n  CONFIDENTIALITY_LEVEL: \"confidentiality-level\",\n  IMPLICATIONS: \"implications\",\n  TECHNICAL_SECTION_TOGGLE: \"technical-section-toggle\",\n  TECHNICAL_DETAILS_SECTION: \"technical-details-section\",\n  BUSINESS_IMPACT_TOGGLE: \"business-impact-toggle\",\n  BUSINESS_IMPACT_SECTION: \"business-impact-section\",\n  METRICS_TOGGLE: \"metrics-toggle\",\n  METRICS_SECTION: \"metrics-section\",\n  TECHNICAL_IMPLEMENTATION_DETAILS: \"technical-implementation-details\",\n  AVAILABILITY_TECH_HEADING: \"availability-tech-heading\",\n  INTEGRITY_TECH_HEADING: \"integrity-tech-heading\",\n  CONFIDENTIALITY_TECH_HEADING: \"confidentiality-tech-heading\",\n  SECURITY_RECOMMENDATION: \"security-recommendation\",\n};\n\nexport const TECHNICAL_DETAILS_TEST_IDS = {\n  TECHNICAL_DETAILS_PREFIX: \"technical-details\",\n  TECHNICAL_DETAILS_WIDGET: \"technical-details-widget\",\n  AVAILABILITY_SECTION: \"technical-details-availability\",\n  INTEGRITY_SECTION: \"technical-details-integrity\",\n  CONFIDENTIALITY_SECTION: \"technical-details-confidentiality\",\n  AVAILABILITY_DETAILS_SECTION: \"technical-details-availability-details\",\n  INTEGRITY_DETAILS_SECTION: \"technical-details-integrity-details\",\n  CONFIDENTIALITY_DETAILS_SECTION: \"technical-details-confidentiality-details\",\n  // Add missing technical details test IDs\n  TECHNICAL_HEADER: \"technical-header\",\n  TECHNICAL_DETAILS_SECTION: \"technical-details-section\",\n  TECHNICAL_DESCRIPTION: \"technical-description\",\n  DEVELOPMENT_EFFORT: \"development-effort\",\n  MAINTENANCE_LEVEL: \"maintenance-level\",\n  REQUIRED_EXPERTISE: \"required-expertise\",\n};\n\nexport const COMPLIANCE_STATUS_TEST_IDS = {\n  COMPLIANCE_STATUS_PREFIX: \"compliance-status\",\n  COMPLIANCE_STATUS_BADGE: \"compliance-status-badge\",\n  COMPLIANCE_FRAMEWORK_ITEM: \"compliance-framework-item\",\n  COMPLIANCE_REQUIREMENTS_LIST: \"compliance-requirements-list\",\n};\n\nexport const SECURITY_RESOURCES_TEST_IDS = {\n  SECURITY_RESOURCES_PREFIX: \"security-resources\",\n  RESOURCE_ITEM: \"security-resource-item\",\n  RESOURCE_LIST: \"security-resources-list\",\n  SECURITY_RESOURCES_WIDGET: \"security-resources-widget\",\n};\n\nexport const SECURITY_LEVEL_TEST_IDS = {\n  SECURITY_LEVEL_PREFIX: \"security-level\",\n  SECURITY_LEVEL_SELECTOR: \"security-level-selector\",\n  SECURITY_LEVEL_WIDGET: \"security-level-widget\",\n  CONFIDENTIALITY_SELECTOR: \"confidentiality-level-selector\",\n  INTEGRITY_SELECTOR: \"integrity-level-selector\",\n  AVAILABILITY_SELECTOR: \"availability-level-selector\",\n};\n\nexport const RESOURCE_TEST_IDS = {\n  SECURITY_RESOURCES_WIDGET: \"security-resources-widget\",\n  RESOURCE_SEARCH: \"resource-search\",\n  RESOURCE_CATEGORY_FILTER: \"resource-category-filter\",\n  RESOURCE_LIST: \"resource-list\",\n  RESOURCE_ITEM: \"resource-item\",\n  RESOURCE_LINK: \"resource-link\",\n};\n\nexport const VALUE_CREATION_TEST_IDS = {\n  VALUE_CREATION_WIDGET: \"value-creation-widget\",\n  VALUE_CREATION_PREFIX: \"value-creation\",\n  VALUE_POINT: \"value-point\",\n  VALUE_POINTS_LIST: \"value-points-list\",\n};\n\n/**\n * Export CIA component types for usage in widgets and components\n */\nexport type CIAComponentType = \"confidentiality\" | \"integrity\" | \"availability\";\n\n/**\n * Helper for type-safe SecurityLevel conversion\n * Use this to convert strings to SecurityLevel type when needed\n */\nexport function asSecurityLevel(level: string): SecurityLevel {\n  return level as SecurityLevel;\n}\n\n/**\n * Helper functions for dynamic test ID generation - KEEP ORIGINAL FUNCTIONS\n */\nexport const createDynamicTestId = {\n  valuePoint: (index: number): string => `value-point-${index}`,\n  implementationStep: (index: number): string => `implementation-step-${index}`,\n  techStack: (index: number): string => `tech-stack-${index}`,\n  considerationItem: (index: number): string => `consideration-item-${index}`,\n  considerationDescription: (index: number): string =>\n    `consideration-description-${index}`,\n  impactType: (index: number): string => `impact-type-${index}`,\n  impactTypeKv: (index: number): string => `impact-type-kv-${index}`,\n  riskBadge: (index: number): string => `risk-badge-${index}`,\n  benefitItem: (index: number): string => `benefit-item-${index}`,\n  keyBenefit: (index: number): string => `key-benefit-${index}`,\n  framework: (index: number): string => `framework-${index}`,\n  frameworkStatus: (framework: string): string =>\n    `framework-status-${framework}`,\n  categorySpecific: (prefix: string, category: string): string =>\n    `${prefix}-${category.toLowerCase()}`,\n  option: (level: string): string => `option-${level}`,\n  widgetId: (id: string): string => `widget-${id}`,\n};\n\n// Helper function to get a test ID with a prefix\nexport function getTestId(prefix: string, id: string): string {\n  return `${prefix}-${id}`;\n}\n\n/**\n * Test helpers for working with security levels and related data\n */\nexport const TEST_HELPERS = {\n  /**\n   * Type-safe way to get value points for a security level\n   */\n  getValuePointsForLevel: (level: string): string[] | undefined => {\n    return VALUE_CREATION_POINTS[level as keyof typeof VALUE_CREATION_POINTS];\n  },\n  /**\n   * Convert string to SecurityLevel type safely\n   */\n  toSecurityLevel: (level: string): SecurityLevel => {\n    return level as SecurityLevel;\n  },\n};\n\n// Export all test IDs in a single object for convenience\nexport const TEST_IDS = {\n  ...CIA_TEST_IDS,\n  ...WIDGET_TEST_IDS,\n  ...BUSINESS_IMPACT_TEST_IDS,\n  ...FRAMEWORK_TEST_IDS,\n  ...CHART_TEST_IDS,\n  ...COST_TEST_IDS,\n  ...SUMMARY_TEST_IDS,\n  ...APP_TEST_IDS,\n  ...COMMON_COMPONENT_TEST_IDS,\n  ...WIDGET_REGISTRY_TEST_IDS,\n  ...AVAILABILITY_IMPACT_TEST_IDS,\n  ...CONFIDENTIALITY_IMPACT_TEST_IDS,\n  ...INTEGRITY_IMPACT_TEST_IDS,\n  ...SECURITY_SUMMARY_TEST_IDS,\n  ...TECHNICAL_DETAILS_TEST_IDS,\n  ...COMPLIANCE_STATUS_TEST_IDS,\n  ...SECURITY_RESOURCES_TEST_IDS,\n  ...SECURITY_LEVEL_TEST_IDS,\n  ...VALUE_CREATION_TEST_IDS,\n  createDynamicTestId,\n  getTestId,\n  TEST_HELPERS,\n};\n","import React from \"react\";\nimport { WidgetSize } from \"../../types/widget\";\n\ninterface WidgetContainerProps {\n  children: React.ReactNode;\n  title?: string;\n  icon?: React.ReactNode;\n  testId?: string;\n  className?: string;\n  style?: React.CSSProperties;\n  size?: WidgetSize;\n  loading?: boolean;\n  error?: Error | null;\n}\n\n/**\n * Container component for dashboard widgets that provides consistent styling\n */\nconst WidgetContainer: React.FC<WidgetContainerProps> = ({\n  children,\n  title,\n  icon,\n  testId,\n  className = \"\",\n  style,\n  size,\n  loading = false,\n  error = null,\n}) => {\n  // Base classes for the widget container\n  const containerClasses = `widget-container bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden \n    border border-gray-200 dark:border-gray-700 ${className}`;\n\n  // Combine standard style with size dimensions if provided\n  const containerStyle = {\n    ...style,\n    ...(size && {\n      gridColumn: `span ${size.width}`,\n      gridRow: `span ${size.height}`,\n    }),\n  };\n\n  return (\n    <div\n      data-testid={testId}\n      className={containerClasses}\n      style={containerStyle}\n      data-loading={loading ? \"true\" : undefined}\n    >\n      {/* Optional widget header with title and icon */}\n      {title && (\n        <div className=\"widget-header p-3 border-b border-gray-200 dark:border-gray-700 flex items-center bg-gray-50 dark:bg-gray-900\">\n          {icon && <span className=\"widget-icon mr-2\">{icon}</span>}\n          <h2 className=\"text-md font-semibold text-gray-800 dark:text-gray-200\">\n            {title}\n          </h2>\n        </div>\n      )}\n\n      {/* Widget content area */}\n      <div className=\"widget-content h-full\">\n        {loading ? (\n          <div className=\"animate-pulse h-full w-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center\">\n            <div className=\"w-8 h-8 border-t-2 border-b-2 border-blue-500 rounded-full animate-spin\"></div>\n          </div>\n        ) : error ? (\n          <div className=\"p-4 text-red-500 dark:text-red-400\">\n            <p className=\"font-bold\">Error:</p>\n            <p>{error.message}</p>\n          </div>\n        ) : (\n          children\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default WidgetContainer;\n","import { SecurityLevel } from \"../types/cia\"; // Remove unused CIAOptions import\n\n// Widget Icons - For consistent icon use across the application\nexport const WIDGET_ICONS = {\n  SECURITY_LEVEL: \"üîê\",\n  SECURITY_SUMMARY: \"üìä\",\n  SECURITY_VISUALIZATION: \"üìä\",\n  COMPLIANCE_STATUS: \"‚úì\",\n  VALUE_CREATION: \"üí∞\",\n  COST_ESTIMATION: \"üí≤\",\n  BUSINESS_IMPACT: \"üè¢\",\n  TECHNICAL_IMPLEMENTATION: \"‚öôÔ∏è\",\n  AVAILABILITY_IMPACT: \"‚è±Ô∏è\",\n  INTEGRITY_IMPACT: \"üõ°Ô∏è\",\n  CONFIDENTIALITY_IMPACT: \"üîí\",\n  SECURITY_RESOURCES: \"üìö\",\n};\n\n// CIA Component Icons and Labels\nexport const CIA_COMPONENT_ICONS = {\n  AVAILABILITY: \"‚è±Ô∏è\",\n  INTEGRITY: \"üîê\",\n  CONFIDENTIALITY: \"üîè\",\n};\n\nexport const CIA_LABELS = {\n  AVAILABILITY: \"Availability\",\n  INTEGRITY: \"Integrity\",\n  CONFIDENTIALITY: \"Confidentiality\",\n};\n\n// Security level color scheme\nexport const SECURITY_LEVEL_COLORS = {\n  NONE: \"#e74c3c\", // Red\n  LOW: \"#f39c12\", // Orange\n  MODERATE: \"#f1c40f\", // Yellow\n  HIGH: \"#2ecc71\", // Green\n  VERY_HIGH: \"#3498db\", // Blue\n};\n\n// Security Levels\nexport const SECURITY_LEVELS = {\n  NONE: \"None\",\n  LOW: \"Low\",\n  MODERATE: \"Moderate\",\n  HIGH: \"High\",\n  VERY_HIGH: \"Very High\",\n};\n\n// Widget Titles\nexport const WIDGET_TITLES = {\n  SECURITY_LEVEL: \"Security Level Selection\",\n  SECURITY_SUMMARY: \"Security Summary\",\n  SECURITY_VISUALIZATION: \"Security Visualization\",\n  COMPLIANCE_STATUS: \"Compliance Status\",\n  VALUE_CREATION: \"Value Creation\",\n  COST_ESTIMATION: \"Cost Estimation\",\n  BUSINESS_IMPACT: \"Business Impact\",\n  TECHNICAL_IMPLEMENTATION: \"Technical Implementation\",\n  SECURITY_PROFILE: \"CIA Security Profile\",\n  SECURITY_RESOURCES: \"Security Resources\",\n  AVAILABILITY_IMPACT: \"Availability Impact\",\n  INTEGRITY_IMPACT: \"Integrity Impact\",\n  CONFIDENTIALITY_IMPACT: \"Confidentiality Impact\",\n};\n\n// Implementation details\nexport const IMPLEMENTATION_COSTS: Record<\n  SecurityLevel,\n  {\n    developmentEffort: string;\n    maintenance: string;\n    expertise: string;\n  }\n> = {\n  None: {\n    developmentEffort: \"Minimal\",\n    maintenance: \"None\",\n    expertise: \"Basic\",\n  },\n  Low: {\n    developmentEffort: \"Days\",\n    maintenance: \"Monthly checks\",\n    expertise: \"Junior\",\n  },\n  Moderate: {\n    developmentEffort: \"Weeks\",\n    maintenance: \"Weekly checks\",\n    expertise: \"Mid-level\",\n  },\n  High: {\n    developmentEffort: \"1-2 Months\",\n    maintenance: \"Daily monitoring\",\n    expertise: \"Senior\",\n  },\n  \"Very High\": {\n    developmentEffort: \"2-6 Months\",\n    maintenance: \"Continuous monitoring\",\n    expertise: \"Expert\",\n  },\n};\n\n// UI Text constants for labels\nexport const UI_TEXT = {\n  // Common UI labels\n  LABELS: {\n    BUSINESS_IMPACT: \"Business Impact:\",\n    RECOMMENDATION: \"Recommendation:\",\n    ESTIMATED_COST: \"Estimated Implementation Cost\",\n    CAPEX: \"CAPEX:\",\n    OPEX: \"OPEX:\",\n    COST_ANALYSIS: \"Cost Analysis\",\n    BUSINESS_VALUE: \"Business value derived from this security profile:\",\n    ESTIMATED_ROI: \"Estimated ROI:\",\n    SECURITY_PROFILE: \"Security Profile\",\n    CURRENT_PROFILE: \"Current Profile\",\n  },\n\n  // Budget related text\n  BUDGET: {\n    IT_BUDGET_CAPEX: \"of IT budget as one-time capital expenditure\",\n    IT_BUDGET_OPEX: \"of IT budget as annual operational expenses\",\n  },\n\n  // Value creation titles\n  VALUE_CREATION: {\n    NONE_TITLE: \"No Value Creation\",\n    WITH_LEVEL: (level: string) => `${level} Value Creation`,\n  },\n\n  // Add WIDGET_TITLES\n  WIDGET_TITLES: WIDGET_TITLES, // Reference the already defined WIDGET_TITLES constant\n};\n\n// Security level type helpers\nexport type SecurityLevelKey =\n  | \"NONE\"\n  | \"LOW\"\n  | \"MODERATE\"\n  | \"HIGH\"\n  | \"VERY_HIGH\";\nexport type SecurityLevelMap<T> = Record<SecurityLevelKey, T>;\n\n// Framework names\nexport const COMPLIANCE_FRAMEWORKS = {\n  SOC2: \"SOC 2 Type 2\",\n  ISO27001: \"ISO 27001\",\n  PCI_DSS: \"PCI DSS\",\n  HIPAA: \"HIPAA\",\n  NIST: \"NIST 800-53 High\",\n};\n\n// Compliance Status Text\nexport const COMPLIANCE_STATUS = {\n  NON_COMPLIANT: \"Non-Compliant\",\n  BASIC_COMPLIANCE: \"Meets basic compliance only\",\n  STANDARD_COMPLIANCE: \"Compliant with standard frameworks\",\n  FULL_COMPLIANCE: \"Compliant with all major frameworks\",\n};\n\n// Add this export if it's defined in this file\nexport const SECURITY_DESCRIPTIONS = {\n  NONE: \"No security controls implemented.\",\n  LOW: \"Basic protection with minimal controls and manual processes.\",\n  MODERATE:\n    \"Balanced protection with automated recovery, validation checks, and standard encryption.\",\n  HIGH: \"Robust protection with minimal single points of failure, blockchain validation, and strong encryption.\",\n  VERY_HIGH:\n    \"Maximum protection with quantum-safe encryption, multi-site redundancy, and real-time validation.\",\n};\n","import { SecurityLevel } from \"../types/cia\";\nimport { SECURITY_LEVELS } from \"../constants/appConstants\";\n\n/**\n * Utility functions for handling security levels.\n * \n * ## Business Impact\n * These functions play a crucial role in determining and normalizing security levels, which directly impacts the application's ability to manage and enforce security policies. üíº\n * \n * ## Compliance\n * By providing consistent and accurate security level calculations, these functions help ensure that the application meets various compliance requirements and standards. üìú\n * \n * ## Risk Management\n * The functions in this module contribute to risk management by providing a structured way to represent and analyze security levels, helping to identify and mitigate potential risks. ‚ö†Ô∏è\n * \n * ## Value Creation\n * The use of well-defined utility functions enhances the application's reliability and maintainability, leading to cost savings and efficiency improvements. üí°\n * \n * ## Stakeholder Benefits\n * Clear and consistent utility functions benefit all stakeholders, including developers, security analysts, and business users, by providing a common understanding of key security concepts. ü§ù\n */\n\n/**\n * Normalizes a security level string to ensure it's a valid SecurityLevel value\n * @param level The input security level string\n * @returns A valid SecurityLevel\n */\nexport function normalizeSecurityLevel(level?: string): SecurityLevel {\n  if (!level) return SECURITY_LEVELS.NONE as SecurityLevel;\n\n  // Check direct match first\n  if (Object.values(SECURITY_LEVELS).includes(level as any)) {\n    return level as SecurityLevel;\n  }\n\n  // Try case-insensitive match\n  const normalizedLevel = level.toLowerCase();\n  for (const validLevel of Object.values(SECURITY_LEVELS)) {\n    if (normalizedLevel === validLevel.toLowerCase()) {\n      return validLevel as SecurityLevel;\n    }\n  }\n\n  // Default fallback\n  return SECURITY_LEVELS.NONE as SecurityLevel;\n}\n\n/**\n * Gets a numerical value for a security level for calculations\n * @param level The security level string\n * @returns A number from 0 (None) to 4 (Very High)\n */\nexport function getSecurityLevelValue(level: SecurityLevel | string): number {\n  const normalizedLevel = normalizeSecurityLevel(level as SecurityLevel);\n\n  switch (normalizedLevel) {\n    case \"Very High\":\n      return 4;\n    case \"High\":\n      return 3;\n    case \"Moderate\":\n      return 2;\n    case \"Low\":\n      return 1;\n    case \"None\":\n    default:\n      return 0;\n  }\n}\n\n/**\n * Provides a numerical representation of security levels for UI presentation\n * @param level The security level string\n * @returns A string representation formatted as a percentage\n */\nexport function getSecurityLevelPercentage(level: string): string {\n  const value = getSecurityLevelValue(level);\n  const percentage = value * 25; // 0, 25, 50, 75, 100\n  return `${percentage}%`;\n}\n\n/**\n * Determines the appropriate CSS classes for displaying a security level\n * @param level The security level string\n * @returns CSS class string for styling the security level\n */\nexport function getSecurityLevelClass(level: string): string {\n  const normalizedLevel = normalizeSecurityLevel(level);\n\n  switch (normalizedLevel) {\n    case SECURITY_LEVELS.VERY_HIGH:\n      return \"text-purple-600 dark:text-purple-400 font-bold\";\n    case SECURITY_LEVELS.HIGH:\n      return \"text-green-600 dark:text-green-400 font-bold\";\n    case SECURITY_LEVELS.MODERATE:\n      return \"text-blue-600 dark:text-blue-400\";\n    case SECURITY_LEVELS.LOW:\n      return \"text-yellow-600 dark:text-yellow-400\";\n    case SECURITY_LEVELS.NONE:\n    default:\n      return \"text-gray-600 dark:text-gray-400\";\n  }\n}\n\n/**\n * Map a security level to a status badge variant\n * @param level The security level string\n * @returns A status badge variant\n */\nexport function getSecurityLevelBadgeVariant(\n  level: string\n): \"info\" | \"success\" | \"warning\" | \"error\" | \"neutral\" | \"purple\" {\n  const normalizedLevel = normalizeSecurityLevel(level);\n\n  switch (normalizedLevel) {\n    case SECURITY_LEVELS.VERY_HIGH:\n      return \"purple\";\n    case SECURITY_LEVELS.HIGH:\n      return \"success\";\n    case SECURITY_LEVELS.MODERATE:\n      return \"info\";\n    case SECURITY_LEVELS.LOW:\n      return \"warning\";\n    case SECURITY_LEVELS.NONE:\n      return \"error\";\n    default:\n      return \"neutral\";\n  }\n}\n","import { RISK_LEVELS } from \"../constants/riskConstants\";\nimport {\n  availabilityOptions,\n  confidentialityOptions,\n  EnhancedCIADetails,\n  integrityOptions,\n  ROI_ESTIMATES,\n} from \"../hooks/useCIAOptions\";\nimport { SecurityLevel } from \"../types/cia\";\nimport {\n  BusinessImpactDetails,\n  CIAComponentType,\n  ROIEstimatesMap,\n  ROIMetrics,\n  TechnicalImplementationDetails,\n} from \"../types/cia-services\";\nimport { normalizeSecurityLevel } from \"../utils/securityLevelUtils\";\n\n// Interface definitions\ninterface SecurityResource {\n  title: string;\n  description: string;\n  url: string;\n  category: string;\n  tags: string[];\n  relevanceScore: number;\n  type: string;\n}\n\ninterface ComponentMetrics {\n  financialImpact?: string;\n  operationalImpact?: string;\n  reputationalImpact?: string;\n  regulatoryImpact?: string;\n  uptime?: string;\n  rto?: string;\n  rpo?: string;\n  mttr?: string;\n  keyImpact?: string;\n  metric?: string;\n}\n\n// Export the types - add these exports to maintain backward compatibility\nexport type {\n  BusinessImpactDetails,\n  CIAComponentType,\n  ROIEstimatesMap,\n  ROIMetrics,\n  TechnicalImplementationDetails,\n} from \"../types/cia-services\";\n\n/**\n * Interface for CIA data source provider\n */\nexport interface CIADataProvider {\n  availabilityOptions: Record<string, EnhancedCIADetails>;\n  integrityOptions: Record<string, EnhancedCIADetails>;\n  confidentialityOptions: Record<string, EnhancedCIADetails>;\n  roiEstimates: ROIEstimatesMap;\n\n  // Add additional utility function to reduce fallback logic\n  getDefaultSecurityIcon(level: SecurityLevel): string;\n  getDefaultValuePoints(level: SecurityLevel): string[];\n}\n\n/**\n * Default CIA data provider that uses imported options\n */\nconst defaultDataProvider: CIADataProvider = {\n  availabilityOptions,\n  integrityOptions,\n  confidentialityOptions,\n  roiEstimates: ROI_ESTIMATES as unknown as ROIEstimatesMap,\n  getDefaultSecurityIcon: (level: SecurityLevel) => {\n    switch (level) {\n      case \"Very High\":\n        return \"üõ°Ô∏èüõ°Ô∏èüõ°Ô∏è\";\n      case \"High\":\n        return \"üõ°Ô∏èüõ°Ô∏è\";\n      case \"Moderate\":\n        return \"üõ°Ô∏è\";\n      case \"Low\":\n        return \"üîí\";\n      default:\n        return \"‚ö†Ô∏è\";\n    }\n  },\n  getDefaultValuePoints: (level: SecurityLevel) => {\n    const defaultPoints = [\"Provides basic security foundation\"];\n    switch (level) {\n      case \"Very High\":\n        return [\n          \"Maximum security value with comprehensive protection\",\n          \"Enables business in highly regulated industries\",\n          \"Provides competitive advantage through superior security posture\",\n          \"Minimizes risk of data breaches and associated costs\",\n          \"Ensures regulatory compliance across major frameworks\",\n        ];\n      case \"High\":\n        return [\n          \"Strong security value with robust protection\",\n          \"Supports business in moderately regulated industries\",\n          \"Reduces risk of security incidents significantly\",\n          \"Protects sensitive data and critical operations\",\n          \"Meets requirements for most compliance frameworks\",\n        ];\n      default:\n        return defaultPoints;\n    }\n  },\n};\n\n/**\n * Create a CIA content service with dependency injection\n */\nexport function createCIAContentService(\n  dataProvider: CIADataProvider = defaultDataProvider\n) {\n  /**\n   * Get the base options for a CIA component\n   */\n  function getCIAOptions(\n    component: CIAComponentType\n  ): Record<string, EnhancedCIADetails> {\n    // Fix return type\n    switch (component) {\n      case \"availability\":\n        return dataProvider.availabilityOptions;\n      case \"integrity\":\n        return dataProvider.integrityOptions;\n      case \"confidentiality\":\n        return dataProvider.confidentialityOptions;\n      default:\n        return {};\n    }\n  }\n\n  /**\n   * Get component details for a specific level with strong typing\n   */\n  function getComponentDetails(\n    component: CIAComponentType,\n    level: SecurityLevel\n  ): EnhancedCIADetails | undefined {\n    // Fix return type\n    // Validate input parameters\n    if (!component || !level) {\n      return undefined;\n    }\n\n    const options = getCIAOptions(component);\n    return options[level];\n  }\n\n  /**\n   * Get detailed technical implementation information\n   */\n  function getTechnicalImplementation(\n    component: CIAComponentType,\n    level: SecurityLevel | string\n  ): TechnicalImplementationDetails {\n    const normalizedLevel = normalizeSecurityLevel(level) as SecurityLevel;\n\n    // Get component details from appropriate options object\n    let details: TechnicalImplementationDetails | undefined;\n\n    switch (component) {\n      case \"confidentiality\":\n        details =\n          confidentialityOptions[normalizedLevel]?.technicalImplementation;\n        break;\n      case \"integrity\":\n        details = integrityOptions[normalizedLevel]?.technicalImplementation;\n        break;\n      case \"availability\":\n        details = availabilityOptions[normalizedLevel]?.technicalImplementation;\n        break;\n    }\n\n    // Default implementation if no details found\n    if (!details) {\n      return {\n        description: `No technical implementation details available for ${normalizedLevel} ${component}`,\n        implementationSteps: [\"Consider implementing basic security controls\"],\n        effort: {\n          development: getDefaultDevelopmentEffort(normalizedLevel),\n          maintenance: getDefaultMaintenanceEffort(normalizedLevel),\n          expertise: getDefaultExpertiseLevel(normalizedLevel),\n        },\n      };\n    }\n\n    // Ensure we always have default values for missing fields\n    return {\n      description:\n        details.description ||\n        `Standard ${component} controls for ${normalizedLevel} security level`,\n      implementationSteps: details.implementationSteps || [],\n      effort: {\n        development:\n          details.effort?.development ||\n          getDefaultDevelopmentEffort(normalizedLevel),\n        maintenance:\n          details.effort?.maintenance ||\n          getDefaultMaintenanceEffort(normalizedLevel),\n        expertise:\n          details.effort?.expertise ||\n          getDefaultExpertiseLevel(normalizedLevel),\n      },\n      requirements: details.requirements || [],\n      technologies: details.technologies || [],\n    };\n  }\n\n  /**\n   * Gets default development effort based on security level\n   */\n  function getDefaultDevelopmentEffort(level: SecurityLevel): string {\n    switch (level) {\n      case \"None\":\n        return \"None\";\n      case \"Low\":\n        return \"Days (1-5)\";\n      case \"Moderate\":\n        return \"Weeks (2-4)\";\n      case \"High\":\n        return \"Months (1-3)\";\n      case \"Very High\":\n        return \"Months (3+)\";\n      default:\n        return \"Not specified\";\n    }\n  }\n\n  /**\n   * Gets default maintenance effort based on security level\n   */\n  function getDefaultMaintenanceEffort(level: SecurityLevel): string {\n    switch (level) {\n      case \"None\":\n        return \"None\";\n      case \"Low\":\n        return \"Minimal (quarterly review)\";\n      case \"Moderate\":\n        return \"Regular (monthly review)\";\n      case \"High\":\n        return \"Significant (biweekly monitoring)\";\n      case \"Very High\":\n        return \"Extensive (continuous monitoring)\";\n      default:\n        return \"Not specified\";\n    }\n  }\n\n  /**\n   * Gets default expertise level based on security level\n   */\n  function getDefaultExpertiseLevel(level: SecurityLevel): string {\n    switch (level) {\n      case \"None\":\n        return \"None\";\n      case \"Low\":\n        return \"Basic security knowledge\";\n      case \"Moderate\":\n        return \"Security professional\";\n      case \"High\":\n        return \"Security specialist\";\n      case \"Very High\":\n        return \"Security expert team\";\n      default:\n        return \"Not specified\";\n    }\n  }\n\n  /**\n   * Get comprehensive business impact details\n   */\n  function getBusinessImpact(\n    component: CIAComponentType,\n    level: SecurityLevel\n  ): BusinessImpactDetails {\n    const details = getComponentDetails(component, level);\n\n    // Default response if no details found\n    if (!details) {\n      return {\n        summary: \"No business impact details available\",\n        financial: {\n          description: \"Financial impact not specified\",\n          riskLevel: RISK_LEVELS.UNKNOWN,\n        },\n        operational: {\n          description: \"Operational impact not specified\",\n          riskLevel: RISK_LEVELS.UNKNOWN,\n        },\n      };\n    }\n\n    // Extract impact details from businessImpactDetails if available\n    const impactDetails = details.businessImpactDetails || {};\n\n    // Return structured business impact\n    return {\n      summary:\n        details.businessImpact ||\n        `Standard ${level} ${component} security impact`,\n      financial: {\n        description:\n          impactDetails.financialImpact?.description ||\n          \"Financial impact not specified\",\n        riskLevel:\n          impactDetails.financialImpact?.riskLevel || RISK_LEVELS.UNKNOWN,\n        annualRevenueLoss: impactDetails.financialImpact?.annualRevenueLoss,\n      },\n      operational: {\n        description:\n          impactDetails.operationalImpact?.description ||\n          \"Operational impact not specified\",\n        riskLevel:\n          impactDetails.operationalImpact?.riskLevel || RISK_LEVELS.UNKNOWN,\n        meanTimeToRecover: impactDetails.operationalImpact?.meanTimeToRecover,\n      },\n      reputational: impactDetails.reputationalImpact && {\n        description: impactDetails.reputationalImpact.description,\n        riskLevel:\n          impactDetails.reputationalImpact.riskLevel || RISK_LEVELS.UNKNOWN,\n      },\n      strategic: impactDetails.strategic && {\n        description: impactDetails.strategic.description,\n        riskLevel: impactDetails.strategic.riskLevel || RISK_LEVELS.UNKNOWN,\n        competitiveAdvantage: undefined,\n      },\n      regulatory: impactDetails.regulatory && {\n        description: impactDetails.regulatory.description,\n        riskLevel: impactDetails.regulatory.riskLevel || RISK_LEVELS.UNKNOWN,\n        complianceImpact: undefined,\n      },\n    };\n  }\n\n  /**\n   * Get detailed component description with enhanced type safety\n   */\n  function getDetailedDescription(\n    component: CIAComponentType,\n    level: SecurityLevel\n  ): string {\n    // Validate input parameters\n    if (!component || !level) {\n      return \"Invalid component or security level specified\";\n    }\n\n    const details = getComponentDetails(component, level);\n    return details?.description || `${level} ${component} controls`;\n  }\n\n  /**\n   * Get business perspective information for a component and level\n   */\n  function getBusinessPerspective(\n    component: CIAComponentType,\n    level: SecurityLevel\n  ): string {\n    const details = getComponentDetails(component, level);\n    return (\n      details?.businessPerspective ||\n      `No business perspective available for ${level} ${component}`\n    );\n  }\n\n  /**\n   * Get recommendations for a specific component and level\n   * Always returns a string array, even when no recommendations are found\n   */\n  function getRecommendations(\n    component: CIAComponentType,\n    level: SecurityLevel\n  ): string[] {\n    const details = getComponentDetails(component, level);\n\n    // If we have recommendations, return them\n    if (details?.recommendations && Array.isArray(details.recommendations)) {\n      return details.recommendations;\n    }\n\n    // Final fallback - empty array\n    return [];\n  }\n\n  /**\n   * Get ROI information for a security level with proper type handling\n   */\n  function getROIEstimates(level: SecurityLevel): ROIMetrics {\n    const normalizedLevel = level.toUpperCase().replace(/\\s+/g, \"_\");\n\n    // Create a safer default ROI metrics object\n    const defaultROI: ROIMetrics = {\n      returnRate: \"0%\",\n      description: \"No ROI data available\",\n      potentialSavings: \"N/A\",\n      breakEvenPeriod: \"N/A\",\n    };\n\n    // Use type assertion only after checking if the key exists\n    const availableKeys = Object.keys(dataProvider.roiEstimates);\n    const key = availableKeys.includes(normalizedLevel)\n      ? normalizedLevel\n      : \"NONE\";\n\n    // Use a type assertion here to fix the index signature error\n    return (\n      dataProvider.roiEstimates[key as keyof ROIEstimatesMap] ?? defaultROI\n    );\n  }\n\n  /**\n   * Calculate ROI based on security levels with improved type safety\n   */\n  function calculateRoi(\n    availabilityLevel: SecurityLevel,\n    integrityLevel: SecurityLevel,\n    confidentialityLevel: SecurityLevel\n  ): string {\n    // Define valid security levels\n    const levels: readonly SecurityLevel[] = [\n      \"None\",\n      \"Low\",\n      \"Moderate\",\n      \"High\",\n      \"Very High\",\n    ];\n\n    // Safely handle potentially invalid levels\n    const safeGetIndex = (level: SecurityLevel): number => {\n      const index = levels.indexOf(level);\n      return index >= 0 ? index : 0; // Default to 0 (None) if level is invalid\n    };\n\n    const availIdx = safeGetIndex(availabilityLevel);\n    const integrityIdx = safeGetIndex(integrityLevel);\n    const confidentialityIdx = safeGetIndex(confidentialityLevel);\n\n    const avgLevel = Math.round(\n      (availIdx + integrityIdx + confidentialityIdx) / 3\n    );\n    const baseRoi = 100 + avgLevel * 75; // None: 100%, Low: 175%, Moderate: 250%, etc.\n\n    return `${baseRoi}%`;\n  }\n\n  /**\n   * Get combined metrics for a security profile\n   */\n  function getSecurityMetrics(\n    availabilityLevel: SecurityLevel,\n    integrityLevel: SecurityLevel,\n    confidentialityLevel: SecurityLevel\n  ) {\n    const availDetail = getComponentDetails(\"availability\", availabilityLevel);\n    const integrityDetail = getComponentDetails(\"integrity\", integrityLevel);\n    const confidentialityDetail = getComponentDetails(\n      \"confidentiality\",\n      confidentialityLevel\n    );\n\n    const totalCapex =\n      (availDetail?.capex || 0) +\n      (integrityDetail?.capex || 0) +\n      (confidentialityDetail?.capex || 0);\n\n    const totalOpex =\n      (availDetail?.opex || 0) +\n      (integrityDetail?.opex || 0) +\n      (confidentialityDetail?.opex || 0);\n\n    return {\n      totalCapex,\n      totalOpex,\n      capexEstimate: `$${totalCapex * 5000}`,\n      opexEstimate: `$${totalOpex * 2000}/year`,\n      isSmallSolution: totalCapex <= 60,\n      roi: calculateRoi(\n        availabilityLevel,\n        integrityLevel,\n        confidentialityLevel\n      ),\n    };\n  }\n\n  /**\n   * Get compliance status based on CIA security levels\n   */\n  function getComplianceStatus(\n    availabilityLevel: SecurityLevel,\n    integrityLevel: SecurityLevel,\n    confidentialityLevel: SecurityLevel\n  ): {\n    compliantFrameworks: string[];\n    partiallyCompliantFrameworks: string[];\n    nonCompliantFrameworks: string[];\n    requirements?: string[];\n    remediationSteps?: string[];\n  } {\n    const levelValues = {\n      None: 0,\n      Low: 1,\n      Moderate: 2,\n      High: 3,\n      \"Very High\": 4,\n    };\n\n    const availValue = levelValues[availabilityLevel];\n    const integValue = levelValues[integrityLevel];\n    const confidValue = levelValues[confidentialityLevel];\n\n    // Use eslint-disable for unused totalScore\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const totalScore = availValue + integValue + confidValue;\n\n    // Determine compliance status based on total score\n    let compliantFrameworks: string[] = [];\n    let partiallyCompliantFrameworks: string[] = [];\n    let nonCompliantFrameworks: string[] = [];\n\n    // SOC2 compliance - requires moderate security in all areas\n    if (availValue >= 2 && integValue >= 2 && confidValue >= 2) {\n      compliantFrameworks.push(\"SOC2\");\n    } else if (availValue >= 1 && integValue >= 1 && confidValue >= 1) {\n      partiallyCompliantFrameworks.push(\"SOC2\");\n    } else {\n      nonCompliantFrameworks.push(\"SOC2\");\n    }\n\n    // ISO27001 compliance - requires high security in at least one area\n    if (availValue >= 3 || integValue >= 3 || confidValue >= 3) {\n      compliantFrameworks.push(\"ISO27001\");\n    } else if (availValue >= 2 && integValue >= 2 && confidValue >= 2) {\n      partiallyCompliantFrameworks.push(\"ISO27001\");\n    } else {\n      nonCompliantFrameworks.push(\"ISO27001\");\n    }\n\n    // PCI DSS - heavily focused on confidentiality\n    if (confidValue >= 3 && integValue >= 2) {\n      compliantFrameworks.push(\"PCI_DSS\");\n    } else if (confidValue >= 2) {\n      partiallyCompliantFrameworks.push(\"PCI_DSS\");\n    } else {\n      nonCompliantFrameworks.push(\"PCI_DSS\");\n    }\n\n    // HIPAA - requires high on confidentiality and moderate on others\n    if (confidValue >= 3 && availValue >= 2 && integValue >= 2) {\n      compliantFrameworks.push(\"HIPAA\");\n    } else if (confidValue >= 2 && availValue >= 1 && integValue >= 1) {\n      partiallyCompliantFrameworks.push(\"HIPAA\");\n    } else {\n      nonCompliantFrameworks.push(\"HIPAA\");\n    }\n\n    // NIST 800-53 High - requires high or very high on all\n    if (availValue >= 3 && integValue >= 3 && confidValue >= 3) {\n      compliantFrameworks.push(\"NIST\");\n    } else if (availValue >= 2 && integValue >= 2 && confidValue >= 2) {\n      partiallyCompliantFrameworks.push(\"NIST\");\n    } else {\n      nonCompliantFrameworks.push(\"NIST\");\n    }\n\n    // Generate requirements and remediation steps\n    const requirements = generateRequirements(compliantFrameworks);\n    const remediationSteps = generateRemediationSteps(\n      partiallyCompliantFrameworks,\n      nonCompliantFrameworks\n    );\n\n    return {\n      compliantFrameworks,\n      partiallyCompliantFrameworks,\n      nonCompliantFrameworks,\n      requirements,\n      remediationSteps,\n    };\n  }\n\n  /**\n   * Generate compliance requirements based on compliant frameworks\n   */\n  function generateRequirements(compliantFrameworks: string[]): string[] {\n    const requirements: string[] = [];\n\n    if (compliantFrameworks.includes(\"SOC2\")) {\n      requirements.push(\"Logical access controls\");\n      requirements.push(\"Change management processes\");\n    }\n\n    if (compliantFrameworks.includes(\"ISO27001\")) {\n      requirements.push(\"Risk assessment framework\");\n      requirements.push(\"Security incident management\");\n    }\n\n    if (compliantFrameworks.includes(\"PCI_DSS\")) {\n      requirements.push(\"Data encryption\");\n      requirements.push(\"Network monitoring\");\n      requirements.push(\"Regular vulnerability scanning\");\n    }\n\n    if (compliantFrameworks.includes(\"HIPAA\")) {\n      requirements.push(\"Protected health information safeguards\");\n      requirements.push(\"Breach notification protocols\");\n    }\n\n    if (compliantFrameworks.includes(\"NIST\")) {\n      requirements.push(\"Continuous monitoring\");\n      requirements.push(\"Comprehensive documentation\");\n      requirements.push(\"Strict access controls\");\n    }\n\n    return requirements;\n  }\n\n  /**\n   * Generate remediation steps for non-compliant frameworks\n   */\n  function generateRemediationSteps(\n    partiallyCompliantFrameworks: string[],\n    nonCompliantFrameworks: string[]\n  ): string[] {\n    const steps: string[] = [];\n\n    // Add steps for partially compliant frameworks\n    if (partiallyCompliantFrameworks.includes(\"SOC2\")) {\n      steps.push(\"Implement additional access controls\");\n    }\n\n    if (partiallyCompliantFrameworks.includes(\"ISO27001\")) {\n      steps.push(\"Develop and document risk assessment framework\");\n    }\n\n    // Add steps for non-compliant frameworks\n    if (nonCompliantFrameworks.includes(\"PCI_DSS\")) {\n      steps.push(\"Implement encryption for sensitive data\");\n      steps.push(\"Establish network segmentation\");\n    }\n\n    if (nonCompliantFrameworks.includes(\"HIPAA\")) {\n      steps.push(\"Develop PHI handling procedures\");\n      steps.push(\"Implement breach notification process\");\n    }\n\n    if (nonCompliantFrameworks.includes(\"NIST\")) {\n      steps.push(\"Implement continuous monitoring solution\");\n      steps.push(\"Develop comprehensive security documentation\");\n    }\n\n    return steps;\n  }\n\n  /**\n   * Get impact metrics for a given CIA component and security level\n   */\n  const getComponentMetrics = (\n    component: CIAComponentType,\n    level: SecurityLevel\n  ): ComponentMetrics => {\n    const details = getComponentDetails(component, level);\n\n    // Handle regulatory impact specially since the path might be different\n    let regulatoryImpactDesc = \"\";\n    if (\n      details?.businessImpactDetails &&\n      \"regulatory\" in details.businessImpactDetails\n    ) {\n      const regulatory = details.businessImpactDetails.regulatory;\n      regulatoryImpactDesc = regulatory?.description || \"\";\n    }\n\n    return {\n      financialImpact:\n        details?.businessImpactDetails?.financialImpact?.description,\n      operationalImpact:\n        details?.businessImpactDetails?.operationalImpact?.description,\n      reputationalImpact:\n        details?.businessImpactDetails?.reputationalImpact?.description,\n      regulatoryImpact: regulatoryImpactDesc,\n      uptime: details?.uptime,\n      rto: details?.rto,\n      rpo: details?.rpo,\n      mttr: details?.mttr,\n      keyImpact: details?.keyImpact || determineKeyImpact(component, level),\n      metric: details?.metric || determineMetric(component, level),\n    };\n  };\n\n  /**\n   * Determine a key impact message for each component and level\n   */\n  function determineKeyImpact(\n    component: CIAComponentType,\n    level: SecurityLevel\n  ): string {\n    if (component === \"availability\") {\n      switch (level) {\n        case \"None\":\n          return \"No guaranteed uptime\";\n        case \"Low\":\n          return \"Basic availability\";\n        case \"Moderate\":\n          return \"Standard business hours\";\n        case \"High\":\n          return \"High availability\";\n        case \"Very High\":\n          return \"Continuous availability\";\n        default:\n          return \"Unknown impact\";\n      }\n    } else if (component === \"integrity\") {\n      switch (level) {\n        case \"None\":\n          return \"No data integrity\";\n        case \"Low\":\n          return \"Basic integrity checks\";\n        case \"Moderate\":\n          return \"Standard validation\";\n        case \"High\":\n          return \"Advanced integrity controls\";\n        case \"Very High\":\n          return \"Complete data integrity\";\n        default:\n          return \"Unknown impact\";\n      }\n    } else if (component === \"confidentiality\") {\n      switch (level) {\n        case \"None\":\n          return \"Public information only\";\n        case \"Low\":\n          return \"Limited protection\";\n        case \"Moderate\":\n          return \"Business confidential\";\n        case \"High\":\n          return \"Sensitive information\";\n        case \"Very High\":\n          return \"Highly classified\";\n        default:\n          return \"Unknown impact\";\n      }\n    }\n    return \"Unknown component\";\n  }\n\n  /**\n   * Determine a metric for each component and level\n   */\n  function determineMetric(\n    component: CIAComponentType,\n    level: SecurityLevel\n  ): string {\n    if (component === \"availability\") {\n      switch (level) {\n        case \"None\":\n          return \"< 90% uptime\";\n        case \"Low\":\n          return \"95% uptime\";\n        case \"Moderate\":\n          return \"99% uptime\";\n        case \"High\":\n          return \"99.9% uptime\";\n        case \"Very High\":\n          return \"99.999% uptime\";\n        default:\n          return \"Unknown metric\";\n      }\n    } else if (component === \"integrity\") {\n      switch (level) {\n        case \"None\":\n          return \"No validation\";\n        case \"Low\":\n          return \"Basic checksums\";\n        case \"Moderate\":\n          return \"Hash validation\";\n        case \"High\":\n          return \"Digital signatures\";\n        case \"Very High\":\n          return \"Blockchain verification\";\n        default:\n          return \"Unknown metric\";\n      }\n    } else if (component === \"confidentiality\") {\n      switch (level) {\n        case \"None\":\n          return \"No encryption\";\n        case \"Low\":\n          return \"Basic encryption\";\n        case \"Moderate\":\n          return \"Standard encryption\";\n        case \"High\":\n          return \"Advanced encryption\";\n        case \"Very High\":\n          return \"Quantum-safe encryption\";\n        default:\n          return \"Unknown metric\";\n      }\n    }\n    return \"Unknown component\";\n  }\n\n  /**\n   * Get combined impact metrics for all CIA components\n   */\n  const getImpactMetrics = (\n    availabilityLevel: SecurityLevel,\n    integrityLevel: SecurityLevel,\n    confidentialityLevel: SecurityLevel\n  ): Record<string, ComponentMetrics> => {\n    return {\n      availability: getComponentMetrics(\"availability\", availabilityLevel),\n      integrity: getComponentMetrics(\"integrity\", integrityLevel),\n      confidentiality: getComponentMetrics(\n        \"confidentiality\",\n        confidentialityLevel\n      ),\n      // Add aggregate metrics as strings to avoid type issues\n      businessImpact: determineBusinessImpact(\n        availabilityLevel,\n        integrityLevel,\n        confidentialityLevel\n      ) as unknown as ComponentMetrics,\n      technicalImpact: determineTechnicalImpact(\n        availabilityLevel,\n        integrityLevel,\n        confidentialityLevel\n      ) as unknown as ComponentMetrics,\n      regulatoryImpact: determineRegulatoryImpact(\n        availabilityLevel,\n        integrityLevel,\n        confidentialityLevel\n      ) as unknown as ComponentMetrics,\n      securityScore: calculateSecurityScore(\n        availabilityLevel,\n        integrityLevel,\n        confidentialityLevel\n      ) as unknown as ComponentMetrics,\n      complianceScore: calculateComplianceScore(\n        availabilityLevel,\n        integrityLevel,\n        confidentialityLevel\n      ) as unknown as ComponentMetrics,\n      costEffectivenessScore: calculateCostEffectivenessScore(\n        availabilityLevel,\n        integrityLevel,\n        confidentialityLevel\n      ) as unknown as ComponentMetrics,\n    };\n  };\n\n  // Helper functions for impact metrics\n  function determineBusinessImpact(\n    a: SecurityLevel,\n    i: SecurityLevel,\n    c: SecurityLevel\n  ): string {\n    // Use parameters to show intent\n    console.log(`Calculating business impact for A=${a}, I=${i}, C=${c}`);\n    return \"Business impact assessment\";\n  }\n\n  function determineTechnicalImpact(\n    a: SecurityLevel,\n    i: SecurityLevel,\n    c: SecurityLevel\n  ): string {\n    // Use parameters to show intent\n    console.log(`Technical impact analysis using A=${a}, I=${i}, C=${c}`);\n    return \"Technical impact assessment\";\n  }\n\n  function determineRegulatoryImpact(\n    a: SecurityLevel,\n    i: SecurityLevel,\n    c: SecurityLevel\n  ): string {\n    // Use parameters to show intent\n    console.log(`Regulatory impact analysis using A=${a}, I=${i}, C=${c}`);\n    return \"Regulatory impact assessment\";\n  }\n\n  function calculateSecurityScore(\n    a: SecurityLevel,\n    i: SecurityLevel,\n    c: SecurityLevel\n  ): number {\n    const levelToScore = (level: SecurityLevel): number => {\n      switch (level) {\n        case \"None\":\n          return 0;\n        case \"Low\":\n          return 25;\n        case \"Moderate\":\n          return 50;\n        case \"High\":\n          return 75;\n        case \"Very High\":\n          return 100;\n      }\n    };\n\n    return Math.round(\n      (levelToScore(a) + levelToScore(i) + levelToScore(c)) / 3\n    );\n  }\n\n  function calculateComplianceScore(\n    a: SecurityLevel,\n    i: SecurityLevel,\n    c: SecurityLevel\n  ): number {\n    return calculateSecurityScore(a, i, c) - 10; // Just for demonstration\n  }\n\n  function calculateCostEffectivenessScore(\n    a: SecurityLevel,\n    i: SecurityLevel,\n    c: SecurityLevel\n  ): number {\n    return 100 - calculateSecurityScore(a, i, c); // Inverse correlation for demo\n  }\n\n  /**\n   * Get security resources based on security levels\n   */\n  const getSecurityResources = (\n    availabilityLevel: SecurityLevel,\n    integrityLevel: SecurityLevel,\n    confidentialityLevel: SecurityLevel,\n    securityLevel: SecurityLevel\n  ): SecurityResource[] => {\n    // Use the parameters for resource filtering\n    const securityScore = calculateSecurityScore(\n      availabilityLevel,\n      integrityLevel,\n      confidentialityLevel\n    );\n\n    // Return resources filtered by security score\n    return [\n      {\n        title: `${securityLevel} Security Resource`,\n        description: `Resource for ${availabilityLevel} availability, ${integrityLevel} integrity, and ${confidentialityLevel} confidentiality`,\n        url: \"https://example.com/security-resource\",\n        category: \"Framework\",\n        tags: [\"framework\", \"guidelines\", \"risk-management\"],\n        relevanceScore: securityScore,\n        type: \"Documentation\",\n      },\n      // ...more resources...\n    ];\n  };\n\n  /**\n   * Helper functions and types for technical implementation details\n   */\n\n  /**\n   * Technical implementation details for different security components\n   */\n  interface ComponentTechnicalDetails {\n    description: string;\n    implementationSteps: string[];\n    effort: {\n      development: string;\n      maintenance: string;\n      expertise: string;\n    };\n  }\n\n  /**\n   * Get security level description with meaningful context\n   */\n  function getSecurityLevelDescription(level: SecurityLevel): string {\n    // Ideally, this would come from a shared definitions object in useCIAOptions\n    const descriptions: Record<SecurityLevel, string> = {\n      None: \"No specific security controls applied. Suitable only for non-sensitive public information.\",\n      Low: \"Basic security controls for internal use. Minimal protection against casual threats.\",\n      Moderate:\n        \"Standard security controls suitable for business data. Balanced protection against common threats.\",\n      High: \"Enhanced security controls for sensitive data. Robust protection against sophisticated threats.\",\n      \"Very High\":\n        \"Maximum security controls for critical data. Comprehensive protection against advanced threats.\",\n    };\n\n    return descriptions[level] || `${level} security level`;\n  }\n\n  /**\n   * Get information sensitivity classification based on confidentiality level\n   */\n  function getInformationSensitivity(level: SecurityLevel): string {\n    switch (level) {\n      case \"None\":\n        return \"Public Data\";\n      case \"Low\":\n        return \"Internal Data\";\n      case \"Moderate\":\n        return \"Sensitive Data\";\n      case \"High\":\n        return \"Confidential Data\";\n      case \"Very High\":\n        return \"Restricted Data\";\n      default:\n        return \"Unknown\";\n    }\n  }\n\n  /**\n   * Get protection level description based on confidentiality level\n   */\n  function getProtectionLevel(level: SecurityLevel): string {\n    switch (level) {\n      case \"None\":\n        return \"No Protection\";\n      case \"Low\":\n        return \"Basic Protection\";\n      case \"Moderate\":\n        return \"Standard Protection\";\n      case \"High\":\n        return \"Enhanced Protection\";\n      case \"Very High\":\n        return \"Maximum Protection\";\n      default:\n        return \"Unknown\";\n    }\n  }\n\n  /**\n   * Calculate business impact level based on CIA security levels\n   */\n  function calculateBusinessImpactLevel(\n    availLevel: SecurityLevel,\n    integrLevel: SecurityLevel,\n    confLevel: SecurityLevel\n  ): SecurityLevel {\n    const levels: SecurityLevel[] = [\n      \"None\",\n      \"Low\",\n      \"Moderate\",\n      \"High\",\n      \"Very High\",\n    ];\n    const availIndex = levels.indexOf(availLevel);\n    const integrIndex = levels.indexOf(integrLevel);\n    const confIndex = levels.indexOf(confLevel);\n\n    const avgIndex = Math.round((availIndex + integrIndex + confIndex) / 3);\n    return levels[avgIndex] || \"Moderate\";\n  }\n\n  /**\n   * Get appropriate badge variant based on risk level\n   */\n  function getRiskBadgeVariant(\n    riskLevel: string\n  ): \"info\" | \"success\" | \"warning\" | \"error\" | \"neutral\" {\n    const riskMap: Record<\n      string,\n      \"info\" | \"success\" | \"warning\" | \"error\" | \"neutral\"\n    > = {\n      Critical: \"error\",\n      High: \"warning\",\n      Medium: \"info\",\n      Low: \"success\",\n      Minimal: \"success\",\n    };\n\n    return riskMap[riskLevel] || \"neutral\";\n  }\n\n  /**\n   * Get icon for business impact category\n   */\n  function getCategoryIcon(category: string): string {\n    const icons: Record<string, string> = {\n      FINANCIAL: \"üí∞\",\n      OPERATIONAL: \"‚öôÔ∏è\",\n      REPUTATIONAL: \"üèÜ\",\n      REGULATORY: \"‚öñÔ∏è\",\n      STRATEGIC: \"üéØ\",\n      NEUTRAL: \"üìä\",\n    };\n\n    const normalizedCategory = category.toUpperCase();\n    // Ensure we always return a string by using nullish coalescing with a default\n    return icons[normalizedCategory] ?? icons.NEUTRAL ?? \"üìä\";\n  }\n\n  /**\n   * Get value points for a security level\n   */\n  function getValuePoints(level: SecurityLevel): string[] {\n    // Get component details for any component (just to check if valuePoints exists)\n    const availDetails = getComponentDetails(\"availability\", level);\n\n    // If the component has valuePoints defined, use them\n    if (availDetails?.valuePoints && availDetails.valuePoints.length > 0) {\n      return availDetails.valuePoints;\n    }\n\n    // Use the provider's default implementation\n    return dataProvider.getDefaultValuePoints(level);\n  }\n\n  /**\n   * Get ROI estimate data for security level\n   */\n  function getROIEstimate(level: SecurityLevel): {\n    value: string;\n    returnRate: string; // Add returnRate to return type\n    description: string;\n  } {\n    switch (level) {\n      case \"Very High\":\n        return {\n          value: \"5x+\",\n          returnRate: \"5x+\", // Add returnRate with same value\n          description: \"Maximum return with comprehensive security controls\",\n        };\n      case \"High\":\n        return {\n          value: \"3-5x\",\n          returnRate: \"3-5x\", // Add returnRate with same value\n          description: \"Strong return with robust security implementation\",\n        };\n      case \"Moderate\":\n        return {\n          value: \"2-3x\",\n          returnRate: \"2-3x\", // Add returnRate with same value\n          description: \"Good return with balanced security approach\",\n        };\n      case \"Low\":\n        return {\n          value: \"1-2x\",\n          returnRate: \"1-2x\", // Add returnRate with same value\n          description: \"Basic return with minimal security investment\",\n        };\n      default:\n        return {\n          value: \"Negative\",\n          returnRate: \"Negative\", // Add returnRate with same value\n          description: \"No return without security investment\",\n        };\n    }\n  }\n\n  /**\n   * Get implementation considerations for a security level\n   */\n  function getImplementationConsiderations(level: SecurityLevel): string {\n    switch (level) {\n      case \"Very High\":\n        return \"Implementation requires significant upfront investment but offers maximum long-term value through comprehensive risk reduction and regulatory compliance.\";\n      case \"High\":\n        return \"Balanced approach with substantial security benefits and reasonable implementation costs for most organizations with sensitive data or operations.\";\n      case \"Moderate\":\n        return \"Cost-effective implementation that provides standard security capabilities suitable for most business applications and moderate risk environments.\";\n      case \"Low\":\n        return \"Minimal implementation effort focused on essential security controls, appropriate for non-critical systems or limited budgets.\";\n      default:\n        return \"No security implementation considerations. Consider baseline security controls for any business system.\";\n    }\n  }\n\n  /**\n   * Get technical implementation details for each component and level\n   */\n  function getComponentImplementationDetails(\n    component: CIAComponentType,\n    level: SecurityLevel\n  ): ComponentTechnicalDetails {\n    // Get component details from appropriate options\n    const details = getComponentDetails(component, level);\n\n    // Default values for effort\n    const defaultEffort = {\n      development: getDefaultDevelopmentEffort(level),\n      maintenance: getDefaultMaintenanceEffort(level),\n      expertise: getDefaultExpertiseLevel(level),\n    };\n\n    // Default implementation steps\n    const defaultSteps = [\"Implement basic controls\", \"Document procedures\"];\n\n    if (component === \"availability\") {\n      return {\n        description: details?.technical || \"\",\n        implementationSteps:\n          details?.technicalImplementation?.implementationSteps || defaultSteps,\n        effort: details?.technicalImplementation?.effort || defaultEffort,\n      };\n    }\n\n    if (component === \"integrity\") {\n      return {\n        description: details?.technical || \"\",\n        implementationSteps:\n          details?.technicalImplementation?.implementationSteps || defaultSteps,\n        effort: details?.technicalImplementation?.effort || defaultEffort,\n      };\n    }\n\n    if (component === \"confidentiality\") {\n      return {\n        description: details?.technical || \"\",\n        implementationSteps:\n          details?.technicalImplementation?.implementationSteps || defaultSteps,\n        effort: details?.technicalImplementation?.effort || defaultEffort,\n      };\n    }\n\n    // Default case\n    return {\n      description: `Technical implementation for ${level} ${component}`,\n      implementationSteps: defaultSteps,\n      effort: defaultEffort,\n    };\n  }\n\n  /**\n   * Get business impact description for a component and level\n   */\n  function getBusinessImpactDescription(\n    component: CIAComponentType,\n    level: SecurityLevel\n  ): string {\n    const details = getComponentDetails(component, level);\n    return (\n      details?.businessImpact ||\n      `${level} ${component} impact on business operations`\n    );\n  }\n\n  /**\n   * Get technical description for a component and level\n   */\n  function getTechnicalDescription(\n    component: CIAComponentType,\n    level: SecurityLevel\n  ): string {\n    const details = getComponentDetails(component, level);\n    return (\n      details?.technical || `${level} ${component} technical implementation`\n    );\n  }\n\n  /**\n   * Get security icon for a security level\n   */\n  function getSecurityIcon(level: SecurityLevel): string {\n    // Check if any component for this level has a securityIcon\n    const availDetails = getComponentDetails(\"availability\", level);\n\n    if (availDetails?.securityIcon) {\n      return availDetails.securityIcon;\n    }\n\n    // Use the provider's default implementation\n    return dataProvider.getDefaultSecurityIcon(level);\n  }\n\n  /**\n   * Get compliant frameworks based on security levels\n   */\n  function getCompliantFrameworks(\n    availabilityLevel: SecurityLevel,\n    integrityLevel: SecurityLevel,\n    confidentialityLevel: SecurityLevel\n  ): string[] {\n    const complianceStatus = getComplianceStatus(\n      availabilityLevel,\n      integrityLevel,\n      confidentialityLevel\n    );\n\n    return complianceStatus.compliantFrameworks;\n  }\n\n  /**\n   * Get framework description for a specific compliance framework\n   */\n  function getFrameworkDescription(framework: string): string {\n    const frameworkDescriptions: Record<string, string> = {\n      SOC2: \"System and Organization Controls 2 - Focuses on security, availability, processing integrity, confidentiality, and privacy\",\n      ISO27001: \"International standard for information security management\",\n      PCI_DSS:\n        \"Payment Card Industry Data Security Standard - Security standard for organizations handling credit cards\",\n      HIPAA:\n        \"Health Insurance Portability and Accountability Act - Standards for sensitive patient data protection\",\n      NIST: \"National Institute of Standards and Technology - Framework for improving critical infrastructure cybersecurity\",\n      GDPR: \"General Data Protection Regulation - EU data protection and privacy regulation\",\n      CCPA: \"California Consumer Privacy Act - Enhances privacy rights and consumer protection\",\n    };\n\n    return (\n      frameworkDescriptions[framework] || `${framework} compliance framework`\n    );\n  }\n\n  /**\n   * Get implementation time estimate based on security levels\n   */\n  function getImplementationTime(\n    availabilityLevel: SecurityLevel,\n    integrityLevel: SecurityLevel,\n    confidentialityLevel: SecurityLevel\n  ): string {\n    const levelValues = {\n      None: 0,\n      Low: 1,\n      Moderate: 2,\n      High: 3,\n      \"Very High\": 4,\n    };\n\n    const availValue = levelValues[availabilityLevel];\n    const integValue = levelValues[integrityLevel];\n    const confidValue = levelValues[confidentialityLevel];\n\n    const totalScore = availValue + integValue + confidValue;\n\n    if (totalScore <= 2) return \"1-2 weeks\";\n    if (totalScore <= 5) return \"2-4 weeks\";\n    if (totalScore <= 8) return \"1-3 months\";\n    if (totalScore <= 10) return \"3-6 months\";\n    return \"6+ months\";\n  }\n\n  // Return the public service API\n  return {\n    getCIAOptions,\n    getComponentDetails,\n    getBusinessImpact,\n    getDetailedDescription,\n    getBusinessPerspective,\n    getRecommendations,\n    getROIEstimates,\n    getSecurityMetrics,\n    getComplianceStatus,\n    getComponentMetrics,\n    getImpactMetrics,\n    getSecurityResources,\n    getTechnicalImplementation,\n    getSecurityLevelDescription,\n    getInformationSensitivity,\n    getProtectionLevel,\n    calculateBusinessImpactLevel,\n    getRiskBadgeVariant,\n    getCategoryIcon,\n    getValuePoints,\n    getROIEstimate,\n    getImplementationConsiderations,\n    getComponentImplementationDetails,\n    getBusinessImpactDescription,\n    getTechnicalDescription,\n    getSecurityIcon,\n    getCompliantFrameworks,\n    getFrameworkDescription,\n    getImplementationTime,\n  };\n}\n\n// Create a default instance of the service for backward compatibility\nconst defaultService = createCIAContentService();\n\n// Export the default instance\nexport default defaultService;\nexport const getBusinessImpact = defaultService.getBusinessImpact;\nexport const getDetailedDescription = defaultService.getDetailedDescription;\nexport const getBusinessPerspective = defaultService.getBusinessPerspective;\nexport const getRecommendations = defaultService.getRecommendations;\nexport const getROIEstimates = defaultService.getROIEstimates;\nexport const getSecurityMetrics = defaultService.getSecurityMetrics;\nexport const getComplianceStatus = defaultService.getComplianceStatus;\n\n// Add new exports for these functions\nexport const getSecurityLevelDescription =\n  defaultService.getSecurityLevelDescription;\nexport const getInformationSensitivity =\n  defaultService.getInformationSensitivity;\nexport const getProtectionLevel = defaultService.getProtectionLevel;\nexport const calculateBusinessImpactLevel =\n  defaultService.calculateBusinessImpactLevel;\nexport const getRiskBadgeVariant = defaultService.getRiskBadgeVariant;\nexport const getCategoryIcon = defaultService.getCategoryIcon;\nexport const getValuePoints = defaultService.getValuePoints;\nexport const getROIEstimate = defaultService.getROIEstimate;\nexport const getImplementationConsiderations =\n  defaultService.getImplementationConsiderations;\nexport const getComponentImplementationDetails =\n  defaultService.getComponentImplementationDetails;\nexport const getBusinessImpactDescription =\n  defaultService.getBusinessImpactDescription;\nexport const getTechnicalDescription = defaultService.getTechnicalDescription;\nexport const getSecurityIcon = defaultService.getSecurityIcon;\nexport const getCompliantFrameworks = defaultService.getCompliantFrameworks;\nexport const getFrameworkDescription = defaultService.getFrameworkDescription;\nexport const getImplementationTime = defaultService.getImplementationTime;\n\n// Export the types\nexport type { ComponentMetrics, SecurityResource };\n","import React, { ReactNode } from \"react\";\nimport { COMMON_COMPONENT_TEST_IDS } from \"../../constants/testIds\";\n\nexport type StatusBadgeVariant =\n  | \"neutral\"\n  | \"success\"\n  | \"warning\"\n  | \"error\"\n  | \"info\"\n  | \"purple\";\n\nexport type StatusBadgeSize = \"xs\" | \"sm\" | \"md\" | \"lg\";\n\ninterface StatusBadgeProps {\n  status: StatusBadgeVariant;\n  children: ReactNode;\n  className?: string;\n  size?: StatusBadgeSize;\n  testId?: string;\n}\n\n/**\n * StatusBadge displays statuses and labels with consistent styling\n * Enhanced with Ingress-style visual effects in dark mode\n */\nconst StatusBadge: React.FC<StatusBadgeProps> = ({\n  status = \"neutral\",\n  children,\n  className = \"\",\n  size = \"md\",\n  testId = COMMON_COMPONENT_TEST_IDS.STATUS_BADGE,\n}) => {\n  // Get base classes for the badge\n  const getBaseClasses = () => {\n    const baseClasses = [\n      \"inline-flex\",\n      \"items-center\",\n      \"justify-center\",\n      \"rounded-full\",\n      \"font-medium\",\n      \"status-badge\",\n    ];\n\n    // Add size-specific classes\n    switch (size) {\n      case \"xs\":\n        baseClasses.push(\"text-xs\", \"py-0.5\", \"px-2\");\n        break;\n      case \"sm\":\n        baseClasses.push(\"text-xs\", \"py-1\", \"px-2\");\n        break;\n      case \"lg\":\n        baseClasses.push(\"text-sm\", \"py-2\", \"px-4\", \"font-bold\");\n        break;\n      case \"md\":\n      default:\n        baseClasses.push(\"text-sm\", \"py-1\", \"px-3\");\n    }\n\n    return baseClasses.join(\" \");\n  };\n\n  // Get variant-specific styling\n  const getVariantClasses = () => {\n    // Define the classes for each variant\n    const variantMap: Record<StatusBadgeVariant, string> = {\n      success:\n        \"bg-green-100 text-green-800 dark:bg-green-900 dark:bg-opacity-20 dark:text-green-300 success\",\n      warning:\n        \"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:bg-opacity-20 dark:text-yellow-300 warning\",\n      error:\n        \"bg-red-100 text-red-800 dark:bg-red-900 dark:bg-opacity-20 dark:text-red-300 error\",\n      info: \"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:bg-opacity-20 dark:text-blue-300 info\",\n      purple:\n        \"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:bg-opacity-20 dark:text-purple-300 purple\",\n      neutral:\n        \"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:bg-opacity-50 dark:text-gray-300 neutral\",\n    };\n\n    return variantMap[status] || variantMap.neutral;\n  };\n\n  return (\n    <span\n      data-testid={testId}\n      data-status={status}\n      className={`${getBaseClasses()} ${getVariantClasses()} ${className}`}\n    >\n      {children}\n    </span>\n  );\n};\n\nexport default StatusBadge;\n","import React, { ReactNode } from \"react\";\nimport { SecurityLevel } from \"../../types/cia\";\nimport StatusBadge from \"./StatusBadge\";\n\ninterface CIAImpactCardProps {\n  title: string;\n  level: SecurityLevel;\n  description: string;\n  icon: string;\n  badgeVariant: \"purple\" | \"success\" | \"info\";\n  cardClass: string;\n  children?: ReactNode;\n  testId?: string;\n}\n\n/**\n * Reusable component for displaying CIA impact information with enhanced Ingress styling\n */\nconst CIAImpactCard: React.FC<CIAImpactCardProps> = ({\n  title,\n  level,\n  description,\n  icon,\n  badgeVariant,\n  cardClass,\n  children,\n  testId,\n}) => {\n  // Determine icon class based on card class\n  const getIconClass = () => {\n    if (cardClass.includes(\"confidentiality\")) return \"icon-confidentiality\";\n    if (cardClass.includes(\"integrity\")) return \"icon-integrity\";\n    if (cardClass.includes(\"availability\")) return \"icon-availability\";\n    return \"\";\n  };\n\n  // Get the security level indicator class\n  const getLevelClass = () => {\n    const levelMap: Record<string, string> = {\n      None: \"level-none\",\n      Low: \"level-low\",\n      Moderate: \"level-moderate\",\n      High: \"level-high\",\n      \"Very High\": \"level-very-high\",\n    };\n\n    return levelMap[level] || \"level-none\";\n  };\n\n  return (\n    <div\n      className={`p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border-l-4 ${cardClass} security-card`}\n      data-testid={testId}\n    >\n      <div className=\"flex items-center justify-between mb-3\">\n        <h3 className=\"text-lg font-medium flex items-center\">\n          <span className={`mr-2 ${getIconClass()}`}>{icon}</span>\n          {title}\n        </h3>\n        <StatusBadge status={badgeVariant} className=\"text-xs px-3\">\n          <span\n            className={`security-level-indicator ${getLevelClass()} mr-1`}\n          ></span>\n          {level}\n        </StatusBadge>\n      </div>\n\n      <p className=\"text-gray-600 dark:text-gray-300 mb-4\">{description}</p>\n\n      {children}\n    </div>\n  );\n};\n\nexport default CIAImpactCard;\n","import React, { ReactNode } from \"react\";\nimport { COMMON_COMPONENT_TEST_IDS } from \"../../constants/testIds\";\n\nexport interface KeyValuePairProps {\n  label: string;\n  value: ReactNode;\n  valueClassName?: string;\n  labelClassName?: string;\n  className?: string;\n  testId?: string;\n}\n\n/**\n * KeyValuePair displays a label and value pair with consistent styling\n *\n * @category UI Components\n * @param props - Component properties\n * @returns Rendered component\n */\nconst KeyValuePair: React.FC<KeyValuePairProps> = ({\n  label,\n  value,\n  valueClassName = \"\",\n  labelClassName = \"\",\n  className = \"\",\n  testId = COMMON_COMPONENT_TEST_IDS.KEY_VALUE_PAIR,\n}) => {\n  return (\n    <div className={`flex flex-col ${className}`} data-testid={testId}>\n      <span\n        className={`text-xs text-gray-500 dark:text-gray-400 mb-0.5 ${labelClassName}`}\n      >\n        {label}\n      </span>\n      <span\n        className={`font-medium text-sm text-gray-800 dark:text-gray-200 ${valueClassName}`}\n      >\n        {value}\n      </span>\n    </div>\n  );\n};\n\nexport default KeyValuePair;\n","import React, { useMemo, useState } from \"react\";\nimport { WIDGET_ICONS, WIDGET_TITLES } from \"../../constants\";\nimport { AVAILABILITY_IMPACT_TEST_IDS } from \"../../constants/testIds\";\nimport ciaContentService from \"../../services/ciaContentService\";\nimport { SecurityLevel } from \"../../types/cia\";\nimport CIAImpactCard from \"../common/CIAImpactCard\";\nimport KeyValuePair from \"../common/KeyValuePair\";\nimport WidgetContainer from \"../common/WidgetContainer\";\n\n/**\n * Props for AvailabilityImpactWidget component\n */\nexport interface AvailabilityImpactWidgetProps {\n  availabilityLevel: SecurityLevel;\n  integrityLevel?: SecurityLevel;\n  confidentialityLevel?: SecurityLevel;\n  className?: string;\n  testId?: string;\n  options?: Record<string, any>; // Added the missing options property\n}\n\nconst AvailabilityImpactWidget: React.FC<AvailabilityImpactWidgetProps> = ({\n  availabilityLevel,\n  integrityLevel: _integrityLevel, // Add underscore to mark as intentionally unused\n  confidentialityLevel: _confidentialityLevel, // Add underscore to mark as intentionally unused\n  className = \"\",\n  testId = AVAILABILITY_IMPACT_TEST_IDS.AVAILABILITY_IMPACT_PREFIX,\n  options: _options = {}, // Add underscore to mark as intentionally unused\n}) => {\n  const [showAllRecommendations, setShowAllRecommendations] = useState(false);\n\n  // Fetch component details from ciaContentService\n  const availabilityDetails = useMemo(\n    () =>\n      ciaContentService.getComponentDetails(\"availability\", availabilityLevel),\n    [availabilityLevel]\n  );\n\n  // Fetch business impact from ciaContentService\n  const businessImpact = useMemo(\n    () =>\n      ciaContentService.getBusinessImpact(\"availability\", availabilityLevel),\n    [availabilityLevel]\n  );\n\n  // Get technical implementation details\n  const technicalDetails = useMemo(\n    () =>\n      ciaContentService.getTechnicalImplementation(\n        \"availability\",\n        availabilityLevel\n      ),\n    [availabilityLevel]\n  );\n\n  // Get recommendations from service\n  const recommendations = useMemo(\n    () =>\n      ciaContentService.getRecommendations(\"availability\", availabilityLevel),\n    [availabilityLevel]\n  );\n\n  // Create the impact description from available information\n  const impactDescription = useMemo(() => {\n    return (\n      availabilityDetails?.description ||\n      businessImpact?.summary ||\n      `Impact of ${availabilityLevel} availability on system operations and business continuity.`\n    );\n  }, [availabilityDetails, businessImpact, availabilityLevel]);\n\n  // Handle cases where data might not be available\n  if (!availabilityDetails) {\n    return (\n      <WidgetContainer\n        title=\"Availability Impact\"\n        icon=\"‚è±Ô∏è\"\n        className={className}\n        testId={testId}\n        error={new Error(\"Availability details not available\")}\n      >\n        <div>Availability details not available</div>\n      </WidgetContainer>\n    );\n  }\n\n  return (\n    <WidgetContainer\n      title={WIDGET_TITLES.AVAILABILITY_IMPACT}\n      icon={WIDGET_ICONS.AVAILABILITY_IMPACT}\n      className={className}\n      testId={testId || \"widget-availability-impact\"}\n    >\n      <div\n        className=\"p-4\"\n        role=\"region\"\n        aria-labelledby=\"availability-impact-heading\"\n      >\n        <h3\n          id=\"availability-impact-heading\"\n          className=\"text-lg font-medium mb-4 text-blue-600 dark:text-blue-400\"\n        >\n          {availabilityLevel} Availability Impact\n        </h3>\n\n        {/* Impact Description */}\n        <div className=\"mb-6\">\n          <p className=\"text-sm text-gray-700 dark:text-gray-300\">\n            {impactDescription || \"No impact description available.\"}\n          </p>\n        </div>\n\n        <div className=\"space-y-6\">\n          <CIAImpactCard\n            title=\"Availability Profile\"\n            level={availabilityLevel}\n            description={\n              availabilityDetails.description || \"No description available\"\n            }\n            icon=\"‚è±Ô∏è\"\n            badgeVariant=\"info\"\n            cardClass=\"availability-card\"\n            testId={`${testId}-impact-card`}\n          >\n            {availabilityDetails.uptime && (\n              <div className=\"flex items-center mt-2 text-sm text-blue-600 dark:text-blue-400\">\n                <span className=\"mr-2\">‚è±Ô∏è</span>\n                <span className=\"font-medium\">Uptime Target: </span>\n                <span className=\"ml-1\">{availabilityDetails.uptime}</span>\n              </div>\n            )}\n          </CIAImpactCard>\n\n          {/* Business Impact Section with enhanced styling */}\n          <div className=\"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border shadow-sm security-card\">\n            <h4 className=\"text-md font-medium mb-3 flex items-center\">\n              <span className=\"mr-2\">üíº</span>\n              Business Impact\n            </h4>\n\n            <p\n              className=\"text-gray-600 dark:text-gray-300 mb-4\"\n              data-testid={`${testId}-business-impact`}\n            >\n              {businessImpact.summary ||\n                availabilityDetails.businessImpact ||\n                \"No business impact data available\"}\n            </p>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              {businessImpact.operational && (\n                <div className=\"p-3 rounded-md bg-opacity-10 bg-blue-100 dark:bg-blue-900 dark:bg-opacity-20 border border-blue-200 dark:border-blue-800\">\n                  <div className=\"flex items-center mb-2\">\n                    <span className=\"mr-2\">‚öôÔ∏è</span>\n                    <span className=\"font-medium text-blue-700 dark:text-blue-300\">\n                      Operational Impact\n                    </span>\n                  </div>\n                  <p className=\"text-sm text-gray-700 dark:text-gray-300\">\n                    {businessImpact.operational.description ||\n                      \"No operational impact information available\"}\n                  </p>\n                </div>\n              )}\n\n              {businessImpact.financial && (\n                <div className=\"p-3 rounded-md bg-opacity-10 bg-blue-100 dark:bg-blue-900 dark:bg-opacity-20 border border-blue-200 dark:border-blue-800\">\n                  <div className=\"flex items-center mb-2\">\n                    <span className=\"mr-2\">üí∞</span>\n                    <span className=\"font-medium text-blue-700 dark:text-blue-300\">\n                      Financial Impact\n                    </span>\n                  </div>\n                  <p className=\"text-sm text-gray-700 dark:text-gray-300\">\n                    {businessImpact.financial.description ||\n                      \"No financial impact information available\"}\n                  </p>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Technical Details with enhanced styling */}\n          {technicalDetails && technicalDetails.description && (\n            <div className=\"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border-l-4 availability-card security-card\">\n              <h4 className=\"text-md font-medium mb-2 flex items-center\">\n                <span className=\"mr-2\">‚öôÔ∏è</span>\n                Technical Implementation\n              </h4>\n\n              <p className=\"text-gray-600 dark:text-gray-300 mb-3\">\n                {technicalDetails.description}\n              </p>\n\n              {technicalDetails.implementationSteps &&\n                technicalDetails.implementationSteps.length > 0 && (\n                  <div className=\"mt-3\">\n                    <h5 className=\"text-sm font-medium mb-2 text-blue-700 dark:text-blue-300\">\n                      Implementation Steps\n                    </h5>\n                    <ul className=\"list-disc list-inside space-y-1 text-sm text-gray-600 dark:text-gray-300\">\n                      {technicalDetails.implementationSteps\n                        .slice(0, 3)\n                        .map((step, idx) => (\n                          <li key={idx}>{step}</li>\n                        ))}\n                    </ul>\n                  </div>\n                )}\n            </div>\n          )}\n\n          {/* Recommendations with enhanced styling */}\n          {recommendations && recommendations.length > 0 && (\n            <div className=\"bg-blue-50 dark:bg-gray-800 p-4 rounded-lg border border-blue-200 dark:border-blue-900 shadow-sm security-card\">\n              <div className=\"flex items-center justify-between mb-3\">\n                <h4 className=\"text-md font-medium flex items-center\">\n                  <span className=\"mr-2\">üí°</span>\n                  Recommendations\n                </h4>\n                {recommendations.length > 3 && (\n                  <button\n                    className=\"text-sm px-3 py-1 rounded-full bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors\"\n                    onClick={() =>\n                      setShowAllRecommendations(!showAllRecommendations)\n                    }\n                  >\n                    {showAllRecommendations ? \"Show Less\" : \"Show All\"}\n                  </button>\n                )}\n              </div>\n\n              <ul className=\"list-disc pl-5 space-y-2 text-gray-600 dark:text-gray-300\">\n                {(showAllRecommendations\n                  ? recommendations\n                  : recommendations.slice(0, 3)\n                ).map((recommendation, index) => (\n                  <li\n                    key={index}\n                    data-testid={`${testId}-recommendation-${index}`}\n                    className=\"text-sm\"\n                  >\n                    {recommendation}\n                  </li>\n                ))}\n              </ul>\n            </div>\n          )}\n\n          {/* Availability Metrics with enhanced styling */}\n          <div className=\"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border-l-4 availability-card security-card\">\n            <h4 className=\"text-md font-medium mb-3 flex items-center\">\n              <span className=\"mr-2\">üìä</span>\n              Availability Metrics\n            </h4>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div className=\"p-3 rounded-md bg-opacity-10 bg-blue-100 dark:bg-blue-900 dark:bg-opacity-20\">\n                <KeyValuePair\n                  label=\"Uptime Target\"\n                  value={availabilityDetails.uptime || \"N/A\"}\n                  testId={`${testId}-uptime-target`}\n                  valueClassName=\"text-blue-700 dark:text-blue-300 font-medium\"\n                />\n              </div>\n\n              <div className=\"p-3 rounded-md bg-opacity-10 bg-blue-100 dark:bg-blue-900 dark:bg-opacity-20\">\n                <KeyValuePair\n                  label=\"Recovery Time Objective\"\n                  value={availabilityDetails.rto || \"N/A\"}\n                  testId={`${testId}-rto-value`}\n                  valueClassName=\"text-blue-700 dark:text-blue-300 font-medium\"\n                />\n              </div>\n\n              {availabilityDetails.rpo && (\n                <div className=\"p-3 rounded-md bg-opacity-10 bg-blue-100 dark:bg-blue-900 dark:bg-opacity-20\">\n                  <KeyValuePair\n                    label=\"Recovery Point Objective\"\n                    value={availabilityDetails.rpo}\n                    testId={`${testId}-rpo-value`}\n                    valueClassName=\"text-blue-700 dark:text-blue-300 font-medium\"\n                  />\n                </div>\n              )}\n\n              {availabilityDetails.mttr && (\n                <div className=\"p-3 rounded-md bg-opacity-10 bg-blue-100 dark:bg-blue-900 dark:bg-opacity-20\">\n                  <KeyValuePair\n                    label=\"Mean Time To Recovery\"\n                    value={availabilityDetails.mttr}\n                    testId={`${testId}-mttr-value`}\n                    valueClassName=\"text-blue-700 dark:text-blue-300 font-medium\"\n                  />\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </WidgetContainer>\n  );\n};\n\nexport default AvailabilityImpactWidget;\n","import React, { useState } from \"react\";\nimport { SecurityLevel } from \"../../types/cia\";\nimport { BUSINESS_IMPACT_TEST_IDS } from \"../../constants/testIds\";\nimport { CIA_COMPONENT_COLORS } from \"../../constants/colorConstants\";\nimport { CIA_LABELS, CIA_COMPONENT_ICONS } from \"../../constants/appConstants\";\nimport ciaContentService from \"../../services/ciaContentService\";\nimport WidgetContainer from \"../common/WidgetContainer\";\nimport StatusBadge from \"../common/StatusBadge\";\n\n/**\n * Props for the BusinessImpactAnalysisWidget component\n */\nexport interface BusinessImpactAnalysisWidgetProps {\n  availabilityLevel: SecurityLevel;\n  integrityLevel: SecurityLevel;\n  confidentialityLevel: SecurityLevel;\n  securityLevel?: SecurityLevel; // Overall security level\n  className?: string;\n  testId?: string;\n  activeComponent?: \"availability\" | \"integrity\" | \"confidentiality\";\n}\n\n/**\n * BusinessImpactAnalysisWidget displays business impact analysis for CIA components\n */\nconst BusinessImpactAnalysisWidget: React.FC<\n  BusinessImpactAnalysisWidgetProps\n> = ({\n  availabilityLevel,\n  integrityLevel,\n  confidentialityLevel,\n  securityLevel, // Overall security level\n  className = \"\",\n  testId = BUSINESS_IMPACT_TEST_IDS.BUSINESS_IMPACT_WIDGET,\n  activeComponent = \"availability\",\n}) => {\n  const [activeTab, setActiveTab] = useState<\n    \"availability\" | \"integrity\" | \"confidentiality\"\n  >(activeComponent);\n\n  // Get business impact for each component\n  const availabilityImpact = ciaContentService.getBusinessImpact(\n    \"availability\",\n    availabilityLevel\n  );\n\n  const integrityImpact = ciaContentService.getBusinessImpact(\n    \"integrity\",\n    integrityLevel\n  );\n\n  const confidentialityImpact = ciaContentService.getBusinessImpact(\n    \"confidentiality\",\n    confidentialityLevel\n  );\n\n  // Get component metrics\n  const availabilityMetrics = ciaContentService.getComponentMetrics(\n    \"availability\",\n    availabilityLevel\n  );\n\n  const integrityMetrics = ciaContentService.getComponentMetrics(\n    \"integrity\",\n    integrityLevel\n  );\n\n  const confidentialityMetrics = ciaContentService.getComponentMetrics(\n    \"confidentiality\",\n    confidentialityLevel\n  );\n\n  // Get appropriate badge variant for risk level\n  const getRiskBadgeVariant = (riskLevel?: string) => {\n    if (!riskLevel) return \"neutral\";\n\n    if (riskLevel.toLowerCase().includes(\"high\")) {\n      return \"error\";\n    } else if (riskLevel.toLowerCase().includes(\"medium\")) {\n      return \"warning\";\n    } else if (riskLevel.toLowerCase().includes(\"low\")) {\n      return \"success\";\n    }\n\n    return \"info\";\n  };\n\n  // Active component details\n  const getActiveImpact = () => {\n    switch (activeTab) {\n      case \"availability\":\n        return {\n          impact: availabilityImpact,\n          metrics: availabilityMetrics,\n          color: CIA_COMPONENT_COLORS.AVAILABILITY.PRIMARY,\n          level: availabilityLevel,\n          icon: CIA_COMPONENT_ICONS.AVAILABILITY,\n          badgeVariant: \"info\" as const,\n          label: CIA_LABELS.AVAILABILITY,\n        };\n      case \"integrity\":\n        return {\n          impact: integrityImpact,\n          metrics: integrityMetrics,\n          color: CIA_COMPONENT_COLORS.INTEGRITY.PRIMARY,\n          level: integrityLevel,\n          icon: CIA_COMPONENT_ICONS.INTEGRITY,\n          badgeVariant: \"success\" as const,\n          label: CIA_LABELS.INTEGRITY,\n        };\n      case \"confidentiality\":\n        return {\n          impact: confidentialityImpact,\n          metrics: confidentialityMetrics,\n          color: CIA_COMPONENT_COLORS.CONFIDENTIALITY.PRIMARY,\n          level: confidentialityLevel,\n          icon: CIA_COMPONENT_ICONS.CONFIDENTIALITY,\n          badgeVariant: \"purple\" as const,\n          label: CIA_LABELS.CONFIDENTIALITY,\n        };\n    }\n  };\n\n  const { impact, metrics, color, level, icon, badgeVariant, label } =\n    getActiveImpact();\n\n  return (\n    <WidgetContainer\n      title=\"Business Impact Analysis\"\n      icon=\"üìä\"\n      className={className}\n      testId={testId}\n    >\n      <div className=\"space-y-6\">\n        {/* Tab navigation */}\n        <div className=\"flex border-b mb-4\" role=\"tablist\">\n          <button\n            className={`px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n              activeTab === \"availability\"\n                ? \"border-b-2 border-blue-500 text-blue-600 dark:text-blue-400\"\n                : \"text-gray-600 dark:text-gray-400\"\n            }`}\n            onClick={() => setActiveTab(\"availability\")}\n            data-testid={`${testId}-availability-tab`}\n            role=\"tab\"\n            aria-selected={activeTab === \"availability\"}\n            aria-controls=\"availability-tab-panel\"\n            id=\"availability-tab-button\"\n            style={\n              activeTab === \"availability\"\n                ? { borderColor: CIA_COMPONENT_COLORS.AVAILABILITY.PRIMARY }\n                : undefined\n            }\n          >\n            <span className=\"mr-1\">{CIA_COMPONENT_ICONS.AVAILABILITY}</span>\n            Availability\n          </button>\n          <button\n            className={`px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n              activeTab === \"integrity\"\n                ? \"border-b-2 border-blue-500 text-blue-600 dark:text-blue-400\"\n                : \"text-gray-600 dark:text-gray-400\"\n            }`}\n            onClick={() => setActiveTab(\"integrity\")}\n            data-testid={`${testId}-integrity-tab`}\n            role=\"tab\"\n            aria-selected={activeTab === \"integrity\"}\n            aria-controls=\"integrity-tab-panel\"\n            id=\"integrity-tab-button\"\n            style={\n              activeTab === \"integrity\"\n                ? { borderColor: CIA_COMPONENT_COLORS.INTEGRITY.PRIMARY }\n                : undefined\n            }\n          >\n            <span className=\"mr-1\">{CIA_COMPONENT_ICONS.INTEGRITY}</span>\n            Integrity\n          </button>\n          <button\n            className={`px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n              activeTab === \"confidentiality\"\n                ? \"border-b-2 border-blue-500 text-blue-600 dark:text-blue-400\"\n                : \"text-gray-600 dark:text-gray-400\"\n            }`}\n            onClick={() => setActiveTab(\"confidentiality\")}\n            data-testid={`${testId}-confidentiality-tab`}\n            role=\"tab\"\n            aria-selected={activeTab === \"confidentiality\"}\n            aria-controls=\"confidentiality-tab-panel\"\n            id=\"confidentiality-tab-button\"\n            style={\n              activeTab === \"confidentiality\"\n                ? { borderColor: CIA_COMPONENT_COLORS.CONFIDENTIALITY.PRIMARY }\n                : undefined\n            }\n          >\n            <span className=\"mr-1\">{CIA_COMPONENT_ICONS.CONFIDENTIALITY}</span>\n            Confidentiality\n          </button>\n        </div>\n\n        {/* Component Summary */}\n        <div\n          className=\"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border-l-4 security-card\"\n          style={{ borderLeftColor: color }}\n        >\n          <div className=\"flex items-center justify-between mb-3\">\n            <h3 className=\"text-lg font-medium flex items-center\">\n              <span className=\"mr-2\">{icon}</span>\n              {label} Impact\n            </h3>\n            <StatusBadge status={badgeVariant} className=\"text-xs px-3\">\n              {level}\n            </StatusBadge>\n          </div>\n\n          <p\n            className=\"text-gray-600 dark:text-gray-300 mb-4\"\n            data-testid={`${testId}-summary`}\n          >\n            {impact.summary}\n          </p>\n        </div>\n\n        {/* Impact Areas */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {/* Operational Impact */}\n          {impact.operational && (\n            <div className=\"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border shadow-sm security-card\">\n              <div className=\"flex items-center justify-between mb-3\">\n                <h4 className=\"text-md font-medium flex items-center\">\n                  <span className=\"mr-2\">‚öôÔ∏è</span>\n                  Operational Impact\n                </h4>\n                <StatusBadge\n                  status={getRiskBadgeVariant(impact.operational.riskLevel)}\n                  size=\"sm\"\n                >\n                  {impact.operational.riskLevel || \"Unknown\"}\n                </StatusBadge>\n              </div>\n\n              <p className=\"text-sm text-gray-600 dark:text-gray-300\">\n                {impact.operational.description}\n              </p>\n\n              {metrics.operationalImpact && (\n                <div className=\"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700\">\n                  <span className=\"text-xs text-gray-500 dark:text-gray-400\">\n                    Key Metric\n                  </span>\n                  <div className=\"text-sm font-medium mt-1\">\n                    {activeTab === \"availability\"\n                      ? `Uptime: ${metrics.uptime || \"N/A\"}`\n                      : metrics.operationalImpact}\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* Financial Impact */}\n          {impact.financial && (\n            <div className=\"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border shadow-sm security-card\">\n              <div className=\"flex items-center justify-between mb-3\">\n                <h4 className=\"text-md font-medium flex items-center\">\n                  <span className=\"mr-2\">üí∞</span>\n                  Financial Impact\n                </h4>\n                <StatusBadge\n                  status={getRiskBadgeVariant(impact.financial.riskLevel)}\n                  size=\"sm\"\n                >\n                  {impact.financial.riskLevel || \"Unknown\"}\n                </StatusBadge>\n              </div>\n\n              <p className=\"text-sm text-gray-600 dark:text-gray-300\">\n                {impact.financial.description}\n              </p>\n\n              {metrics.financialImpact && (\n                <div className=\"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700\">\n                  <span className=\"text-xs text-gray-500 dark:text-gray-400\">\n                    Potential Cost\n                  </span>\n                  <div className=\"text-sm font-medium mt-1\">\n                    {metrics.financialImpact}\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n\n        {/* Secondary Impact Areas */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {/* Reputational Impact */}\n          {impact.reputational && (\n            <div className=\"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border shadow-sm security-card\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <h4 className=\"text-sm font-medium flex items-center\">\n                  <span className=\"mr-2\">üèÜ</span>\n                  Reputational Impact\n                </h4>\n                {impact.reputational.riskLevel && (\n                  <StatusBadge\n                    status={getRiskBadgeVariant(impact.reputational.riskLevel)}\n                    size=\"xs\"\n                  >\n                    {impact.reputational.riskLevel}\n                  </StatusBadge>\n                )}\n              </div>\n              <p className=\"text-xs text-gray-600 dark:text-gray-300\">\n                {impact.reputational.description}\n              </p>\n            </div>\n          )}\n\n          {/* Regulatory Impact */}\n          {impact.regulatory && (\n            <div className=\"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border shadow-sm security-card\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <h4 className=\"text-sm font-medium flex items-center\">\n                  <span className=\"mr-2\">‚öñÔ∏è</span>\n                  Regulatory Impact\n                </h4>\n                {impact.regulatory.riskLevel && (\n                  <StatusBadge\n                    status={getRiskBadgeVariant(impact.regulatory.riskLevel)}\n                    size=\"xs\"\n                  >\n                    {impact.regulatory.riskLevel}\n                  </StatusBadge>\n                )}\n              </div>\n              <p className=\"text-xs text-gray-600 dark:text-gray-300\">\n                {impact.regulatory.description}\n              </p>\n            </div>\n          )}\n\n          {/* Strategic Impact */}\n          {impact.strategic && (\n            <div className=\"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border shadow-sm security-card\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <h4 className=\"text-sm font-medium flex items-center\">\n                  <span className=\"mr-2\">üéØ</span>\n                  Strategic Impact\n                </h4>\n                {impact.strategic.riskLevel && (\n                  <StatusBadge\n                    status={getRiskBadgeVariant(impact.strategic.riskLevel)}\n                    size=\"xs\"\n                  >\n                    {impact.strategic.riskLevel}\n                  </StatusBadge>\n                )}\n              </div>\n              <p className=\"text-xs text-gray-600 dark:text-gray-300\">\n                {impact.strategic.description}\n              </p>\n            </div>\n          )}\n        </div>\n\n        {/* Component-specific metrics */}\n        {activeTab === \"availability\" && (\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-2\">\n            {metrics.uptime && (\n              <div className=\"p-3 bg-blue-50 dark:bg-blue-900 dark:bg-opacity-20 rounded-lg text-center\">\n                <div className=\"text-xs text-gray-500 dark:text-gray-400\">\n                  Uptime\n                </div>\n                <div className=\"text-lg font-bold text-blue-600 dark:text-blue-400\">\n                  {metrics.uptime}\n                </div>\n              </div>\n            )}\n            {metrics.rto && (\n              <div className=\"p-3 bg-blue-50 dark:bg-blue-900 dark:bg-opacity-20 rounded-lg text-center\">\n                <div className=\"text-xs text-gray-500 dark:text-gray-400\">\n                  RTO\n                </div>\n                <div className=\"text-lg font-bold text-blue-600 dark:text-blue-400\">\n                  {metrics.rto}\n                </div>\n              </div>\n            )}\n            {metrics.rpo && (\n              <div className=\"p-3 bg-blue-50 dark:bg-blue-900 dark:bg-opacity-20 rounded-lg text-center\">\n                <div className=\"text-xs text-gray-500 dark:text-gray-400\">\n                  RPO\n                </div>\n                <div className=\"text-lg font-bold text-blue-600 dark:text-blue-400\">\n                  {metrics.rpo}\n                </div>\n              </div>\n            )}\n            {metrics.mttr && (\n              <div className=\"p-3 bg-blue-50 dark:bg-blue-900 dark:bg-opacity-20 rounded-lg text-center\">\n                <div className=\"text-xs text-gray-500 dark:text-gray-400\">\n                  MTTR\n                </div>\n                <div className=\"text-lg font-bold text-blue-600 dark:text-blue-400\">\n                  {metrics.mttr}\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    </WidgetContainer>\n  );\n};\n\nexport default BusinessImpactAnalysisWidget;\n","import React from \"react\";\nimport { SecurityLevel } from \"../../types/cia\";\nimport { getSecurityLevelClass } from \"../../utils/securityLevelUtils\";\n\nexport interface SecurityLevelSummaryItemProps {\n  label: string;\n  value: SecurityLevel;\n  icon: string;\n  testId?: string;\n  color?: string;\n  borderColor?: string;\n  compact?: boolean;\n}\n\n/**\n * Security level summary item with enhanced Ingress styling\n * Used to display security level information in a compact, consistent format\n */\nconst SecurityLevelSummaryItem: React.FC<SecurityLevelSummaryItemProps> = ({\n  label,\n  value,\n  icon,\n  testId,\n  color = \"blue\",\n  borderColor,\n  compact = false,\n}) => {\n  // Get the icon class based on the label (for consistent styling)\n  const getIconClass = () => {\n    if (label.toLowerCase().includes(\"confidentiality\"))\n      return \"icon-confidentiality\";\n    if (label.toLowerCase().includes(\"integrity\")) return \"icon-integrity\";\n    if (label.toLowerCase().includes(\"availability\"))\n      return \"icon-availability\";\n    return \"\";\n  };\n\n  // Get the security level indicator class\n  const getLevelClass = () => {\n    const levelMap: Record<string, string> = {\n      None: \"level-none\",\n      Low: \"level-low\",\n      Moderate: \"level-moderate\",\n      High: \"level-high\",\n      \"Very High\": \"level-very-high\",\n    };\n\n    return levelMap[value] || \"level-none\";\n  };\n\n  if (compact) {\n    return (\n      <div\n        data-testid={testId}\n        className=\"flex items-center bg-gray-50 dark:bg-gray-800 px-2 py-1 rounded-md text-xs\"\n        style={{\n          borderLeft: borderColor ? `3px solid ${borderColor}` : undefined,\n        }}\n      >\n        <span className={`mr-1 ${getIconClass()}`}>{icon}</span>\n        <div>\n          <div className=\"text-gray-500 dark:text-gray-400 text-xxs\">\n            {label}\n          </div>\n          <div className=\"font-medium flex items-center\">\n            <span\n              className={`security-level-indicator ${getLevelClass()} mr-1`}\n            ></span>\n            {value}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div\n      className=\"bg-gray-50 dark:bg-gray-800 p-3 rounded-md flex items-center security-card\"\n      style={{\n        borderLeft: borderColor ? `3px solid ${borderColor}` : undefined,\n      }}\n      data-testid={testId}\n    >\n      <div className=\"icon-container mr-3\">\n        <span className={getIconClass()}>{icon}</span>\n      </div>\n      <div className=\"flex-grow\">\n        <div className=\"text-xs text-gray-500 dark:text-gray-400\">{label}</div>\n        <div className=\"font-medium flex items-center\">\n          <span\n            className={`security-level-indicator ${getLevelClass()} mr-1`}\n          ></span>\n          {value}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SecurityLevelSummaryItem;\n","import React from \"react\";\nimport { SecurityLevel } from \"../../types/cia\";\nimport ciaContentService from \"../../services/ciaContentService\";\nimport WidgetContainer from \"../common/WidgetContainer\";\nimport StatusBadge from \"../common/StatusBadge\";\nimport KeyValuePair from \"../common/KeyValuePair\";\nimport SecurityLevelSummaryItem from \"../common/SecurityLevelSummaryItem\";\nimport { CIA_COMPONENT_COLORS } from \"../../constants/colorConstants\";\nimport { CIA_COMPONENT_ICONS, CIA_LABELS } from \"../../constants/appConstants\";\nimport { calculateOverallSecurityLevel } from \"../../types/cia\";\nimport { getSecurityLevelBadgeVariant } from \"../../utils/securityLevelUtils\";\n\n/**\n * Props for CIAImpactSummaryWidget component\n */\nexport interface CIAImpactSummaryWidgetProps {\n  confidentialityLevel: SecurityLevel;\n  integrityLevel: SecurityLevel;\n  availabilityLevel: SecurityLevel;\n  // Add aliases for test compatibility\n  confidentiality?: SecurityLevel;\n  integrity?: SecurityLevel;\n  availability?: SecurityLevel;\n  className?: string;\n  testId?: string;\n}\n\n/**\n * CIAImpactSummaryWidget shows a consolidated view of all three CIA pillars\n * with consistent UI/UX styling and color schemes.\n */\nconst CIAImpactSummaryWidget: React.FC<CIAImpactSummaryWidgetProps> = ({\n  // Support both property naming styles with fallbacks\n  confidentialityLevel,\n  integrityLevel,\n  availabilityLevel,\n  confidentiality,\n  integrity,\n  availability,\n  className = \"\",\n  testId = \"cia-impact-summary-widget\",\n}) => {\n  // Use the provided value or fallback to the alternative property name\n  const actualConfidentialityLevel =\n    confidentialityLevel || confidentiality || (\"None\" as SecurityLevel);\n  const actualIntegrityLevel =\n    integrityLevel || integrity || (\"None\" as SecurityLevel);\n  const actualAvailabilityLevel =\n    availabilityLevel || availability || (\"None\" as SecurityLevel);\n\n  // Get component details for each pillar\n  const confidentialityDetails = ciaContentService.getComponentDetails(\n    \"confidentiality\",\n    actualConfidentialityLevel\n  );\n\n  const integrityDetails = ciaContentService.getComponentDetails(\n    \"integrity\",\n    actualIntegrityLevel\n  );\n\n  const availabilityDetails = ciaContentService.getComponentDetails(\n    \"availability\",\n    actualAvailabilityLevel\n  );\n\n  // Calculate overall security level based on the three components\n  const overallSecurityLevel = calculateOverallSecurityLevel(\n    actualAvailabilityLevel,\n    actualIntegrityLevel,\n    actualConfidentialityLevel\n  );\n\n  return (\n    <WidgetContainer\n      title=\"CIA Security Impact Summary\"\n      icon=\"üîê\"\n      className={className}\n      testId={testId}\n    >\n      <div className=\"space-y-6\">\n        {/* Overall Security Level */}\n        <div className=\"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg mb-4 border-l-4 border-blue-500\">\n          <h3 className=\"text-lg font-medium mb-2 flex items-center\">\n            <span className=\"mr-2\">üõ°Ô∏è</span>\n            Overall Security Profile\n          </h3>\n          <div className=\"flex items-center\">\n            <StatusBadge\n              status={getSecurityLevelBadgeVariant(overallSecurityLevel)}\n              className=\"mr-2\"\n            >\n              {overallSecurityLevel}\n            </StatusBadge>\n            <span className=\"text-gray-600 dark:text-gray-300\">\n              Security Level\n            </span>\n          </div>\n        </div>\n\n        {/* CIA Component Summary */}\n        <div className=\"flex flex-wrap gap-2 mb-4\">\n          <SecurityLevelSummaryItem\n            label={CIA_LABELS.CONFIDENTIALITY}\n            value={actualConfidentialityLevel}\n            icon={CIA_COMPONENT_ICONS.CONFIDENTIALITY}\n            testId={`${testId}-confidentiality-summary`}\n            color=\"purple\"\n            borderColor={CIA_COMPONENT_COLORS.CONFIDENTIALITY.PRIMARY}\n          />\n          <SecurityLevelSummaryItem\n            label={CIA_LABELS.INTEGRITY}\n            value={actualIntegrityLevel}\n            icon={CIA_COMPONENT_ICONS.INTEGRITY}\n            testId={`${testId}-integrity-summary`}\n            color=\"green\"\n            borderColor={CIA_COMPONENT_COLORS.INTEGRITY.PRIMARY}\n          />\n          <SecurityLevelSummaryItem\n            label={CIA_LABELS.AVAILABILITY}\n            value={actualAvailabilityLevel}\n            icon={CIA_COMPONENT_ICONS.AVAILABILITY}\n            testId={`${testId}-availability-summary`}\n            color=\"blue\"\n            borderColor={CIA_COMPONENT_COLORS.AVAILABILITY.PRIMARY}\n          />\n        </div>\n\n        {/* CIA Pillar Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          {/* Confidentiality Card */}\n          <div\n            className=\"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border-l-4\"\n            style={{\n              borderLeftColor: CIA_COMPONENT_COLORS.CONFIDENTIALITY.PRIMARY,\n            }}\n          >\n            <h4 className=\"font-medium mb-2 flex items-center\">\n              <span className=\"mr-2\">\n                {CIA_COMPONENT_ICONS.CONFIDENTIALITY}\n              </span>\n              {CIA_LABELS.CONFIDENTIALITY}\n            </h4>\n            <StatusBadge status=\"purple\" className=\"mb-2\">\n              {actualConfidentialityLevel}\n            </StatusBadge>\n            <p className=\"text-sm text-gray-600 dark:text-gray-300 mt-2\">\n              {confidentialityDetails?.description?.substring(0, 100)}...\n            </p>\n            <KeyValuePair\n              label=\"Protection Method\"\n              value={\n                confidentialityDetails?.protectionMethod || \"Not specified\"\n              }\n              className=\"mt-2\"\n            />\n          </div>\n\n          {/* Integrity Card */}\n          <div\n            className=\"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border-l-4\"\n            style={{ borderLeftColor: CIA_COMPONENT_COLORS.INTEGRITY.PRIMARY }}\n          >\n            <h4 className=\"font-medium mb-2 flex items-center\">\n              <span className=\"mr-2\">{CIA_COMPONENT_ICONS.INTEGRITY}</span>\n              {CIA_LABELS.INTEGRITY}\n            </h4>\n            <StatusBadge status=\"success\" className=\"mb-2\">\n              {actualIntegrityLevel}\n            </StatusBadge>\n            <p className=\"text-sm text-gray-600 dark:text-gray-300 mt-2\">\n              {integrityDetails?.description?.substring(0, 100)}...\n            </p>\n            <KeyValuePair\n              label=\"Validation Method\"\n              value={integrityDetails?.validationMethod || \"Not specified\"}\n              className=\"mt-2\"\n            />\n          </div>\n\n          {/* Availability Card */}\n          <div\n            className=\"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border-l-4\"\n            style={{\n              borderLeftColor: CIA_COMPONENT_COLORS.AVAILABILITY.PRIMARY,\n            }}\n          >\n            <h4 className=\"font-medium mb-2 flex items-center\">\n              <span className=\"mr-2\">{CIA_COMPONENT_ICONS.AVAILABILITY}</span>\n              {CIA_LABELS.AVAILABILITY}\n            </h4>\n            <StatusBadge status=\"info\" className=\"mb-2\">\n              {actualAvailabilityLevel}\n            </StatusBadge>\n            <p className=\"text-sm text-gray-600 dark:text-gray-300 mt-2\">\n              {availabilityDetails?.description?.substring(0, 100)}...\n            </p>\n            <KeyValuePair\n              label=\"Uptime Target\"\n              value={availabilityDetails?.uptime || \"Not specified\"}\n              className=\"mt-2\"\n            />\n          </div>\n        </div>\n\n        {/* Additional information section */}\n        <div className=\"mt-6 p-4 bg-blue-50 dark:bg-blue-900 dark:bg-opacity-20 rounded-lg\">\n          <h4 className=\"font-medium mb-2\">Security Profile Summary</h4>\n          <p className=\"text-sm\">\n            This security profile combines {actualConfidentialityLevel}{\" \"}\n            confidentiality, {actualIntegrityLevel} integrity, and{\" \"}\n            {actualAvailabilityLevel} availability controls to create an{\" \"}\n            {overallSecurityLevel.toLowerCase()} security posture. For detailed\n            implementation recommendations, see the individual CIA component\n            tabs.\n          </p>\n        </div>\n      </div>\n    </WidgetContainer>\n  );\n};\n\nexport default CIAImpactSummaryWidget;\n","import React, { useMemo } from \"react\";\nimport { SecurityLevel } from \"../../types/cia\";\nimport { FRAMEWORK_TEST_IDS } from \"../../constants/testIds\";\nimport ciaContentService from \"../../services/ciaContentService\";\nimport WidgetContainer from \"../common/WidgetContainer\";\nimport StatusBadge from \"../common/StatusBadge\";\nimport { normalizeSecurityLevel } from \"../../utils/securityLevelUtils\";\n\n// Define types for compliance data returned from service\ninterface ComplianceData {\n  compliantFrameworks: string[];\n  partiallyCompliantFrameworks: string[];\n  nonCompliantFrameworks: string[];\n  requirements?: string[];\n  remediationSteps?: string[];\n}\n\n/**\n * ComplianceStatusWidgetProps interface for the compliance status widget props\n */\nexport interface ComplianceStatusWidgetProps {\n  securityLevel?: SecurityLevel;\n  availabilityLevel?: SecurityLevel;\n  integrityLevel?: SecurityLevel;\n  confidentialityLevel?: SecurityLevel;\n  className?: string;\n  testId?: string;\n}\n\n/**\n * ComplianceStatusWidget displays the compliance status based on selected security levels\n * It shows compliant, partially compliant, and non-compliant frameworks\n */\nconst ComplianceStatusWidget: React.FC<ComplianceStatusWidgetProps> = ({\n  availabilityLevel = \"None\",\n  integrityLevel = \"None\",\n  confidentialityLevel = \"None\",\n  className = \"\",\n  testId = FRAMEWORK_TEST_IDS.COMPLIANCE_STATUS_WIDGET,\n}) => {\n  // Normalize security levels\n  const safeAvailability = normalizeSecurityLevel(availabilityLevel);\n  const safeIntegrity = normalizeSecurityLevel(integrityLevel);\n  const safeConfidentiality = normalizeSecurityLevel(confidentialityLevel);\n\n  // Get compliance data based on security levels\n  const complianceData = useMemo(\n    () =>\n      ciaContentService.getComplianceStatus(\n        safeAvailability,\n        safeIntegrity,\n        safeConfidentiality\n      ),\n    [safeAvailability, safeIntegrity, safeConfidentiality]\n  );\n\n  // Calculate overall compliance score based on the number of compliant frameworks\n  const calculateComplianceScore = (data: ComplianceData): number => {\n    const totalFrameworks =\n      data.compliantFrameworks.length +\n      data.partiallyCompliantFrameworks.length +\n      data.nonCompliantFrameworks.length;\n\n    if (totalFrameworks === 0) return 0;\n\n    // Full compliance = 1 point, partial = 0.5 points\n    const score =\n      (data.compliantFrameworks.length +\n        data.partiallyCompliantFrameworks.length * 0.5) /\n      totalFrameworks;\n\n    return Math.round(score * 100);\n  };\n\n  const complianceScore = calculateComplianceScore(complianceData);\n\n  // Get status badge variant based on compliance score\n  const getComplianceStatusVariant = (\n    score: number\n  ): \"success\" | \"warning\" | \"error\" | \"info\" => {\n    if (score >= 75) return \"success\";\n    if (score >= 50) return \"info\";\n    if (score >= 25) return \"warning\";\n    return \"error\";\n  };\n\n  return (\n    <WidgetContainer\n      title=\"Compliance Status\"\n      icon=\"üìã\"\n      className={className}\n      testId={testId}\n    >\n      <div className=\"space-y-6\">\n        {/* Compliance Score Card */}\n        <div className=\"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border shadow-sm\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <h3 className=\"text-lg font-medium\">Compliance Status</h3>\n            <StatusBadge\n              status={getComplianceStatusVariant(complianceScore)}\n              size=\"lg\"\n              testId={FRAMEWORK_TEST_IDS.COMPLIANCE_STATUS_BADGE}\n            >\n              {complianceScore}%\n            </StatusBadge>\n          </div>\n\n          <p className=\"text-sm text-gray-600 dark:text-gray-300 mb-4\">\n            Based on your selected security levels: {safeAvailability}{\" \"}\n            Availability, {safeIntegrity} Integrity, and {safeConfidentiality}{\" \"}\n            Confidentiality.\n          </p>\n        </div>\n\n        {/* Compliant Frameworks */}\n        <div className=\"p-4 bg-green-50 dark:bg-green-900 dark:bg-opacity-10 rounded-lg border border-green-200 dark:border-green-800\">\n          <h4 className=\"font-medium mb-2 flex items-center text-green-700 dark:text-green-400\">\n            <span className=\"mr-2\">‚úì</span>\n            Compliant Frameworks\n          </h4>\n\n          {complianceData.compliantFrameworks.length > 0 ? (\n            <ul\n              className=\"list-disc list-inside space-y-1\"\n              data-testid={FRAMEWORK_TEST_IDS.COMPLIANT_FRAMEWORKS_LIST}\n            >\n              {complianceData.compliantFrameworks.map((framework, index) => (\n                <li\n                  key={index}\n                  className=\"text-sm text-gray-700 dark:text-gray-300 flex items-center\"\n                >\n                  <StatusBadge status=\"success\" size=\"xs\" className=\"mr-2\">\n                    Compliant\n                  </StatusBadge>\n                  {framework.replace(/_/g, \" \")}\n                </li>\n              ))}\n            </ul>\n          ) : (\n            <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n              No compliant frameworks at current security levels.\n            </p>\n          )}\n        </div>\n\n        {/* Partially Compliant Frameworks */}\n        <div className=\"p-4 bg-yellow-50 dark:bg-yellow-900 dark:bg-opacity-10 rounded-lg border border-yellow-200 dark:border-yellow-800\">\n          <h4 className=\"font-medium mb-2 flex items-center text-yellow-700 dark:text-yellow-400\">\n            <span className=\"mr-2\">‚ö†Ô∏è</span>\n            Partially Compliant Frameworks\n          </h4>\n\n          {complianceData.partiallyCompliantFrameworks.length > 0 ? (\n            <ul className=\"list-disc list-inside space-y-1\">\n              {complianceData.partiallyCompliantFrameworks.map(\n                (framework, index) => (\n                  <li\n                    key={index}\n                    className=\"text-sm text-gray-700 dark:text-gray-300 flex items-center\"\n                  >\n                    <StatusBadge status=\"warning\" size=\"xs\" className=\"mr-2\">\n                      Partial\n                    </StatusBadge>\n                    {framework.replace(/_/g, \" \")}\n                  </li>\n                )\n              )}\n            </ul>\n          ) : (\n            <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n              No partially compliant frameworks at current security levels.\n            </p>\n          )}\n        </div>\n\n        {/* Non-Compliant Frameworks */}\n        <div className=\"p-4 bg-red-50 dark:bg-red-900 dark:bg-opacity-10 rounded-lg border border-red-200 dark:border-red-800\">\n          <h4 className=\"font-medium mb-2 flex items-center text-red-700 dark:text-red-400\">\n            <span className=\"mr-2\">‚ùå</span>\n            Non-Compliant Frameworks\n          </h4>\n\n          {complianceData.nonCompliantFrameworks.length > 0 ? (\n            <ul className=\"list-disc list-inside space-y-1\">\n              {complianceData.nonCompliantFrameworks.map((framework, index) => (\n                <li\n                  key={index}\n                  className=\"text-sm text-gray-700 dark:text-gray-300 flex items-center\"\n                >\n                  <StatusBadge status=\"error\" size=\"xs\" className=\"mr-2\">\n                    Non-Compliant\n                  </StatusBadge>\n                  {framework.replace(/_/g, \" \")}\n                </li>\n              ))}\n            </ul>\n          ) : (\n            <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n              No non-compliant frameworks at current security levels.\n            </p>\n          )}\n        </div>\n\n        {/* Remediation Steps (if available) */}\n        {complianceData.remediationSteps &&\n          complianceData.remediationSteps.length > 0 && (\n            <div className=\"p-4 bg-blue-50 dark:bg-blue-900 dark:bg-opacity-10 rounded-lg border border-blue-200 dark:border-blue-800\">\n              <h4 className=\"font-medium mb-2 flex items-center text-blue-700 dark:text-blue-400\">\n                <span className=\"mr-2\">üõ†Ô∏è</span>\n                Remediation Steps\n              </h4>\n\n              <ul\n                className=\"list-disc list-inside space-y-1 text-sm text-gray-700 dark:text-gray-300\"\n                data-testid={FRAMEWORK_TEST_IDS.COMPLIANCE_REQUIREMENTS_LIST}\n              >\n                {complianceData.remediationSteps.map((step, index) => (\n                  <li key={index}>{step}</li>\n                ))}\n              </ul>\n            </div>\n          )}\n      </div>\n    </WidgetContainer>\n  );\n};\n\nexport default ComplianceStatusWidget;\n","import React, { useMemo, useState } from \"react\";\nimport { CONFIDENTIALITY_IMPACT_TEST_IDS } from \"../../constants/testIds\";\nimport ciaContentService, {\n  getInformationSensitivity,\n  getProtectionLevel,\n} from \"../../services/ciaContentService\";\nimport { SecurityLevel } from \"../../types/cia\";\nimport { normalizeSecurityLevel } from \"../../utils/securityLevelUtils\";\nimport CIAImpactCard from \"../common/CIAImpactCard\";\nimport KeyValuePair from \"../common/KeyValuePair\";\nimport WidgetContainer from \"../common/WidgetContainer\";\n\n/**\n * Props for ConfidentialityImpactWidget component\n */\nexport interface ConfidentialityImpactWidgetProps {\n  confidentialityLevel: SecurityLevel;\n  availabilityLevel?: SecurityLevel;\n  integrityLevel?: SecurityLevel;\n  className?: string;\n  testId?: string;\n}\n\nconst ConfidentialityImpactWidget: React.FC<\n  ConfidentialityImpactWidgetProps\n> = ({\n  confidentialityLevel,\n  availabilityLevel,\n  integrityLevel,\n  className = \"\",\n  testId = CONFIDENTIALITY_IMPACT_TEST_IDS.CONFIDENTIALITY_IMPACT_PREFIX,\n}) => {\n  const [showAllRecommendations, setShowAllRecommendations] = useState(false);\n\n  // Fetch component details from ciaContentService\n  const confidentialityDetails = useMemo(\n    () =>\n      ciaContentService.getComponentDetails(\n        \"confidentiality\",\n        confidentialityLevel\n      ),\n    [confidentialityLevel]\n  );\n\n  // Fetch business impact from ciaContentService\n  const businessImpact = useMemo(\n    () =>\n      ciaContentService.getBusinessImpact(\n        \"confidentiality\",\n        confidentialityLevel\n      ),\n    [confidentialityLevel]\n  );\n\n  // Get technical implementation details\n  const technicalDetails = useMemo(\n    () =>\n      ciaContentService.getTechnicalImplementation(\n        \"confidentiality\",\n        confidentialityLevel\n      ),\n    [confidentialityLevel]\n  );\n\n  // Get recommendations from service\n  const recommendations = useMemo(\n    () =>\n      ciaContentService.getRecommendations(\n        \"confidentiality\",\n        confidentialityLevel\n      ),\n    [confidentialityLevel]\n  );\n\n  // Get information sensitivity using service function\n  const sensitivity = getInformationSensitivity(\n    normalizeSecurityLevel(confidentialityLevel) as SecurityLevel\n  );\n\n  // Get protection level using service function\n  const protectionLevel = getProtectionLevel(\n    normalizeSecurityLevel(confidentialityLevel) as SecurityLevel\n  );\n\n  // Handle cases where data might not be available\n  if (!confidentialityDetails) {\n    return (\n      <WidgetContainer\n        title=\"Confidentiality Impact\"\n        icon=\"üîí\"\n        className={className}\n        testId={testId}\n        error={new Error(\"Confidentiality details not available\")}\n      >\n        <div>Confidentiality details not available</div>\n      </WidgetContainer>\n    );\n  }\n\n  return (\n    <WidgetContainer\n      title=\"Confidentiality Impact\"\n      icon=\"üîí\"\n      className={className}\n      testId={testId}\n    >\n      <div className=\"space-y-6\">\n        <CIAImpactCard\n          title=\"Confidentiality Profile\"\n          level={confidentialityLevel}\n          description={\n            confidentialityDetails.description || \"No description available\"\n          }\n          icon=\"üîí\"\n          badgeVariant=\"purple\"\n          cardClass=\"confidentiality-card\"\n          testId={`${testId}-impact-card`}\n        >\n          {confidentialityDetails.protectionMethod && (\n            <div className=\"flex items-center mt-2 text-sm text-purple-600 dark:text-purple-400\">\n              <span className=\"mr-2\">üõ°Ô∏è</span>\n              <span className=\"font-medium\">Protection Method: </span>\n              <span className=\"ml-1\">\n                {confidentialityDetails.protectionMethod}\n              </span>\n            </div>\n          )}\n        </CIAImpactCard>\n\n        {/* Business Impact Section with enhanced styling */}\n        <div className=\"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border shadow-sm security-card\">\n          <h4 className=\"text-md font-medium mb-3 flex items-center\">\n            <span className=\"mr-2\">üíº</span>\n            Business Impact\n          </h4>\n\n          <p\n            className=\"text-gray-600 dark:text-gray-300 mb-4\"\n            data-testid={`${testId}-business-impact`}\n          >\n            {businessImpact.summary ||\n              confidentialityDetails.businessImpact ||\n              \"No business impact data available\"}\n          </p>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            {businessImpact.reputational && (\n              <div className=\"p-3 rounded-md bg-opacity-10 bg-purple-100 dark:bg-purple-900 dark:bg-opacity-20 border border-purple-200 dark:border-purple-800\">\n                <div className=\"flex items-center mb-2\">\n                  <span className=\"mr-2\">üèÜ</span>\n                  <span className=\"font-medium text-purple-700 dark:text-purple-300\">\n                    Reputational Impact\n                  </span>\n                </div>\n                <p className=\"text-sm text-gray-700 dark:text-gray-300\">\n                  {businessImpact.reputational.description ||\n                    \"No reputational impact information available\"}\n                </p>\n              </div>\n            )}\n\n            {businessImpact.regulatory && (\n              <div className=\"p-3 rounded-md bg-opacity-10 bg-purple-100 dark:bg-purple-900 dark:bg-opacity-20 border border-purple-200 dark:border-purple-800\">\n                <div className=\"flex items-center mb-2\">\n                  <span className=\"mr-2\">üìú</span>\n                  <span className=\"font-medium text-purple-700 dark:text-purple-300\">\n                    Regulatory Impact\n                  </span>\n                </div>\n                <p className=\"text-sm text-gray-700 dark:text-gray-300\">\n                  {businessImpact.regulatory.description ||\n                    \"No regulatory impact information available\"}\n                </p>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Technical Details with enhanced styling */}\n        {technicalDetails && technicalDetails.description && (\n          <div className=\"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border-l-4 confidentiality-card security-card\">\n            <h4 className=\"text-md font-medium mb-2 flex items-center\">\n              <span className=\"mr-2\">‚öôÔ∏è</span>\n              Technical Implementation\n            </h4>\n\n            <p className=\"text-gray-600 dark:text-gray-300 mb-3\">\n              {technicalDetails.description}\n            </p>\n\n            {technicalDetails.implementationSteps &&\n              technicalDetails.implementationSteps.length > 0 && (\n                <div className=\"mt-3\">\n                  <h5 className=\"text-sm font-medium mb-2 text-purple-700 dark:text-purple-300\">\n                    Implementation Steps\n                  </h5>\n                  <ul className=\"list-disc list-inside space-y-1 text-sm text-gray-600 dark:text-gray-300\">\n                    {technicalDetails.implementationSteps\n                      .slice(0, 3)\n                      .map((step, idx) => (\n                        <li key={idx}>{step}</li>\n                      ))}\n                  </ul>\n                </div>\n              )}\n          </div>\n        )}\n\n        {/* Recommendations with enhanced styling */}\n        {recommendations && recommendations.length > 0 && (\n          <div className=\"bg-purple-50 dark:bg-gray-800 p-4 rounded-lg border border-purple-200 dark:border-purple-900 shadow-sm security-card\">\n            <div className=\"flex items-center justify-between mb-3\">\n              <h4 className=\"text-md font-medium flex items-center\">\n                <span className=\"mr-2\">üí°</span>\n                Recommendations\n              </h4>\n              {recommendations.length > 3 && (\n                <button\n                  className=\"text-sm px-3 py-1 rounded-full bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300 hover:bg-purple-200 dark:hover:bg-purple-800 transition-colors\"\n                  onClick={() =>\n                    setShowAllRecommendations(!showAllRecommendations)\n                  }\n                >\n                  {showAllRecommendations ? \"Show Less\" : \"Show All\"}\n                </button>\n              )}\n            </div>\n\n            <ul className=\"list-disc pl-5 space-y-2 text-gray-600 dark:text-gray-300\">\n              {(showAllRecommendations\n                ? recommendations\n                : recommendations.slice(0, 3)\n              ).map((recommendation, index) => (\n                <li\n                  key={index}\n                  data-testid={`${testId}-recommendation-${index}`}\n                  className=\"text-sm\"\n                >\n                  {recommendation}\n                </li>\n              ))}\n            </ul>\n          </div>\n        )}\n\n        {/* Data Classification with enhanced styling */}\n        <div className=\"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border-l-4 confidentiality-card security-card\">\n          <h4 className=\"text-md font-medium mb-3 flex items-center\">\n            <span className=\"mr-2\">üè∑Ô∏è</span>\n            Data Protection Classification\n          </h4>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div className=\"p-3 rounded-md bg-opacity-10 bg-purple-100 dark:bg-purple-900 dark:bg-opacity-20\">\n              <KeyValuePair\n                label=\"Classification Level\"\n                value={confidentialityLevel}\n                testId={`${testId}-classification-level`}\n                valueClassName=\"text-purple-700 dark:text-purple-300 font-medium\"\n              />\n            </div>\n\n            <div className=\"p-3 rounded-md bg-opacity-10 bg-purple-100 dark:bg-purple-900 dark:bg-opacity-20\">\n              <KeyValuePair\n                label=\"Information Sensitivity\"\n                value={sensitivity}\n                testId={`${testId}-information-sensitivity`}\n                valueClassName=\"text-purple-700 dark:text-purple-300 font-medium\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </WidgetContainer>\n  );\n};\n\nexport default ConfidentialityImpactWidget;\n","import React, { useEffect, useState } from \"react\";\nimport { COMMON_COMPONENT_TEST_IDS } from \"../../constants/testIds\";\n\nexport interface MetricsCardProps {\n  title: string;\n  value: string | number;\n  subtitle?: string;\n  icon?: string;\n  className?: string;\n  testId?: string;\n  accentColor?: string;\n  // Add properties needed by test files\n  trend?: {\n    value: string;\n    direction: \"up\" | \"down\" | \"neutral\";\n  };\n  variant?: \"primary\" | \"success\" | \"warning\" | \"danger\" | \"info\" | \"purple\";\n}\n\n/**\n * MetricsCard displays a metric with title, value, and optional trend indicator\n *\n * @category UI Components\n * @param props - Component properties\n * @returns Rendered component\n */\nconst MetricsCard: React.FC<MetricsCardProps> = ({\n  title,\n  value,\n  subtitle,\n  icon,\n  className = \"\",\n  testId = COMMON_COMPONENT_TEST_IDS.METRICS_CARD,\n  accentColor,\n  trend,\n  variant = \"primary\",\n}) => {\n  const [displayValue, setDisplayValue] = useState(\"0\");\n  // Convert value to string for processing\n  const valueString = String(value);\n  const numericValue = parseInt(valueString.replace(/\\D/g, \"\")) || 0;\n\n  useEffect(() => {\n    // Animate numeric values\n    if (numericValue > 0) {\n      const duration = 1500; // 1.5 seconds\n      const steps = 20;\n      const stepTime = duration / steps;\n      const increment = numericValue / steps;\n\n      let current = 0;\n      const timer = setInterval(() => {\n        current += increment;\n        if (current >= numericValue) {\n          setDisplayValue(String(value));\n          clearInterval(timer);\n        } else {\n          // Format like original but with current value\n          let formattedValue;\n          if (valueString.includes(\"$\")) {\n            formattedValue = `$${Math.round(current).toLocaleString()}`;\n            // Preserve suffix like \"/year\" if present\n            if (valueString.includes(\"/\")) {\n              formattedValue += \"/\" + valueString.split(\"/\")[1];\n            }\n          } else {\n            formattedValue = Math.round(current).toString();\n            // Add % if the original value has it\n            if (valueString.includes(\"%\")) {\n              formattedValue += \"%\";\n            }\n          }\n          setDisplayValue(formattedValue);\n        }\n      }, stepTime);\n\n      return () => clearInterval(timer);\n    } else {\n      setDisplayValue(String(value));\n    }\n  }, [value, numericValue, valueString]);\n\n  const getVariantClasses = () => {\n    switch (variant) {\n      case \"success\":\n        return \"bg-green-100 dark:bg-green-900 dark:bg-opacity-20 border-green-200 dark:border-green-800\";\n      case \"warning\":\n        return \"bg-yellow-100 dark:bg-yellow-900 dark:bg-opacity-20 border-yellow-200 dark:border-yellow-800\";\n      case \"danger\":\n        return \"bg-red-100 dark:bg-red-900 dark:bg-opacity-20 border-red-200 dark:border-red-800\";\n      case \"info\":\n        return \"bg-blue-100 dark:bg-blue-900 dark:bg-opacity-20 border-blue-200 dark:border-blue-800\";\n      case \"purple\":\n        return \"bg-purple-100 dark:bg-purple-900 dark:bg-opacity-20 border-purple-200 dark:border-purple-800\";\n      default:\n        return \"bg-blue-50 dark:bg-blue-900 dark:bg-opacity-10 border-blue-100 dark:border-blue-800\";\n    }\n  };\n\n  const getValueColor = () => {\n    switch (variant) {\n      case \"success\":\n        return \"text-green-700 dark:text-green-400\";\n      case \"warning\":\n        return \"text-yellow-700 dark:text-yellow-400\";\n      case \"danger\":\n        return \"text-red-700 dark:text-red-400\";\n      case \"info\":\n        return \"text-blue-700 dark:text-blue-400\";\n      case \"purple\":\n        return \"text-purple-700 dark:text-purple-400\";\n      default:\n        return \"text-blue-700 dark:text-blue-400\";\n    }\n  };\n\n  return (\n    <div\n      className={`p-4 rounded-lg border ${getVariantClasses()} ${className}`}\n      data-testid={testId}\n    >\n      <div className=\"flex items-center justify-between mb-2\">\n        <div className=\"flex items-center\">\n          {icon && <span className=\"mr-2 text-xl\">{icon}</span>}\n          <h3\n            className=\"text-sm font-medium text-gray-600 dark:text-gray-300\"\n            data-testid={COMMON_COMPONENT_TEST_IDS.METRICS_CARD_TITLE}\n          >\n            {title}\n          </h3>\n        </div>\n        {trend && (\n          <div\n            className={`text-xs px-1.5 py-0.5 rounded ${\n              trend.direction === \"up\"\n                ? \"bg-green-100 text-green-700 dark:bg-green-900 dark:bg-opacity-30 dark:text-green-400\"\n                : trend.direction === \"down\"\n                ? \"bg-red-100 text-red-700 dark:bg-red-900 dark:bg-opacity-30 dark:text-red-400\"\n                : \"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400\"\n            }`}\n            data-testid={COMMON_COMPONENT_TEST_IDS.METRICS_CARD_TREND}\n          >\n            {trend.value}\n          </div>\n        )}\n      </div>\n      <div className=\"flex items-end justify-between\">\n        <span\n          className={`text-2xl font-bold ${getValueColor()}`}\n          data-testid={COMMON_COMPONENT_TEST_IDS.METRICS_CARD_VALUE}\n          style={accentColor ? { color: accentColor } : undefined}\n        >\n          {displayValue}\n        </span>\n        {subtitle && (\n          <span className=\"text-xs text-gray-500 dark:text-gray-400\">\n            {subtitle}\n          </span>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default MetricsCard;\n","import React, { useMemo } from \"react\";\nimport { COST_ANALYSIS } from \"../../constants/appConstants\";\nimport { COST_TEST_IDS } from \"../../constants/testIds\";\nimport ciaContentService, {\n  getImplementationTime,\n} from \"../../services/ciaContentService\";\nimport { SecurityLevel } from \"../../types/cia\";\nimport MetricsCard from \"../common/MetricsCard\";\nimport StatusBadge from \"../common/StatusBadge\";\nimport WidgetContainer from \"../common/WidgetContainer\";\n\n/**\n * Props for the CostEstimationWidget component\n */\nexport interface CostEstimationWidgetProps {\n  availabilityLevel: SecurityLevel;\n  integrityLevel: SecurityLevel;\n  confidentialityLevel: SecurityLevel;\n  className?: string;\n  testId?: string;\n}\n\n// Define a proper interface for security metrics\ninterface SecurityMetricsType {\n  totalCapex: number;\n  totalOpex: number;\n  capexEstimate: string;\n  opexEstimate: string;\n  isSmallSolution: boolean;\n  roi: string;\n  implementationTime?: string; // Make this optional\n}\n\n/**\n * CostEstimationWidget displays cost estimates for implementing security measures\n * based on the selected CIA levels.\n */\nconst CostEstimationWidget: React.FC<CostEstimationWidgetProps> = ({\n  availabilityLevel,\n  integrityLevel,\n  confidentialityLevel,\n  className = \"\",\n  testId = COST_TEST_IDS.COST_ESTIMATION_WIDGET,\n}) => {\n  // Get security metrics from ciaContentService\n  const securityMetrics = useMemo<SecurityMetricsType>(\n    () =>\n      ciaContentService.getSecurityMetrics(\n        availabilityLevel,\n        integrityLevel,\n        confidentialityLevel\n      ) as SecurityMetricsType, // Cast to our interface\n    [availabilityLevel, integrityLevel, confidentialityLevel]\n  );\n\n  const implementationTime = getImplementationTime(\n    availabilityLevel as SecurityLevel,\n    integrityLevel as SecurityLevel,\n    confidentialityLevel as SecurityLevel\n  );\n\n  // Calculate 3-year total cost (CAPEX + 3 years of OPEX)\n  const threeYearTotal = useMemo(() => {\n    const capex = parseInt(\n      securityMetrics.capexEstimate.replace(/[^0-9]/g, \"\")\n    );\n    const opex = parseInt(securityMetrics.opexEstimate.replace(/[^0-9]/g, \"\"));\n    return `$${(capex + opex * 3).toLocaleString()}`;\n  }, [securityMetrics.capexEstimate, securityMetrics.opexEstimate]);\n\n  const formatCurrency = (value: string) => {\n    // Convert \"$X\" or \"$X/year\" to \"$X,XXX\" or \"$X,XXX/year\"\n    const match = value.match(/\\$(\\d+)(.*)$/);\n    if (match && match[1]) {\n      const amount = parseInt(match[1]);\n      const suffix = match[2] || \"\";\n      return `$${amount.toLocaleString()}${suffix}`;\n    }\n    return value;\n  };\n\n  return (\n    <WidgetContainer\n      title=\"Estimated Implementation Cost\"\n      icon=\"üí∞\"\n      testId={testId}\n      className={className}\n    >\n      <div className=\"space-y-6\">\n        {/* Cost Overview */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <MetricsCard\n            title=\"Capital Expenditure\"\n            value={formatCurrency(securityMetrics.capexEstimate || \"\")} // Add default empty string\n            icon=\"üíº\"\n            testId={COST_TEST_IDS.CAPEX_ESTIMATE_VALUE}\n            accentColor=\"#3498db\"\n            variant=\"info\"\n          />\n          <MetricsCard\n            title=\"Operational Expenditure\"\n            value={formatCurrency(securityMetrics.opexEstimate)}\n            icon=\"‚öôÔ∏è\"\n            testId={COST_TEST_IDS.OPEX_ESTIMATE_VALUE}\n            accentColor=\"#2ecc71\"\n            variant=\"success\"\n          />\n          <MetricsCard\n            title=\"3-Year TCO\"\n            value={threeYearTotal}\n            icon=\"üîÑ\"\n            testId={COST_TEST_IDS.THREE_YEAR_TOTAL}\n            accentColor=\"#9b59b6\"\n            variant=\"purple\"\n          />\n        </div>\n\n        {/* Budget Allocation */}\n        <div className=\"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border shadow-sm\">\n          <h3 className=\"text-lg font-medium mb-3 flex items-center\">\n            <span className=\"mr-2\">üí∞</span>\n            Budget Allocation\n          </h3>\n\n          <div className=\"space-y-4\">\n            {/* CAPEX Budget Impact */}\n            <div className=\"space-y-1\">\n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-sm text-gray-600 dark:text-gray-300\">\n                  Capital Expenditure\n                </span>\n                <span\n                  className=\"text-sm font-medium text-blue-700 dark:text-blue-300\"\n                  data-testid={COST_TEST_IDS.CAPEX_PERCENTAGE}\n                >\n                  {securityMetrics.totalCapex}% of IT budget\n                </span>\n              </div>\n              <div className=\"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5\">\n                <div\n                  className=\"bg-blue-600 h-2.5 rounded-full\"\n                  style={{ width: `${securityMetrics.totalCapex}%` }}\n                ></div>\n              </div>\n            </div>\n\n            {/* OPEX Budget Impact */}\n            <div className=\"space-y-1\">\n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-sm text-gray-600 dark:text-gray-300\">\n                  Operational Expenditure\n                </span>\n                <span\n                  className=\"text-sm font-medium text-green-700 dark:text-green-300\"\n                  data-testid={COST_TEST_IDS.OPEX_PERCENTAGE}\n                >\n                  {securityMetrics.totalOpex}% of IT budget\n                </span>\n              </div>\n              <div className=\"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5\">\n                <div\n                  className=\"bg-green-600 h-2.5 rounded-full\"\n                  style={{ width: `${securityMetrics.totalOpex}%` }}\n                ></div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* ROI and Implementation */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {/* ROI Card */}\n          <div className=\"bg-green-50 dark:bg-green-900 dark:bg-opacity-20 p-4 rounded-lg border border-green-200 dark:border-green-800\">\n            <h3 className=\"text-lg font-medium mb-2 flex items-center\">\n              <span className=\"mr-2\">üìà</span>\n              Return on Investment\n            </h3>\n            <div className=\"flex items-center mb-2\">\n              <StatusBadge\n                status=\"success\"\n                size=\"lg\"\n                testId={COST_TEST_IDS.ROI_ESTIMATE}\n              >\n                {securityMetrics.roi}\n              </StatusBadge>\n              <span className=\"ml-2 text-sm text-gray-600 dark:text-gray-300\">\n                Estimated ROI\n              </span>\n            </div>\n            <p className=\"text-sm text-gray-600 dark:text-gray-300\">\n              Based on prevented breaches, operational efficiencies, and\n              compliance cost reduction.\n            </p>\n          </div>\n\n          {/* Implementation Timeline */}\n          <div className=\"bg-blue-50 dark:bg-blue-900 dark:bg-opacity-20 p-4 rounded-lg border border-blue-200 dark:border-blue-800\">\n            <h3 className=\"text-lg font-medium mb-2 flex items-center\">\n              <span className=\"mr-2\">‚è±Ô∏è</span>\n              Implementation Timeline\n            </h3>\n            <div className=\"flex items-center mb-2\">\n              <StatusBadge status=\"info\" size=\"lg\">\n                {implementationTime}\n              </StatusBadge>\n            </div>\n            <p className=\"text-sm text-gray-600 dark:text-gray-300\">\n              Estimated time to fully implement and operationalize these\n              security controls.\n            </p>\n          </div>\n        </div>\n\n        {/* Cost Analysis & Recommendation */}\n        <div className=\"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border shadow-sm\">\n          <h3 className=\"text-lg font-medium mb-3\">Cost Analysis</h3>\n\n          <p\n            className=\"text-sm text-gray-700 dark:text-gray-300 mb-3\"\n            data-testid={COST_TEST_IDS.COST_ANALYSIS_TEXT}\n          >\n            {securityMetrics.isSmallSolution\n              ? COST_ANALYSIS.SMALL_SOLUTION\n              : COST_ANALYSIS.LARGE_SOLUTION}\n          </p>\n\n          <div className=\"flex flex-wrap gap-2 mt-2\">\n            <StatusBadge status=\"info\">Capital Investment</StatusBadge>\n            <StatusBadge status=\"success\">Recurring Costs</StatusBadge>\n            <StatusBadge status=\"purple\">Long-term Value</StatusBadge>\n          </div>\n        </div>\n\n        {/* Cost Breakdown */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {/* CAPEX Components */}\n          <div className=\"bg-blue-50 dark:bg-blue-900 dark:bg-opacity-10 p-4 rounded-lg border border-blue-200 dark:border-blue-800\">\n            <h4 className=\"text-md font-medium mb-3 flex items-center\">\n              <span className=\"mr-2\">‚öôÔ∏è</span>\n              CAPEX Components\n            </h4>\n            <ul className=\"list-disc list-inside text-sm text-gray-600 dark:text-gray-300 space-y-1\">\n              <li>Security hardware and infrastructure</li>\n              <li>Software licenses and tools</li>\n              <li>Initial implementation services</li>\n              <li>Training and certification</li>\n            </ul>\n          </div>\n\n          {/* OPEX Components */}\n          <div className=\"bg-green-50 dark:bg-green-900 dark:bg-opacity-10 p-4 rounded-lg border border-green-200 dark:border-green-800\">\n            <h4 className=\"text-md font-medium mb-3 flex items-center\">\n              <span className=\"mr-2\">‚öôÔ∏è</span>\n              OPEX Components\n            </h4>\n            <ul className=\"list-disc list-inside text-sm text-gray-600 dark:text-gray-300 space-y-1\">\n              <li>Personnel costs and staffing</li>\n              <li>Maintenance and support contracts</li>\n              <li>Subscription services</li>\n              <li>Ongoing training and awareness</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </WidgetContainer>\n  );\n};\n\nexport default CostEstimationWidget;\n","import React, { useMemo, useState } from \"react\";\nimport { INTEGRITY_IMPACT_TEST_IDS } from \"../../constants/testIds\";\nimport ciaContentService from \"../../services/ciaContentService\";\nimport { SecurityLevel } from \"../../types/cia\";\nimport CIAImpactCard from \"../common/CIAImpactCard\";\nimport KeyValuePair from \"../common/KeyValuePair\";\nimport WidgetContainer from \"../common/WidgetContainer\";\n\n/**\n * Props for IntegrityImpactWidget component\n */\nexport interface IntegrityImpactWidgetProps {\n  integrityLevel: SecurityLevel;\n  availabilityLevel?: SecurityLevel;\n  confidentialityLevel?: SecurityLevel;\n  className?: string;\n  testId?: string;\n  options?: Record<string, any>; // Added the missing options property\n}\n\n/**\n * IntegrityImpactWidget displays impacts and recommendations related to data integrity\n * based on the selected security level. Uses common components for consistent UI/UX.\n */\nconst IntegrityImpactWidget: React.FC<IntegrityImpactWidgetProps> = ({\n  integrityLevel,\n  availabilityLevel,\n  confidentialityLevel,\n  className = \"\",\n  testId = INTEGRITY_IMPACT_TEST_IDS.INTEGRITY_IMPACT_PREFIX,\n  options = {}, // Add default value for options\n}) => {\n  const [showAllRecommendations, setShowAllRecommendations] = useState(false);\n\n  // Fetch component details from ciaContentService\n  const integrityDetails = useMemo(\n    () => ciaContentService.getComponentDetails(\"integrity\", integrityLevel),\n    [integrityLevel]\n  );\n\n  // Fetch business impact from ciaContentService\n  const businessImpact = useMemo(\n    () => ciaContentService.getBusinessImpact(\"integrity\", integrityLevel),\n    [integrityLevel]\n  );\n\n  // Get technical implementation details\n  const technicalDetails = useMemo(\n    () =>\n      ciaContentService.getTechnicalImplementation(\"integrity\", integrityLevel),\n    [integrityLevel]\n  );\n\n  // Get recommendations from service\n  const recommendations = useMemo(\n    () => ciaContentService.getRecommendations(\"integrity\", integrityLevel),\n    [integrityLevel]\n  );\n\n  // Handle cases where data might not be available\n  if (!integrityDetails) {\n    return (\n      <WidgetContainer\n        title=\"Integrity Impact\"\n        icon=\"‚úì\"\n        className={className}\n        testId={testId}\n        error={new Error(\"Integrity details not available\")}\n      >\n        <div>Integrity details not available</div>\n      </WidgetContainer>\n    );\n  }\n\n  return (\n    <WidgetContainer\n      title=\"Integrity Impact\"\n      icon=\"‚úì\"\n      className={className}\n      testId={testId}\n    >\n      <div className=\"space-y-6\">\n        <CIAImpactCard\n          title=\"Integrity Profile\"\n          level={integrityLevel}\n          description={\n            integrityDetails.description || \"No description available\"\n          }\n          icon=\"‚úì\"\n          badgeVariant=\"success\"\n          cardClass=\"integrity-card\"\n          testId={`${testId}-impact-card`}\n        >\n          {technicalDetails.validationMethod && (\n            <div className=\"flex items-center mt-2 text-sm text-green-600 dark:text-green-400\">\n              <span className=\"mr-2\">‚úì</span>\n              <span className=\"font-medium\">Validation Method: </span>\n              <span className=\"ml-1\">{technicalDetails.validationMethod}</span>\n            </div>\n          )}\n        </CIAImpactCard>\n\n        {/* Business Impact Section with enhanced styling */}\n        <div className=\"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border shadow-sm security-card\">\n          <h4 className=\"text-md font-medium mb-3 flex items-center\">\n            <span className=\"mr-2\">üíº</span>\n            Business Impact\n          </h4>\n\n          <p\n            className=\"text-gray-600 dark:text-gray-300 mb-4\"\n            data-testid={`${testId}-business-impact`}\n          >\n            {businessImpact.summary ||\n              integrityDetails.businessImpact ||\n              \"No business impact data available\"}\n          </p>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            {businessImpact.operational && (\n              <div className=\"p-3 rounded-md bg-opacity-10 bg-green-100 dark:bg-green-900 dark:bg-opacity-20 border border-green-200 dark:border-green-800\">\n                <div className=\"flex items-center mb-2\">\n                  <span className=\"mr-2\">‚öôÔ∏è</span>\n                  <span className=\"font-medium text-green-700 dark:text-green-300\">\n                    Operational Impact\n                  </span>\n                </div>\n                <p className=\"text-sm text-gray-700 dark:text-gray-300\">\n                  {businessImpact.operational.description ||\n                    \"No operational impact information available\"}\n                </p>\n              </div>\n            )}\n\n            {businessImpact.financial && (\n              <div className=\"p-3 rounded-md bg-opacity-10 bg-green-100 dark:bg-green-900 dark:bg-opacity-20 border border-green-200 dark:border-green-800\">\n                <div className=\"flex items-center mb-2\">\n                  <span className=\"mr-2\">üí∞</span>\n                  <span className=\"font-medium text-green-700 dark:text-green-300\">\n                    Financial Impact\n                  </span>\n                </div>\n                <p className=\"text-sm text-gray-700 dark:text-gray-300\">\n                  {businessImpact.financial.description ||\n                    \"No financial impact information available\"}\n                </p>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Technical Implementation with enhanced styling */}\n        {technicalDetails && technicalDetails.description && (\n          <div className=\"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border-l-4 integrity-card security-card\">\n            <h4 className=\"text-md font-medium mb-2 flex items-center\">\n              <span className=\"mr-2\">‚öôÔ∏è</span>\n              Technical Implementation\n            </h4>\n\n            <p className=\"text-gray-600 dark:text-gray-300 mb-3\">\n              {technicalDetails.description}\n            </p>\n\n            {technicalDetails.implementationSteps &&\n              technicalDetails.implementationSteps.length > 0 && (\n                <div className=\"mt-3\">\n                  <h5 className=\"text-sm font-medium mb-2 text-green-700 dark:text-green-300\">\n                    Implementation Steps\n                  </h5>\n                  <ul className=\"list-disc list-inside space-y-1 text-sm text-gray-600 dark:text-gray-300\">\n                    {technicalDetails.implementationSteps\n                      .slice(0, 3)\n                      .map((step, idx) => (\n                        <li key={idx}>{step}</li>\n                      ))}\n                  </ul>\n                </div>\n              )}\n          </div>\n        )}\n\n        {/* Recommendations with enhanced styling */}\n        {recommendations && recommendations.length > 0 && (\n          <div className=\"bg-green-50 dark:bg-gray-800 p-4 rounded-lg border border-green-200 dark:border-green-900 shadow-sm security-card\">\n            <div className=\"flex items-center justify-between mb-3\">\n              <h4 className=\"text-md font-medium flex items-center\">\n                <span className=\"mr-2\">üí°</span>\n                Recommendations\n              </h4>\n              {recommendations.length > 3 && (\n                <button\n                  className=\"text-sm px-3 py-1 rounded-full bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-800 transition-colors\"\n                  onClick={() =>\n                    setShowAllRecommendations(!showAllRecommendations)\n                  }\n                >\n                  {showAllRecommendations ? \"Show Less\" : \"Show All\"}\n                </button>\n              )}\n            </div>\n\n            <ul className=\"list-disc pl-5 space-y-2 text-gray-600 dark:text-gray-300\">\n              {(showAllRecommendations\n                ? recommendations\n                : recommendations.slice(0, 3)\n              ).map((recommendation, index) => (\n                <li\n                  key={index}\n                  data-testid={`${testId}-recommendation-${index}`}\n                  className=\"text-sm\"\n                >\n                  {recommendation}\n                </li>\n              ))}\n            </ul>\n          </div>\n        )}\n\n        {/* Integrity Implementation Details */}\n        <div className=\"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border-l-4 integrity-card security-card\">\n          <h4 className=\"text-md font-medium mb-3 flex items-center\">\n            <span className=\"mr-2\">üè∑Ô∏è</span>\n            Data Integrity Classification\n          </h4>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div className=\"p-3 rounded-md bg-opacity-10 bg-green-100 dark:bg-green-900 dark:bg-opacity-20\">\n              <KeyValuePair\n                label=\"Protection Level\"\n                value={integrityLevel}\n                testId={`${testId}-protection-level`}\n                valueClassName=\"text-green-700 dark:text-green-300 font-medium\"\n              />\n            </div>\n\n            {technicalDetails && technicalDetails.validationMethod && (\n              <div className=\"p-3 rounded-md bg-opacity-10 bg-green-100 dark:bg-green-900 dark:bg-opacity-20\">\n                <KeyValuePair\n                  label=\"Validation Technique\"\n                  value={technicalDetails.validationMethod}\n                  testId={`${testId}-validation-technique`}\n                  valueClassName=\"text-green-700 dark:text-green-300 font-medium\"\n                />\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </WidgetContainer>\n  );\n};\n\nexport default IntegrityImpactWidget;\n","import React, { useMemo, useState } from \"react\";\nimport { RESOURCE_TEST_IDS } from \"../../constants/testIds\";\nimport { SecurityLevel } from \"../../types/cia\";\nimport StatusBadge from \"../common/StatusBadge\";\nimport WidgetContainer from \"../common/WidgetContainer\";\n\n/**\n * Props for SecurityResourcesWidget component\n */\nexport interface SecurityResourcesWidgetProps {\n  securityLevel: SecurityLevel;\n  availabilityLevel: SecurityLevel;\n  integrityLevel: SecurityLevel;\n  confidentialityLevel: SecurityLevel;\n  className?: string;\n  testId?: string;\n}\n\ntype ResourceCategory = \"standard\" | \"regulation\" | \"best-practice\" | \"tool\";\n\ninterface Resource {\n  title: string;\n  description: string;\n  link: string;\n  category: ResourceCategory;\n  tags: string[];\n  requiredLevel?: SecurityLevel;\n}\n\n/**\n * SecurityResourcesWidget displays security resources, standards, and best practices\n *\n * ## Business Perspective\n *\n * This widget helps organizations identify relevant security frameworks,\n * standards, and tools that align with their selected security levels.\n * By providing curated resources, it assists security teams in implementing\n * appropriate controls and following industry best practices. üìö\n *\n * The categorized resources enable organizations to efficiently navigate\n * complex security requirements and find the information they need for\n * effective security program development. üîç\n */\nconst SecurityResourcesWidget: React.FC<SecurityResourcesWidgetProps> = ({\n  securityLevel,\n  availabilityLevel,\n  integrityLevel,\n  confidentialityLevel,\n  className = \"\",\n  testId = RESOURCE_TEST_IDS.SECURITY_RESOURCES_WIDGET,\n}) => {\n  // State for filtering and search\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [selectedCategory, setSelectedCategory] = useState<\n    ResourceCategory | \"all\"\n  >(\"all\");\n\n  // Determine the highest selected level to filter relevant resources\n  const highestLevel = useMemo(() => {\n    const levels: Record<SecurityLevel, number> = {\n      None: 0,\n      Low: 1,\n      Moderate: 2,\n      High: 3,\n      \"Very High\": 4,\n    };\n\n    const availabilityValue = levels[availabilityLevel] || 0;\n    const integrityValue = levels[integrityLevel] || 0;\n    const confidentialityValue = levels[confidentialityLevel] || 0;\n\n    const maxValue = Math.max(\n      availabilityValue,\n      integrityValue,\n      confidentialityValue\n    );\n\n    return Object.keys(levels).find(\n      (key) => levels[key as SecurityLevel] === maxValue\n    ) as SecurityLevel;\n  }, [availabilityLevel, integrityLevel, confidentialityLevel]);\n\n  // Security resources data - could be moved to a service\n  const resources: Resource[] = [\n    {\n      title: \"NIST 800-53 Rev. 5\",\n      description:\n        \"Security and Privacy Controls for Information Systems and Organizations\",\n      link: \"https://csrc.nist.gov/publications/detail/sp/800-53/rev-5/final\",\n      category: \"standard\",\n      tags: [\"government\", \"compliance\", \"controls\"],\n      requiredLevel: \"Moderate\",\n    },\n    {\n      title: \"ISO/IEC 27001:2022\",\n      description: \"Information security management systems - Requirements\",\n      link: \"https://www.iso.org/standard/27001\",\n      category: \"standard\",\n      tags: [\"international\", \"management\", \"certification\"],\n      requiredLevel: \"Moderate\",\n    },\n    {\n      title: \"OWASP Top 10\",\n      description:\n        \"The standard awareness document for developers about the most critical security risks to web applications\",\n      link: \"https://owasp.org/www-project-top-ten/\",\n      category: \"best-practice\",\n      tags: [\"web\", \"development\", \"vulnerabilities\"],\n      requiredLevel: \"Low\",\n    },\n    {\n      title: \"CIS Controls v8\",\n      description:\n        \"Prescriptive, prioritized, and simplified set of cybersecurity best practices\",\n      link: \"https://www.cisecurity.org/controls/cis-controls-list\",\n      category: \"best-practice\",\n      tags: [\"implementation\", \"prioritization\", \"controls\"],\n      requiredLevel: \"Moderate\",\n    },\n    {\n      title: \"GDPR\",\n      description:\n        \"General Data Protection Regulation - EU data protection and privacy regulation\",\n      link: \"https://gdpr.eu/\",\n      category: \"regulation\",\n      tags: [\"privacy\", \"EU\", \"data-protection\"],\n      requiredLevel: \"Moderate\",\n    },\n    {\n      title: \"HIPAA\",\n      description:\n        \"Health Insurance Portability and Accountability Act - US healthcare data privacy\",\n      link: \"https://www.hhs.gov/hipaa/index.html\",\n      category: \"regulation\",\n      tags: [\"healthcare\", \"US\", \"privacy\"],\n      requiredLevel: \"High\",\n    },\n    {\n      title: \"NIST Cybersecurity Framework 2.0\",\n      description:\n        \"Framework for improving critical infrastructure cybersecurity\",\n      link: \"https://www.nist.gov/cyberframework\",\n      category: \"standard\",\n      tags: [\"risk-management\", \"critical-infrastructure\"],\n      requiredLevel: \"Moderate\",\n    },\n    {\n      title: \"OWASP ASVS\",\n      description:\n        \"Application Security Verification Standard - requirements for secure development\",\n      link: \"https://owasp.org/www-project-application-security-verification-standard/\",\n      category: \"best-practice\",\n      tags: [\"application-security\", \"verification\", \"requirements\"],\n      requiredLevel: \"High\",\n    },\n    {\n      title: \"SOC 2\",\n      description:\n        \"Service Organization Control 2 - trust services criteria for security, availability, processing integrity, confidentiality, and privacy\",\n      link: \"https://www.aicpa.org/interestareas/frc/assuranceadvisoryservices/aicpasoc2report.html\",\n      category: \"standard\",\n      tags: [\"service-providers\", \"audit\", \"trust\"],\n      requiredLevel: \"High\",\n    },\n    {\n      title: \"OWASP ZAP\",\n      description: \"Open source web application security scanner\",\n      link: \"https://www.zaproxy.org/\",\n      category: \"tool\",\n      tags: [\"scanner\", \"open-source\", \"web\"],\n      requiredLevel: \"Low\",\n    },\n    {\n      title: \"NIST Secure Software Development Framework (SSDF)\",\n      description: \"Recommended secure software development practices\",\n      link: \"https://csrc.nist.gov/Projects/ssdf\",\n      category: \"best-practice\",\n      tags: [\"sdlc\", \"secure-development\"],\n      requiredLevel: \"Moderate\",\n    },\n    {\n      title: \"PCI DSS\",\n      description:\n        \"Payment Card Industry Data Security Standard - security standard for organizations handling credit cards\",\n      link: \"https://www.pcisecuritystandards.org/\",\n      category: \"regulation\",\n      tags: [\"payment\", \"finance\", \"compliance\"],\n      requiredLevel: \"High\",\n    },\n  ];\n\n  // Filter resources based on selected security level, category, and search term\n  const filteredResources = useMemo(() => {\n    const levels: Record<SecurityLevel, number> = {\n      None: 0,\n      Low: 1,\n      Moderate: 2,\n      High: 3,\n      \"Very High\": 4,\n    };\n\n    const highestLevelValue = levels[highestLevel];\n\n    return resources.filter((resource) => {\n      // Filter by security level - show resource if it's required level is equal or below user's highest selected level\n      const resourceLevelValue = resource.requiredLevel\n        ? levels[resource.requiredLevel]\n        : 0;\n\n      if (resourceLevelValue > highestLevelValue) {\n        return false;\n      }\n\n      // Filter by category if selected\n      if (\n        selectedCategory !== \"all\" &&\n        resource.category !== selectedCategory\n      ) {\n        return false;\n      }\n\n      // Filter by search term\n      if (searchTerm) {\n        const searchLower = searchTerm.toLowerCase();\n        return (\n          resource.title.toLowerCase().includes(searchLower) ||\n          resource.description.toLowerCase().includes(searchLower) ||\n          resource.tags.some((tag) => tag.toLowerCase().includes(searchLower))\n        );\n      }\n\n      return true;\n    });\n  }, [resources, highestLevel, selectedCategory, searchTerm]);\n\n  // Get category counts for filter badges\n  const categoryCounts = useMemo(() => {\n    const counts: Record<string, number> = { all: 0 };\n\n    filteredResources.forEach((resource) => {\n      counts.all = (counts.all || 0) + 1;\n      counts[resource.category] = (counts[resource.category] || 0) + 1;\n    });\n\n    return counts;\n  }, [filteredResources]);\n\n  // Category display names\n  const categoryLabels: Record<ResourceCategory | \"all\", string> = {\n    all: \"All Resources\",\n    standard: \"Standards & Frameworks\",\n    regulation: \"Regulations & Compliance\",\n    \"best-practice\": \"Best Practices\",\n    tool: \"Tools & Software\",\n  };\n\n  return (\n    <WidgetContainer\n      title=\"Security Resources\"\n      icon=\"üìö\"\n      className={className}\n      testId={testId}\n    >\n      <div className=\"space-y-6\">\n        {/* Current Security Level Summary */}\n        <div className=\"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg\">\n          <h4 className=\"text-sm font-medium mb-2\">Recommended For</h4>\n          <div className=\"flex flex-wrap gap-2\">\n            <StatusBadge status=\"info\" size=\"sm\">\n              Availability: {availabilityLevel}\n            </StatusBadge>\n            <StatusBadge status=\"success\" size=\"sm\">\n              Integrity: {integrityLevel}\n            </StatusBadge>\n            <StatusBadge status=\"purple\" size=\"sm\">\n              Confidentiality: {confidentialityLevel}\n            </StatusBadge>\n          </div>\n        </div>\n\n        {/* Search Input */}\n        <div className=\"search-container\">\n          <input\n            type=\"text\"\n            placeholder=\"Search resources...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"w-full px-4 py-2 border rounded-md\"\n            data-testid={RESOURCE_TEST_IDS.RESOURCE_SEARCH}\n          />\n        </div>\n\n        {/* Category Filters */}\n        <div className=\"flex flex-wrap gap-2\">\n          {Object.entries(categoryLabels).map(([category, label]) => (\n            <button\n              key={category}\n              onClick={() =>\n                setSelectedCategory(category as ResourceCategory | \"all\")\n              }\n              className={`px-3 py-1 text-xs rounded-full ${\n                selectedCategory === category\n                  ? \"bg-blue-500 text-white\"\n                  : \"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300\"\n              }`}\n              data-testid={`${RESOURCE_TEST_IDS.RESOURCE_CATEGORY_FILTER}-${category}`}\n            >\n              {label} ({categoryCounts[category] || 0})\n            </button>\n          ))}\n        </div>\n\n        {/* Resource Cards */}\n        {filteredResources.length > 0 ? (\n          <div\n            className=\"space-y-4\"\n            data-testid={RESOURCE_TEST_IDS.RESOURCE_LIST}\n          >\n            {filteredResources.map((resource, index) => (\n              <div\n                key={index}\n                className=\"resource-card p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow\"\n                data-testid={`${RESOURCE_TEST_IDS.RESOURCE_ITEM}-${index}`}\n              >\n                <div className=\"flex flex-col sm:flex-row sm:justify-between sm:items-start mb-2\">\n                  <h4 className=\"font-medium mb-1\">\n                    <a\n                      href={resource.link}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className=\"text-blue-600 dark:text-blue-400 hover:underline\"\n                      data-testid={`${RESOURCE_TEST_IDS.RESOURCE_LINK}-${index}`}\n                    >\n                      {resource.title}\n                    </a>\n                  </h4>\n\n                  <div className=\"text-xs text-gray-500 dark:text-gray-400 sm:ml-2\">\n                    {resource.requiredLevel && (\n                      <span className=\"resource-tag inline-block rounded-full px-2 py-1 mr-1\">\n                        Required: {resource.requiredLevel}+\n                      </span>\n                    )}\n                  </div>\n                </div>\n\n                <p className=\"text-sm text-gray-600 dark:text-gray-300 mb-2\">\n                  {resource.description}\n                </p>\n\n                <div className=\"flex flex-wrap gap-1 mt-2\">\n                  {resource.tags.map((tag, tagIndex) => (\n                    <span\n                      key={tagIndex}\n                      className=\"inline-block bg-gray-100 dark:bg-gray-700 rounded-full px-2 py-1 text-xs text-gray-600 dark:text-gray-300\"\n                    >\n                      #{tag}\n                    </span>\n                  ))}\n\n                  <span\n                    className={`ml-auto inline-block rounded-full px-2 py-1 text-xs ${\n                      resource.category === \"standard\"\n                        ? \"bg-blue-100 dark:bg-blue-900 dark:bg-opacity-20 text-blue-800 dark:text-blue-200\"\n                        : resource.category === \"regulation\"\n                        ? \"bg-purple-100 dark:bg-purple-900 dark:bg-opacity-20 text-purple-800 dark:text-purple-200\"\n                        : resource.category === \"best-practice\"\n                        ? \"bg-green-100 dark:bg-green-900 dark:bg-opacity-20 text-green-800 dark:text-green-200\"\n                        : \"bg-yellow-100 dark:bg-yellow-900 dark:bg-opacity-20 text-yellow-800 dark:text-yellow-200\"\n                    }`}\n                  >\n                    {categoryLabels[resource.category]\n                      .replace(\" & Software\", \"\")\n                      .replace(\" & Frameworks\", \"\")\n                      .replace(\" & Compliance\", \"\")}\n                  </span>\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <div className=\"text-center py-8 text-gray-500 dark:text-gray-400\">\n            No resources match your search criteria.\n          </div>\n        )}\n\n        {/* Resource Footnote */}\n        <div className=\"text-xs text-gray-500 dark:text-gray-400 mt-4\">\n          <p>\n            Note: Resources are recommended based on your selected security\n            levels. Higher security levels include more comprehensive resources.\n          </p>\n        </div>\n      </div>\n    </WidgetContainer>\n  );\n};\n\nexport default SecurityResourcesWidget;\n","import React, { useMemo, useState } from \"react\";\nimport {\n  CIA_COMPONENT_ICONS,\n  CIA_LABELS,\n  SECURITY_LEVELS,\n  SECURITY_RECOMMENDATIONS,\n} from \"../../constants/appConstants\";\nimport { CIA_COMPONENT_COLORS } from \"../../constants/colorConstants\";\nimport { WIDGET_ICONS, WIDGET_TITLES } from \"../../constants/coreConstants\";\nimport { SUMMARY_TEST_IDS } from \"../../constants/testIds\";\nimport ciaContentService, {\n  getBusinessImpactDescription,\n  getROIEstimate,\n  getSecurityIcon,\n  getSecurityLevelDescription,\n  getTechnicalDescription,\n} from \"../../services/ciaContentService\";\nimport { SecurityLevel } from \"../../types/cia\";\nimport {\n  getSecurityLevelBadgeVariant,\n  getSecurityLevelValue,\n} from \"../../utils/securityLevelUtils\";\nimport KeyValuePair from \"../common/KeyValuePair\";\nimport SecurityLevelSummaryItem from \"../common/SecurityLevelSummaryItem\";\nimport StatusBadge from \"../common/StatusBadge\";\nimport WidgetContainer from \"../common/WidgetContainer\";\n\n/**\n * Props for SecuritySummaryWidget\n */\nexport interface SecuritySummaryWidgetProps {\n  securityLevel: SecurityLevel;\n  availabilityLevel: SecurityLevel;\n  integrityLevel: SecurityLevel;\n  confidentialityLevel: SecurityLevel;\n  className?: string;\n  testId?: string;\n}\n\n/**\n * Security Summary Widget that displays current security posture based on CIA levels\n *\n * @category Widgets\n * @param props - Component properties\n * @returns Rendered component\n */\nconst SecuritySummaryWidget: React.FC<SecuritySummaryWidgetProps> = ({\n  securityLevel,\n  availabilityLevel,\n  integrityLevel,\n  confidentialityLevel,\n  className = \"\",\n  testId = SUMMARY_TEST_IDS.SECURITY_SUMMARY_CONTAINER,\n}) => {\n  // Component state for toggleable sections\n  const [showTechnicalDetails, setShowTechnicalDetails] = useState(false);\n  const [showBusinessImpact, setShowBusinessImpact] = useState(false);\n  const [showMetrics, setShowMetrics] = useState(false);\n\n  // Get detailed description from service\n  const securityDescription = useMemo(\n    () =>\n      getSecurityLevelDescription(securityLevel) ||\n      \"Security level not specified\",\n    [securityLevel]\n  );\n\n  // Get ROI metrics from service\n  const roiData = useMemo(() => getROIEstimate(securityLevel), [securityLevel]);\n\n  // Fix the property access to match the return type from getROIEstimate\n  const roiValue = roiData.value; // instead of roiData.returnRate\n  const breakEvenPeriod = roiData.description.includes(\"break-even\")\n    ? \"12-24 months\"\n    : \"6-18 months\"; // default value since breakEvenPeriod doesn't exist\n\n  // Get technical implementation details from service\n  const availabilityTechDescription = useMemo(\n    () => getTechnicalDescription(\"availability\", availabilityLevel),\n    [availabilityLevel]\n  );\n\n  const integrityTechDescription = useMemo(\n    () => getTechnicalDescription(\"integrity\", integrityLevel),\n    [integrityLevel]\n  );\n\n  const confidentialityTechDescription = useMemo(\n    () => getTechnicalDescription(\"confidentiality\", confidentialityLevel),\n    [confidentialityLevel]\n  );\n\n  // Get business impact details from service\n  const availabilityBusinessImpact = useMemo(\n    () => getBusinessImpactDescription(\"availability\", availabilityLevel),\n    [availabilityLevel]\n  );\n\n  const integrityBusinessImpact = useMemo(\n    () => getBusinessImpactDescription(\"integrity\", integrityLevel),\n    [integrityLevel]\n  );\n\n  const confidentialityBusinessImpact = useMemo(\n    () => getBusinessImpactDescription(\"confidentiality\", confidentialityLevel),\n    [confidentialityLevel]\n  );\n\n  // Get recommendations from service\n  const recommendations = useMemo(\n    () => ciaContentService.getRecommendations(\"availability\", securityLevel),\n    [securityLevel]\n  );\n\n  // Get security icon based on security level\n  const securityIcon = getSecurityIcon(securityLevel);\n\n  // Calculate security score based on level\n  const securityScore = useMemo(() => {\n    return getSecurityLevelValue(securityLevel) * 25;\n  }, [securityLevel]);\n\n  // Get security level description\n  const levelDescription = useMemo(() => {\n    return getSecurityLevelDescription(securityLevel);\n  }, [securityLevel]);\n\n  // Calculate security metrics based on selected levels\n  const securityMetrics = useMemo(() => {\n    const levels = [\n      SECURITY_LEVELS.NONE,\n      SECURITY_LEVELS.LOW,\n      SECURITY_LEVELS.MODERATE,\n      SECURITY_LEVELS.HIGH,\n      SECURITY_LEVELS.VERY_HIGH,\n    ];\n\n    const aValue = getSecurityLevelValue(availabilityLevel);\n    const iValue = getSecurityLevelValue(integrityLevel);\n    const cValue = getSecurityLevelValue(confidentialityLevel);\n\n    // Calculate highest and lowest security components\n    let highest = \"Balanced\";\n    let lowest = \"Balanced\";\n\n    if (aValue > iValue && aValue > cValue) {\n      highest = \"Availability\";\n    } else if (iValue > aValue && iValue > cValue) {\n      highest = \"Integrity\";\n    } else if (cValue > aValue && cValue > iValue) {\n      highest = \"Confidentiality\";\n    }\n\n    if (aValue < iValue && aValue < cValue) {\n      lowest = \"Availability\";\n    } else if (iValue < aValue && iValue < cValue) {\n      lowest = \"Integrity\";\n    } else if (cValue < aValue && cValue < iValue) {\n      lowest = \"Confidentiality\";\n    }\n\n    return {\n      highest,\n      lowest,\n      balanced: highest === \"Balanced\",\n    };\n  }, [availabilityLevel, integrityLevel, confidentialityLevel]);\n\n  // Calculate risk level based on security level\n  const riskLevel = useMemo(() => {\n    switch (securityLevel) {\n      case SECURITY_LEVELS.NONE:\n        return \"Critical\";\n      case SECURITY_LEVELS.LOW:\n        return \"High\";\n      case SECURITY_LEVELS.MODERATE:\n        return \"Medium\";\n      case SECURITY_LEVELS.HIGH:\n        return \"Low\";\n      case SECURITY_LEVELS.VERY_HIGH:\n        return \"Minimal\";\n      default:\n        return \"Unknown\";\n    }\n  }, [securityLevel]);\n\n  // Generate risk assessment based on security level\n  const riskAssessment = useMemo(() => {\n    switch (securityLevel) {\n      case SECURITY_LEVELS.NONE:\n        return \"Significant vulnerabilities present. Immediate action required.\";\n      case SECURITY_LEVELS.LOW:\n        return \"Basic protection. Substantial security improvements needed.\";\n      case SECURITY_LEVELS.MODERATE:\n        return \"Standard protection. Key security controls in place.\";\n      case SECURITY_LEVELS.HIGH:\n        return \"Strong protection. Comprehensive security controls.\";\n      case SECURITY_LEVELS.VERY_HIGH:\n        return \"Maximum protection. Advanced security controls with redundancy.\";\n      default:\n        return \"Security level not assessed.\";\n    }\n  }, [securityLevel]);\n\n  return (\n    <WidgetContainer\n      title={WIDGET_TITLES.SECURITY_SUMMARY}\n      icon={WIDGET_ICONS.SECURITY_SUMMARY}\n      className={className}\n      testId={testId}\n    >\n      <div className=\"space-y-6\" role=\"region\" aria-label=\"Security Summary\">\n        {/* Security Level Header */}\n        <div className=\"flex items-center space-x-4\">\n          <div className=\"flex-shrink-0\">\n            <span\n              className=\"text-3xl\"\n              data-testid={SUMMARY_TEST_IDS.SECURITY_ICON}\n              role=\"img\"\n              aria-label={`Security level: ${securityLevel}`}\n            >\n              {securityIcon}\n            </span>\n          </div>\n          <div>\n            <h3 className=\"text-xl font-bold\">{securityLevel} Security</h3>\n            <p\n              className=\"text-sm text-gray-600 dark:text-gray-400 mt-1\"\n              data-testid={SUMMARY_TEST_IDS.SECURITY_SUMMARY_DESCRIPTION}\n            >\n              {securityDescription}\n            </p>\n          </div>\n        </div>\n\n        {/* CIA Level Summary Items */}\n        <div\n          className=\"flex flex-wrap gap-2\"\n          data-testid={SUMMARY_TEST_IDS.SUMMARY_CONTAINER}\n        >\n          <SecurityLevelSummaryItem\n            label={CIA_LABELS.CONFIDENTIALITY}\n            value={confidentialityLevel}\n            icon={CIA_COMPONENT_ICONS.CONFIDENTIALITY}\n            testId={`${testId}-confidentiality-summary`}\n            color=\"purple\"\n            borderColor={CIA_COMPONENT_COLORS.CONFIDENTIALITY.PRIMARY}\n            compact={true}\n          />\n          <SecurityLevelSummaryItem\n            label={CIA_LABELS.INTEGRITY}\n            value={integrityLevel}\n            icon={CIA_COMPONENT_ICONS.INTEGRITY}\n            testId={`${testId}-integrity-summary`}\n            color=\"green\"\n            borderColor={CIA_COMPONENT_COLORS.INTEGRITY.PRIMARY}\n            compact={true}\n          />\n          <SecurityLevelSummaryItem\n            label={CIA_LABELS.AVAILABILITY}\n            value={availabilityLevel}\n            icon={CIA_COMPONENT_ICONS.AVAILABILITY}\n            testId={`${testId}-availability-summary`}\n            color=\"blue\"\n            borderColor={CIA_COMPONENT_COLORS.AVAILABILITY.PRIMARY}\n            compact={true}\n          />\n        </div>\n\n        {/* ROI Estimate Summary */}\n        <div\n          className=\"bg-green-50 dark:bg-green-900 dark:bg-opacity-20 p-3 rounded-lg\"\n          data-testid={SUMMARY_TEST_IDS.ROI_ESTIMATE_SUMMARY}\n        >\n          <KeyValuePair\n            label=\"Estimated ROI\"\n            value={roiValue}\n            testId={SUMMARY_TEST_IDS.ROI_ESTIMATE_PAIR}\n            valueClassName=\"text-green-600 dark:text-green-400 text-lg\"\n          />\n          <p className=\"text-sm text-green-700 dark:text-green-400 mt-1\">\n            {roiData.description}\n          </p>\n        </div>\n\n        {/* Toggleable Technical Details Section */}\n        <div>\n          <button\n            onClick={() => setShowTechnicalDetails(!showTechnicalDetails)}\n            className=\"flex items-center justify-between w-full text-left font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors\"\n            data-testid={SUMMARY_TEST_IDS.TECHNICAL_SECTION_TOGGLE}\n            aria-expanded={showTechnicalDetails}\n          >\n            <span>Technical Implementation</span>\n            <span\n              className=\"transition-transform duration-200\"\n              style={{\n                transform: showTechnicalDetails ? \"rotate(180deg)\" : \"none\",\n              }}\n            >\n              {showTechnicalDetails ? \"‚ñ≤\" : \"‚ñº\"}\n            </span>\n          </button>\n\n          {showTechnicalDetails && (\n            <div\n              className=\"mt-3 space-y-4 pl-3 border-l-2 border-gray-200 dark:border-gray-700\"\n              data-testid={SUMMARY_TEST_IDS.TECHNICAL_DETAILS_SECTION}\n            >\n              <div>\n                <h4\n                  className=\"text-sm font-medium mb-1\"\n                  style={{ color: CIA_COMPONENT_COLORS.AVAILABILITY.PRIMARY }}\n                  data-testid={SUMMARY_TEST_IDS.AVAILABILITY_TECH_HEADING}\n                >\n                  Availability Implementation\n                </h4>\n                <p\n                  className=\"text-sm text-gray-600 dark:text-gray-400\"\n                  data-testid={SUMMARY_TEST_IDS.AVAILABILITY_TECH_DETAILS}\n                >\n                  {availabilityTechDescription}\n                </p>\n              </div>\n\n              <div>\n                <h4\n                  className=\"text-sm font-medium mb-1\"\n                  style={{ color: CIA_COMPONENT_COLORS.INTEGRITY.PRIMARY }}\n                  data-testid={SUMMARY_TEST_IDS.INTEGRITY_TECH_HEADING}\n                >\n                  Integrity Implementation\n                </h4>\n                <p\n                  className=\"text-sm text-gray-600 dark:text-gray-400\"\n                  data-testid={SUMMARY_TEST_IDS.INTEGRITY_TECH_DETAILS}\n                >\n                  {integrityTechDescription}\n                </p>\n              </div>\n\n              <div>\n                <h4\n                  className=\"text-sm font-medium mb-1\"\n                  style={{\n                    color: CIA_COMPONENT_COLORS.CONFIDENTIALITY.PRIMARY,\n                  }}\n                  data-testid={SUMMARY_TEST_IDS.CONFIDENTIALITY_TECH_HEADING}\n                >\n                  Confidentiality Implementation\n                </h4>\n                <p\n                  className=\"text-sm text-gray-600 dark:text-gray-400\"\n                  data-testid={SUMMARY_TEST_IDS.CONFIDENTIALITY_TECH_DETAILS}\n                >\n                  {confidentialityTechDescription}\n                </p>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Toggleable Business Impact Section */}\n        <div>\n          <button\n            onClick={() => setShowBusinessImpact(!showBusinessImpact)}\n            className=\"flex items-center justify-between w-full text-left font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors\"\n            data-testid={SUMMARY_TEST_IDS.BUSINESS_IMPACT_TOGGLE}\n            aria-expanded={showBusinessImpact}\n          >\n            <span>Business Impact</span>\n            <span\n              className=\"transition-transform duration-200\"\n              style={{\n                transform: showBusinessImpact ? \"rotate(180deg)\" : \"none\",\n              }}\n            >\n              {showBusinessImpact ? \"‚ñ≤\" : \"‚ñº\"}\n            </span>\n          </button>\n\n          {showBusinessImpact && (\n            <div\n              className=\"mt-3 space-y-4 pl-3 border-l-2 border-gray-200 dark:border-gray-700\"\n              data-testid={SUMMARY_TEST_IDS.BUSINESS_IMPACT_SECTION}\n            >\n              <div>\n                <h4\n                  className=\"text-sm font-medium mb-1\"\n                  style={{ color: CIA_COMPONENT_COLORS.AVAILABILITY.PRIMARY }}\n                  data-testid={SUMMARY_TEST_IDS.AVAILABILITY_IMPACT_HEADING}\n                >\n                  Availability Impact\n                </h4>\n                <p\n                  className=\"text-sm text-gray-600 dark:text-gray-400\"\n                  data-testid={SUMMARY_TEST_IDS.AVAILABILITY_IMPACT_DETAILS}\n                >\n                  {availabilityBusinessImpact}\n                </p>\n              </div>\n\n              <div>\n                <h4\n                  className=\"text-sm font-medium mb-1\"\n                  style={{ color: CIA_COMPONENT_COLORS.INTEGRITY.PRIMARY }}\n                  data-testid={SUMMARY_TEST_IDS.INTEGRITY_IMPACT_HEADING}\n                >\n                  Integrity Impact\n                </h4>\n                <p\n                  className=\"text-sm text-gray-600 dark:text-gray-400\"\n                  data-testid={SUMMARY_TEST_IDS.INTEGRITY_IMPACT_DETAILS}\n                >\n                  {integrityBusinessImpact}\n                </p>\n              </div>\n\n              <div>\n                <h4\n                  className=\"text-sm font-medium mb-1\"\n                  style={{\n                    color: CIA_COMPONENT_COLORS.CONFIDENTIALITY.PRIMARY,\n                  }}\n                  data-testid={SUMMARY_TEST_IDS.CONFIDENTIALITY_IMPACT_HEADING}\n                >\n                  Confidentiality Impact\n                </h4>\n                <p\n                  className=\"text-sm text-gray-600 dark:text-gray-400\"\n                  data-testid={SUMMARY_TEST_IDS.CONFIDENTIALITY_IMPACT_DETAILS}\n                >\n                  {confidentialityBusinessImpact}\n                </p>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Key Recommendations */}\n        <div>\n          <h4\n            className=\"font-medium mb-2\"\n            data-testid={SUMMARY_TEST_IDS.RECOMMENDATION_HEADING}\n          >\n            Security Recommendation\n          </h4>\n          <StatusBadge\n            status={getSecurityLevelBadgeVariant(securityLevel)}\n            testId={SUMMARY_TEST_IDS.SECURITY_RECOMMENDATION}\n          >\n            {SECURITY_RECOMMENDATIONS[\n              securityLevel\n                .toUpperCase()\n                .replace(\" \", \"_\") as keyof typeof SECURITY_RECOMMENDATIONS\n            ] || SECURITY_RECOMMENDATIONS.BASIC}\n          </StatusBadge>\n\n          {recommendations.length > 0 && (\n            <ul className=\"mt-3 space-y-1 list-disc list-inside text-sm text-gray-600 dark:text-gray-400\">\n              {recommendations.slice(0, 3).map((rec, index) => (\n                <li key={index}>{rec}</li>\n              ))}\n            </ul>\n          )}\n        </div>\n\n        {/* Data Classifications */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div\n            className=\"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border-l-4\"\n            style={{\n              borderLeftColor: CIA_COMPONENT_COLORS.CONFIDENTIALITY.PRIMARY,\n            }}\n          >\n            <h4 className=\"text-md font-medium mb-2\">\n              Data Protection Classification\n            </h4>\n            <div className=\"grid grid-cols-1 gap-2\">\n              <KeyValuePair\n                label=\"Classification Level\"\n                value={confidentialityLevel}\n                testId={`${testId}-classification-level`}\n              />\n              <KeyValuePair\n                label=\"Information Sensitivity\"\n                value={ciaContentService.getInformationSensitivity(\n                  confidentialityLevel\n                )}\n                testId={`${testId}-information-sensitivity`}\n              />\n            </div>\n          </div>\n\n          <div\n            className=\"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border-l-4\"\n            style={{ borderLeftColor: CIA_COMPONENT_COLORS.INTEGRITY.PRIMARY }}\n          >\n            <h4 className=\"text-md font-medium mb-2\">\n              Data Integrity Classification\n            </h4>\n            <div className=\"grid grid-cols-1 gap-2\">\n              <KeyValuePair\n                label=\"Protection Level\"\n                value={integrityLevel}\n                testId={`${testId}-protection-level`}\n              />\n              {(() => {\n                const details = ciaContentService.getTechnicalImplementation(\n                  \"integrity\",\n                  integrityLevel\n                );\n                return details &&\n                  \"validationMethod\" in details &&\n                  details.validationMethod ? (\n                  <KeyValuePair\n                    label=\"Validation Technique\"\n                    value={details.validationMethod as string}\n                    testId={`${testId}-validation-technique`}\n                  />\n                ) : null;\n              })()}\n            </div>\n          </div>\n        </div>\n\n        {/* Availability Metrics */}\n        <button\n          onClick={() => setShowMetrics(!showMetrics)}\n          className=\"flex items-center justify-between w-full text-left font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors mb-2\"\n          data-testid={SUMMARY_TEST_IDS.METRICS_TOGGLE}\n          aria-expanded={showMetrics}\n        >\n          <span>Availability Metrics</span>\n          <span\n            className=\"transition-transform duration-200\"\n            style={{ transform: showMetrics ? \"rotate(180deg)\" : \"none\" }}\n          >\n            {showMetrics ? \"‚ñ≤\" : \"‚ñº\"}\n          </span>\n        </button>\n\n        {showMetrics && (\n          <div\n            className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\"\n            data-testid={SUMMARY_TEST_IDS.METRICS_SECTION}\n          >\n            {(() => {\n              const details = ciaContentService.getComponentDetails(\n                \"availability\",\n                availabilityLevel\n              );\n              return (\n                <>\n                  <div className=\"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg text-center\">\n                    <h5 className=\"text-sm font-medium mb-2\">Uptime</h5>\n                    <p className=\"text-lg font-bold\">\n                      {details?.uptime || \"N/A\"}\n                    </p>\n                  </div>\n                  <div className=\"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg text-center\">\n                    <h5 className=\"text-sm font-medium mb-2\">\n                      Mean Time To Recovery (MTTR)\n                    </h5>\n                    <p className=\"text-lg font-bold\">\n                      {details?.mttr || \"N/A\"}\n                    </p>\n                  </div>\n                  <div className=\"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg text-center\">\n                    <h5 className=\"flex items-center justify-center text-sm font-medium mb-2\">\n                      <span className=\"mr-1\">‚è±Ô∏è</span>Recovery Time Objective\n                      (RTO)\n                    </h5>\n                    <p className=\"text-lg font-bold\">{details?.rto || \"N/A\"}</p>\n                  </div>\n                  <div className=\"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg text-center\">\n                    <h5 className=\"flex items-center justify-center text-sm font-medium mb-2\">\n                      <span className=\"mr-1\">üíæ</span>Recovery Point Objective\n                      (RPO)\n                    </h5>\n                    <p className=\"text-lg font-bold\">{details?.rpo || \"N/A\"}</p>\n                  </div>\n                </>\n              );\n            })()}\n          </div>\n        )}\n      </div>\n    </WidgetContainer>\n  );\n};\n\nexport default SecuritySummaryWidget;\n","import Chart from \"chart.js/auto\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { CHART_TEST_IDS } from \"../../constants/testIds\";\n\ninterface RadarChartProps {\n  availabilityLevel: string;\n  integrityLevel: string;\n  confidentialityLevel: string;\n  className?: string;\n  testId?: string;\n}\n\nconst RadarChart: React.FC<RadarChartProps> = ({\n  availabilityLevel = \"None\",\n  integrityLevel = \"None\",\n  confidentialityLevel = \"None\",\n  className = \"\",\n  testId = CHART_TEST_IDS.RADAR_CHART,\n}) => {\n  const chartRef = useRef<HTMLCanvasElement>(null);\n  const chartInstanceRef = useRef<Chart<\"radar\", number[], string> | null>(\n    null\n  );\n  // Add state to track render errors for testing\n  const [renderError, setRenderError] = useState<string | null>(null);\n  // Add state to track dark mode\n  const [isDarkMode, setIsDarkMode] = useState<boolean>(\n    document.documentElement.classList.contains(\"dark\")\n  );\n\n  // Add visible security levels for testing - this helps with debugging and state tracking\n  const [securityLevels] = useState({\n    availabilityLevel,\n    integrityLevel,\n    confidentialityLevel,\n  });\n\n  // Convert security levels to numerical values\n  const mapLevelToValue = (level: string): number => {\n    switch (level) {\n      case \"None\":\n        return 0;\n      case \"Basic\":\n      case \"Low\":\n        return 1;\n      case \"Moderate\":\n        return 2;\n      case \"High\":\n        return 3;\n      case \"Very High\":\n        return 4;\n      default:\n        return 0;\n    }\n  };\n\n  // Add effect to listen for theme changes\n  useEffect(() => {\n    // Create a MutationObserver to watch for changes to the document element's class list\n    const observer = new MutationObserver((mutations) => {\n      mutations.forEach((mutation) => {\n        if (\n          mutation.attributeName === \"class\" &&\n          mutation.target === document.documentElement\n        ) {\n          const newDarkMode =\n            document.documentElement.classList.contains(\"dark\");\n          // Only update state if the mode actually changed\n          if (newDarkMode !== isDarkMode) {\n            setIsDarkMode(newDarkMode);\n          }\n        }\n      });\n    });\n\n    // Start observing\n    observer.observe(document.documentElement, { attributes: true });\n\n    // Cleanup observer on unmount\n    return () => observer.disconnect();\n  }, [isDarkMode]);\n\n  useEffect(() => {\n    if (!chartRef.current) return;\n\n    try {\n      // Cleanup previous chart instance\n      if (chartInstanceRef.current) {\n        chartInstanceRef.current.destroy();\n      }\n\n      // Add null checking for chart context\n      const ctx = chartRef.current?.getContext(\"2d\");\n      if (!ctx) {\n        setRenderError(\"Could not get canvas context\");\n        return;\n      }\n\n      const availabilityValue = mapLevelToValue(availabilityLevel);\n      const integrityValue = mapLevelToValue(integrityLevel);\n      const confidentialityValue = mapLevelToValue(confidentialityLevel);\n\n      // Set chart colors based on theme - now using isDarkMode state\n      const backgroundColor = isDarkMode\n        ? \"rgba(0, 204, 102, 0.2)\"\n        : \"rgba(0, 102, 51, 0.2)\";\n      const borderColor = isDarkMode ? \"#00cc66\" : \"#006633\";\n      const gridColor = isDarkMode\n        ? \"rgba(255, 255, 255, 0.1)\"\n        : \"rgba(0, 0, 0, 0.1)\";\n      const textColor = isDarkMode ? \"#f0f0f0\" : \"#222222\";\n\n      // Create chart\n      chartInstanceRef.current = new Chart(ctx, {\n        type: \"radar\",\n        data: {\n          labels: [\"Availability\", \"Integrity\", \"Confidentiality\"],\n          datasets: [\n            {\n              label: \"Security Profile\",\n              data: [availabilityValue, integrityValue, confidentialityValue],\n              backgroundColor: backgroundColor,\n              borderColor: borderColor,\n              borderWidth: 2,\n              pointBackgroundColor: borderColor,\n              pointBorderColor: \"#fff\",\n              pointHoverBackgroundColor: \"#fff\",\n              pointHoverBorderColor: borderColor,\n            },\n          ],\n        },\n        options: {\n          responsive: true,\n          maintainAspectRatio: true,\n          scales: {\n            r: {\n              angleLines: {\n                color: gridColor,\n              },\n              grid: {\n                color: gridColor,\n              },\n              pointLabels: {\n                color: textColor,\n                font: {\n                  size: 12,\n                },\n              },\n              min: 0,\n              max: 4,\n              ticks: {\n                backdropColor: \"transparent\",\n                color: textColor,\n                z: 100,\n                stepSize: 1,\n                font: {\n                  size: 10,\n                },\n                callback: function (value) {\n                  const levels = [\n                    \"None\",\n                    \"Basic\",\n                    \"Moderate\",\n                    \"High\",\n                    \"Very High\",\n                  ];\n                  return levels[value as number] || \"\";\n                },\n              },\n              beginAtZero: true,\n            },\n          },\n          plugins: {\n            legend: {\n              display: false,\n              labels: {\n                color: isDarkMode ? \"#00cc66\" : \"#006633\",\n                font: {\n                  family: \"'Share Tech Mono', monospace\",\n                  size: 12,\n                },\n                boxWidth: 15,\n                boxHeight: 2,\n              },\n            },\n            tooltip: {\n              callbacks: {\n                label: function (context) {\n                  const levels = [\n                    \"None\",\n                    \"Basic\",\n                    \"Moderate\",\n                    \"High\",\n                    \"Very High\",\n                  ];\n                  const value = context.raw as number;\n                  return `${context.label}: ${levels[value] || \"\"}`;\n                },\n              },\n            },\n          },\n        },\n      });\n\n      // Handle resize events to ensure the chart remains responsive\n      const resizeHandler = () => {\n        if (chartInstanceRef.current) {\n          chartInstanceRef.current.resize();\n        }\n      };\n\n      window.addEventListener(\"resize\", resizeHandler);\n\n      return () => {\n        window.removeEventListener(\"resize\", resizeHandler);\n        if (chartInstanceRef.current) {\n          chartInstanceRef.current.destroy();\n        }\n      };\n    } catch (error) {\n      // Improved error handling with proper type checking\n      setRenderError(error instanceof Error ? error.message : String(error));\n    }\n  }, [availabilityLevel, integrityLevel, confidentialityLevel, isDarkMode]); // Added isDarkMode as dependency\n\n  // Apply className to container element if provided\n  const containerClassName = className\n    ? `radar-chart-container ${className}`.trim()\n    : \"radar-chart-container\";\n\n  return (\n    <div className={containerClassName} data-testid={`${testId}-container`}>\n      {renderError ? (\n        <div data-testid={`${testId}-error`} className=\"error-message\">\n          Error loading chart: {renderError}\n        </div>\n      ) : (\n        <div className=\"radar-values flex justify-between mb-2\">\n          <div>\n            <strong>Availability:</strong>{\" \"}\n            <span data-testid={CHART_TEST_IDS.RADAR_AVAILABILITY_VALUE}>\n              {availabilityLevel || \"None\"}\n            </span>\n          </div>\n          <div>\n            <strong>Integrity:</strong>{\" \"}\n            <span data-testid={CHART_TEST_IDS.RADAR_INTEGRITY_VALUE}>\n              {integrityLevel || \"None\"}\n            </span>\n          </div>\n          <div>\n            <strong>Confidentiality:</strong>{\" \"}\n            <span data-testid={CHART_TEST_IDS.RADAR_CONFIDENTIALITY_VALUE}>\n              {confidentialityLevel || \"None\"}\n            </span>\n          </div>\n        </div>\n      )}\n      <canvas ref={chartRef} data-testid={testId}></canvas>\n    </div>\n  );\n};\n\nexport default RadarChart;\n","import React, { ReactNode } from \"react\";\nimport { WIDGET_ICONS } from \"../../constants/appConstants\";\n\ninterface WidgetHeaderProps {\n  title: string;\n  iconKey?: keyof typeof WIDGET_ICONS | string;\n  actions?: ReactNode;\n  className?: string;\n  testId?: string;\n}\n\nconst WidgetHeader: React.FC<WidgetHeaderProps> = ({\n  title,\n  iconKey,\n  actions,\n  className = \"\",\n  testId,\n}) => {\n  // Determine the icon to display\n  let iconToDisplay = \"\";\n  if (iconKey) {\n    // If iconKey is a key in WIDGET_ICONS, use the corresponding value\n    if (iconKey in WIDGET_ICONS) {\n      iconToDisplay = WIDGET_ICONS[iconKey as keyof typeof WIDGET_ICONS];\n    } else {\n      // Otherwise, assume iconKey is already an emoji string\n      iconToDisplay = iconKey;\n    }\n  }\n\n  return (\n    <div\n      className={`flex items-center justify-between pb-2 mb-4 border-b border-gray-200 dark:border-gray-700 ${className}`}\n      data-testid={testId}\n    >\n      <h3 className=\"flex items-center text-lg font-semibold text-gray-800 dark:text-gray-200\">\n        {iconToDisplay && (\n          <span className=\"mr-2\" aria-hidden=\"true\">\n            {iconToDisplay}\n          </span>\n        )}\n        {title}\n      </h3>\n      {actions && <div className=\"flex items-center space-x-2\">{actions}</div>}\n    </div>\n  );\n};\n\nexport default WidgetHeader;\n","import React, { ReactNode, useState } from \"react\";\n\ninterface TooltipProps {\n  content: ReactNode;\n  children: ReactNode;\n  position?: \"top\" | \"bottom\" | \"left\" | \"right\";\n  className?: string;\n  testId?: string;\n}\n\n/**\n * Tooltip component that shows content on hover\n *\n * @param content - Content to display in the tooltip\n * @param children - Element that triggers the tooltip on hover\n * @param position - Position of tooltip relative to children\n * @param className - Additional CSS classes\n * @param testId - Test ID for component\n */\nconst Tooltip: React.FC<TooltipProps> = ({\n  content,\n  children,\n  position = \"top\",\n  className = \"\",\n  testId,\n}) => {\n  const [showTooltip, setShowTooltip] = useState(false);\n\n  // Calculate position classes\n  const getPositionClasses = () => {\n    switch (position) {\n      case \"bottom\":\n        return \"top-full mt-1\";\n      case \"left\":\n        return \"right-full mr-1\";\n      case \"right\":\n        return \"left-full ml-1\";\n      case \"top\":\n      default:\n        return \"bottom-full mb-1\";\n    }\n  };\n\n  return (\n    <div className={`relative inline-block ${className}`} data-testid={testId}>\n      <div\n        onMouseEnter={() => setShowTooltip(true)}\n        onMouseLeave={() => setShowTooltip(false)}\n        onFocus={() => setShowTooltip(true)}\n        onBlur={() => setShowTooltip(false)}\n        className=\"inline-block\"\n      >\n        {children}\n      </div>\n\n      {showTooltip && (\n        <div\n          className={`absolute z-50 bg-gray-800 dark:bg-gray-700 text-white text-xs rounded py-1 px-2 left-1/2 transform -translate-x-1/2 w-max max-w-xs shadow-md ${getPositionClasses()}`}\n          role=\"tooltip\"\n        >\n          {content}\n          <div\n            className={`tooltip-arrow absolute ${\n              position === \"bottom\"\n                ? \"bottom-full\"\n                : position === \"top\"\n                ? \"top-full\"\n                : \"top-1/2 -translate-y-1/2\"\n            } left-1/2 transform -translate-x-1/2 border-4 border-transparent ${\n              position === \"bottom\"\n                ? \"border-b-gray-800 dark:border-b-gray-700\"\n                : position === \"top\"\n                ? \"border-t-gray-800 dark:border-t-gray-700\"\n                : position === \"left\"\n                ? \"border-l-gray-800 dark:border-l-gray-700 left-auto right-0\"\n                : \"border-r-gray-800 dark:border-r-gray-700 left-0 right-auto\"\n            }`}\n          ></div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Tooltip;\n","import React from \"react\";\nimport ciaContentService from \"../../services/ciaContentService\";\nimport { SecurityLevel } from \"../../types/cia\";\nimport Tooltip from \"../common/Tooltip\";\n\ninterface SecurityLevelSelectorProps {\n  label: string;\n  value: string;\n  onChange: (value: string) => void;\n  options: string[];\n  description?: string;\n  icon?: string;\n  tooltipContent?: string;\n  testId?: string;\n  accentColor?: string;\n  disabled?: boolean;\n  className?: string;\n}\n\n/**\n * A component for selecting security levels with description and tooltip\n */\nconst SecurityLevelSelector: React.FC<SecurityLevelSelectorProps> = ({\n  label,\n  value,\n  onChange,\n  options,\n  description,\n  icon,\n  tooltipContent,\n  testId,\n  accentColor,\n  disabled = false,\n  className = \"\",\n}) => {\n  // Get detailed description based on the selected value\n  const getDetailedDescription = () => {\n    // This would normally come from a service, but for now we'll create a simplified version\n    // showing the value with a prefix like in the original\n    if (!value) return \"\";\n\n    // Try to get a description from the service first\n    const component = label.toLowerCase().includes(\"confidentiality\")\n      ? \"confidentiality\"\n      : label.toLowerCase().includes(\"integrity\")\n      ? \"integrity\"\n      : \"availability\";\n\n    const details = ciaContentService.getComponentDetails(\n      component,\n      value as SecurityLevel\n    );\n\n    // Return a detailed description or a simplified fallback\n    return (\n      details?.description ||\n      `${value} - ${\n        component.charAt(0).toUpperCase() + component.slice(1)\n      } security level of ${value}.`\n    );\n  };\n\n  // Calculate the level-specific characteristics\n  const getLevelSpecificValue = () => {\n    if (!value) return \"\";\n\n    // Get a specific characteristic based on CIA component\n    const component = label.toLowerCase().includes(\"confidentiality\")\n      ? \"confidentiality\"\n      : label.toLowerCase().includes(\"integrity\")\n      ? \"integrity\"\n      : \"availability\";\n\n    const details = ciaContentService.getComponentDetails(\n      component,\n      value as SecurityLevel\n    );\n\n    // Return a characteristic based on component type (e.g., uptime for availability)\n    if (component === \"availability\" && details?.uptime) {\n      return details.uptime;\n    } else if (component === \"integrity\" && details?.validationMethod) {\n      return details.validationMethod;\n    } else if (component === \"confidentiality\" && details?.protectionMethod) {\n      return details.protectionMethod;\n    }\n\n    return \"\";\n  };\n\n  return (\n    <div className={`mb-4 ${className}`} data-testid={testId}>\n      <div className=\"flex items-center mb-1\">\n        {icon && <span className=\"mr-2\">{icon}</span>}\n        <label\n          htmlFor={`select-${label.toLowerCase().replace(/\\s/g, \"-\")}`}\n          className=\"font-medium text-gray-700 dark:text-gray-300\"\n        >\n          {label}\n        </label>\n        {tooltipContent && (\n          <Tooltip content={tooltipContent}>\n            <button\n              type=\"button\"\n              className=\"info-button ml-1 text-gray-500 hover:text-gray-600 dark:text-gray-400\"\n              aria-label={`Info about ${label}`}\n            >\n              <span>‚ÑπÔ∏è</span>\n            </button>\n          </Tooltip>\n        )}\n      </div>\n\n      {description && (\n        <p className=\"text-xs text-gray-600 dark:text-gray-400 mb-2\">\n          {description}\n        </p>\n      )}\n\n      <div className=\"flex items-center mb-2\">\n        <span\n          className=\"mr-2 font-medium\"\n          style={accentColor ? { color: accentColor } : undefined}\n        >\n          {value}\n        </span>\n\n        <select\n          id={`select-${label.toLowerCase().replace(/\\s/g, \"-\")}`}\n          value={value}\n          onChange={(e) => onChange(e.target.value)}\n          className=\"block w-full px-2 py-1.5 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300\"\n          style={accentColor ? { borderColor: accentColor } : undefined}\n          disabled={disabled}\n        >\n          {options.map((option) => (\n            <option key={option} value={option}>\n              {option}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      {/* Detailed description of selected value */}\n      {value && (\n        <div className=\"mt-2\">\n          <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n            {getDetailedDescription()}\n          </p>\n          {getLevelSpecificValue() && (\n            <span\n              className=\"inline-block text-xs mt-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded\"\n              style={accentColor ? { color: accentColor } : undefined}\n            >\n              {getLevelSpecificValue()}\n            </span>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SecurityLevelSelector;\n","import React from \"react\";\n\ninterface SecurityRiskScoreProps {\n  score: number;\n  label: string;\n  testId?: string;\n}\n\n/**\n * Displays a security risk score with visual indicators\n */\nconst SecurityRiskScore: React.FC<SecurityRiskScoreProps> = ({\n  score,\n  label,\n  testId,\n}) => {\n  // Determine color and class based on risk score\n  const getScoreColor = () => {\n    if (score >= 80) return { color: \"#ff5252\", className: \"critical-risk\" };\n    if (score >= 60) return { color: \"#ff9800\", className: \"high-risk\" };\n    if (score >= 40) return { color: \"#ffeb3b\", className: \"medium-risk\" };\n    if (score >= 20) return { color: \"#00e676\", className: \"low-risk\" };\n    return { color: \"#00e676\", className: \"low-risk\" };\n  };\n\n  const { color, className } = getScoreColor();\n\n  // Calculate gauge position (0-100%)\n  const gaugePosition = `${score}%`;\n\n  return (\n    <div\n      className=\"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border shadow-sm\"\n      data-testid={testId}\n    >\n      <h4 className=\"text-sm font-medium mb-2\">Risk Assessment Score</h4>\n\n      {/* Risk Score Display */}\n      <div className=\"flex justify-center mb-3\">\n        <div className={`text-2xl font-bold ${className} risk-score-value`}>\n          {score}/100\n        </div>\n      </div>\n\n      {/* Risk Label */}\n      <div className=\"text-center mb-3\">\n        <span\n          className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${className}`}\n        >\n          {label} Risk\n        </span>\n      </div>\n\n      {/* Risk Gauge */}\n      <div className=\"mt-2\">\n        <div className=\"security-gauge\">\n          <div\n            className=\"security-gauge-indicator\"\n            style={{ left: gaugePosition }}\n          ></div>\n        </div>\n        <div className=\"flex justify-between text-xs mt-1 text-gray-500 dark:text-gray-400\">\n          <span>Low</span>\n          <span>Medium</span>\n          <span>High</span>\n          <span>Critical</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SecurityRiskScore;\n","import React, { useMemo } from \"react\";\nimport { RISK_LEVEL_DESCRIPTIONS } from \"../../constants/appConstants\";\nimport { SecurityLevel } from \"../../types/cia\";\nimport { getSecurityLevelValue } from \"../../utils/securityLevelUtils\";\nimport RadarChart from \"../charts/RadarChart\";\nimport { SecurityRiskScore } from \"../common\";\n\nexport interface SecurityVisualizationWidgetProps {\n  availabilityLevel: SecurityLevel;\n  integrityLevel: SecurityLevel;\n  confidentialityLevel: SecurityLevel;\n  className?: string;\n  testId?: string;\n}\n\n/**\n * SecurityVisualizationWidget provides visual representations of security posture\n *\n * ## Business Perspective\n *\n * This widget translates complex security concepts into intuitive visualizations,\n * helping stakeholders at all levels understand the organization's security posture. üìä\n *\n * The radar chart enables quick identification of imbalances between CIA components,\n * while the risk score provides a concrete metric for security program effectiveness.\n * These visualizations are particularly valuable for security reporting to executives\n * and board members. üíº\n */\nconst SecurityVisualizationWidget: React.FC<\n  SecurityVisualizationWidgetProps\n> = ({\n  availabilityLevel,\n  integrityLevel,\n  confidentialityLevel,\n  className = \"\",\n  testId = \"security-visualization-widget\",\n}) => {\n  // Convert security levels to numeric values for the chart\n  const securityData = useMemo(() => {\n    const aValue = getSecurityLevelValue(availabilityLevel);\n    const iValue = getSecurityLevelValue(integrityLevel);\n    const cValue = getSecurityLevelValue(confidentialityLevel);\n\n    return [\n      {\n        category: \"Availability\",\n        value: aValue,\n        maxValue: 4,\n        color: \"#3498db\", // Blue\n      },\n      {\n        category: \"Integrity\",\n        value: iValue,\n        maxValue: 4,\n        color: \"#2ecc71\", // Green\n      },\n      {\n        category: \"Confidentiality\",\n        value: cValue,\n        maxValue: 4,\n        color: \"#9b59b6\", // Purple\n      },\n    ];\n  }, [availabilityLevel, integrityLevel, confidentialityLevel]);\n\n  // Calculate overall risk score (inversely related to security level)\n  const riskScore = useMemo(() => {\n    const aValue = getSecurityLevelValue(availabilityLevel);\n    const iValue = getSecurityLevelValue(integrityLevel);\n    const cValue = getSecurityLevelValue(confidentialityLevel);\n\n    // Calculate weighted average score (0-100)\n    // Higher security levels = lower risk\n    const maxSecurityValue = 4; // \"Very High\" level\n    const avgSecurityValue = (aValue + iValue + cValue) / 3;\n\n    // Convert to risk score (100 = highest risk, 0 = lowest risk)\n    return Math.round(100 - (avgSecurityValue / maxSecurityValue) * 100);\n  }, [availabilityLevel, integrityLevel, confidentialityLevel]);\n\n  // Determine risk level based on score\n  const riskLevel = useMemo(() => {\n    if (riskScore >= 80) return \"Critical\";\n    if (riskScore >= 60) return \"High\";\n    if (riskScore >= 40) return \"Medium\";\n    if (riskScore >= 20) return \"Low\";\n    return \"Minimal\";\n  }, [riskScore]);\n\n  // Get risk description\n  const riskDescription = useMemo(() => {\n    return (\n      RISK_LEVEL_DESCRIPTIONS[\n        riskLevel.toUpperCase() as keyof typeof RISK_LEVEL_DESCRIPTIONS\n      ] || \"Risk level not available\"\n    );\n  }, [riskLevel]);\n\n  return (\n    <div className={`h-full flex flex-col ${className}`} data-testid={testId}>\n      <div className=\"flex flex-col md:flex-row gap-4 h-full\">\n        {/* Radar Chart */}\n        <div className=\"md:w-3/5 h-full flex items-center justify-center radar-chart-container overflow-hidden\">\n          <RadarChart\n            availabilityLevel={availabilityLevel}\n            integrityLevel={integrityLevel}\n            confidentialityLevel={confidentialityLevel}\n            testId={`${testId}-radar-chart`}\n          />\n        </div>\n\n        {/* Risk Score */}\n        <div className=\"md:w-2/5 flex flex-col\">\n          <SecurityRiskScore\n            score={riskScore}\n            label={riskLevel}\n            testId={`${testId}-risk-score`}\n          />\n\n          <div className=\"mt-4 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg border shadow-sm\">\n            <h4 className=\"text-sm font-medium mb-2\">Risk Assessment</h4>\n            <p className=\"text-xs text-gray-600 dark:text-gray-300\">\n              {riskDescription}\n            </p>\n          </div>\n\n          {/* Security Metrics */}\n          <div className=\"mt-4 grid grid-cols-3 gap-2 text-center\">\n            <div className=\"p-2 bg-blue-50 dark:bg-blue-900 dark:bg-opacity-20 rounded-md\">\n              <div className=\"text-xs text-gray-500 dark:text-gray-400\">\n                Availability\n              </div>\n              <div className=\"text-sm font-medium text-blue-600 dark:text-blue-400\">\n                {availabilityLevel}\n              </div>\n            </div>\n\n            <div className=\"p-2 bg-green-50 dark:bg-green-900 dark:bg-opacity-20 rounded-md\">\n              <div className=\"text-xs text-gray-500 dark:text-gray-400\">\n                Integrity\n              </div>\n              <div className=\"text-sm font-medium text-green-600 dark:text-green-400\">\n                {integrityLevel}\n              </div>\n            </div>\n\n            <div className=\"p-2 bg-purple-50 dark:bg-purple-900 dark:bg-opacity-20 rounded-md\">\n              <div className=\"text-xs text-gray-500 dark:text-gray-400\">\n                Confidentiality\n              </div>\n              <div className=\"text-sm font-medium text-purple-600 dark:text-purple-400\">\n                {confidentialityLevel}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SecurityVisualizationWidget;\n","import React, { useMemo, useState } from \"react\";\nimport {\n  CIA_COMPONENT_ICONS,\n  CIA_LABELS,\n  IMPLEMENTATION_COSTS, // Import the implementation costs mapping\n} from \"../../constants/appConstants\";\nimport { CIA_COMPONENT_COLORS } from \"../../constants/colorConstants\"; // Import from the correct file\nimport { TECHNICAL_DETAILS_TEST_IDS } from \"../../constants/testIds\";\nimport ciaContentService from \"../../services/ciaContentService\";\nimport { SecurityLevel } from \"../../types/cia\";\nimport StatusBadge from \"../common/StatusBadge\"; // Import StatusBadge component\nimport WidgetContainer from \"../common/WidgetContainer\";\n\n/**\n * Props for TechnicalDetailsWidget component\n */\nexport interface TechnicalDetailsWidgetProps {\n  availabilityLevel?: string;\n  integrityLevel?: string;\n  confidentialityLevel?: string;\n  className?: string;\n  testId?: string;\n}\n\n/**\n * TechnicalDetailsWidget displays technical implementation details for the selected security levels\n *\n * ## Business Perspective\n *\n * This widget provides IT teams and technical stakeholders with specific\n * implementation details required to meet the selected security levels.\n * It translates high-level security decisions into actionable technical\n * requirements, creating clear documentation for implementation teams. üîß\n *\n * The technical specifications provided by this widget help organizations\n * align their technical architecture with their security requirements,\n * ensuring that appropriate controls are implemented across each component\n * of the CIA security triad.\n */\nconst TechnicalDetailsWidget: React.FC<TechnicalDetailsWidgetProps> = ({\n  availabilityLevel = \"None\",\n  integrityLevel = \"None\",\n  confidentialityLevel = \"None\",\n  className = \"\",\n  testId = TECHNICAL_DETAILS_TEST_IDS.TECHNICAL_DETAILS_WIDGET,\n}) => {\n  // Add state for active tab: \"confidentiality\", \"integrity\", or \"availability\"\n  const [activeTab, setActiveTab] = useState<\n    \"confidentiality\" | \"integrity\" | \"availability\"\n  >(\"confidentiality\");\n\n  // Helper functions for getting default effort values based on security level\n  const getDefaultDevelopmentEffort = (level: SecurityLevel): string => {\n    switch (level) {\n      case \"None\":\n        return \"None\";\n      case \"Low\":\n        return \"Days (1-5)\";\n      case \"Moderate\":\n        return \"Weeks (2-4)\";\n      case \"High\":\n        return \"Months (1-3)\";\n      case \"Very High\":\n        return \"Months (3+)\";\n      default:\n        return \"Not specified\";\n    }\n  };\n\n  const getDefaultMaintenanceEffort = (level: SecurityLevel): string => {\n    switch (level) {\n      case \"None\":\n        return \"None\";\n      case \"Low\":\n        return \"Minimal (quarterly review)\";\n      case \"Moderate\":\n        return \"Regular (monthly review)\";\n      case \"High\":\n        return \"Significant (biweekly monitoring)\";\n      case \"Very High\":\n        return \"Extensive (continuous monitoring)\";\n      default:\n        return \"Not specified\";\n    }\n  };\n\n  const getDefaultExpertiseLevel = (level: SecurityLevel): string => {\n    switch (level) {\n      case \"None\":\n        return \"None\";\n      case \"Low\":\n        return \"Basic security knowledge\";\n      case \"Moderate\":\n        return \"Security professional\";\n      case \"High\":\n        return \"Security specialist\";\n      case \"Very High\":\n        return \"Security expert team\";\n      default:\n        return \"Not specified\";\n    }\n  };\n\n  // Get technical details for each CIA component\n  const availabilityDetails = useMemo(\n    () =>\n      ciaContentService.getComponentDetails(\n        \"availability\",\n        availabilityLevel as SecurityLevel\n      ),\n    [availabilityLevel]\n  );\n\n  const integrityDetails = useMemo(\n    () =>\n      ciaContentService.getComponentDetails(\n        \"integrity\",\n        integrityLevel as SecurityLevel\n      ),\n    [integrityLevel]\n  );\n\n  const confidentialityDetails = useMemo(\n    () =>\n      ciaContentService.getComponentDetails(\n        \"confidentiality\",\n        confidentialityLevel as SecurityLevel\n      ),\n    [confidentialityLevel]\n  );\n\n  // Get recommendations for each CIA component\n  const availabilityRecommendations = useMemo(\n    () =>\n      ciaContentService.getRecommendations(\n        \"availability\",\n        availabilityLevel as SecurityLevel\n      ) || [],\n    [availabilityLevel]\n  );\n\n  const integrityRecommendations = useMemo(\n    () =>\n      ciaContentService.getRecommendations(\n        \"integrity\",\n        integrityLevel as SecurityLevel\n      ) || [],\n    [integrityLevel]\n  );\n\n  const confidentialityRecommendations = useMemo(\n    () =>\n      ciaContentService.getRecommendations(\n        \"confidentiality\",\n        confidentialityLevel as SecurityLevel\n      ) || [],\n    [confidentialityLevel]\n  );\n\n  // Get the details for the active tab\n  const activeDetails = useMemo(() => {\n    switch (activeTab) {\n      case \"availability\":\n        return {\n          details: availabilityDetails,\n          level: availabilityLevel,\n          color: CIA_COMPONENT_COLORS.AVAILABILITY,\n          recommendations: availabilityRecommendations,\n          icon: CIA_COMPONENT_ICONS.AVAILABILITY,\n          protectionMethod: availabilityDetails?.uptime || \"Not specified\",\n          validationKey: \"uptime\",\n        };\n      case \"integrity\":\n        return {\n          details: integrityDetails,\n          level: integrityLevel,\n          color: CIA_COMPONENT_COLORS.INTEGRITY,\n          recommendations: integrityRecommendations,\n          icon: CIA_COMPONENT_ICONS.INTEGRITY,\n          protectionMethod:\n            integrityDetails?.validationMethod || \"Not specified\",\n          validationKey: \"validationMethod\",\n        };\n      case \"confidentiality\":\n        return {\n          details: confidentialityDetails,\n          level: confidentialityLevel,\n          color: CIA_COMPONENT_COLORS.CONFIDENTIALITY,\n          recommendations: confidentialityRecommendations,\n          icon: CIA_COMPONENT_ICONS.CONFIDENTIALITY,\n          protectionMethod:\n            confidentialityDetails?.protectionMethod || \"Not specified\",\n          validationKey: \"protectionMethod\",\n        };\n    }\n  }, [\n    activeTab,\n    availabilityDetails,\n    integrityDetails,\n    confidentialityDetails,\n    availabilityLevel,\n    integrityLevel,\n    confidentialityLevel,\n    availabilityRecommendations,\n    integrityRecommendations,\n    confidentialityRecommendations,\n  ]);\n\n  // Get implementation details from the service\n  const implementationDetails = useMemo(() => {\n    if (!activeDetails?.details) return null;\n\n    const level = activeDetails.level as SecurityLevel;\n\n    // Get default values based on the selected security level\n    const defaultEffort = {\n      development: getDefaultDevelopmentEffort(level),\n      maintenance: getDefaultMaintenanceEffort(level),\n      expertise: getDefaultExpertiseLevel(level),\n    };\n\n    return {\n      implementationSteps: activeDetails.details.implementationSteps || [],\n      effort: {\n        development:\n          activeDetails.details.effort?.development ||\n          defaultEffort.development,\n        maintenance:\n          activeDetails.details.effort?.maintenance ||\n          defaultEffort.maintenance,\n        expertise:\n          activeDetails.details.effort?.expertise || defaultEffort.expertise,\n      },\n      codeExamples: activeDetails.details.codeExamples || [],\n      technicalImplementation: activeDetails.details.technicalImplementation,\n    };\n  }, [activeDetails]);\n\n  // Get implementation costs for the selected component and level\n  const implementationCosts = useMemo(() => {\n    let level: SecurityLevel;\n\n    if (activeTab === \"availability\") {\n      level = availabilityLevel as SecurityLevel;\n    } else if (activeTab === \"integrity\") {\n      level = integrityLevel as SecurityLevel;\n    } else {\n      level = confidentialityLevel as SecurityLevel;\n    }\n\n    // Get implementation costs for the selected level\n    return (\n      IMPLEMENTATION_COSTS[level] || {\n        developmentEffort: getDefaultDevelopmentEffort(level),\n        maintenance: getDefaultMaintenanceEffort(level),\n        expertise: getDefaultExpertiseLevel(level),\n      }\n    );\n  }, [activeTab, availabilityLevel, integrityLevel, confidentialityLevel]);\n\n  // Create sample implementation code based on selected levels\n  const sampleImplementationCode = useMemo(() => {\n    return `$ security-level --availability ${availabilityLevel} --integrity ${integrityLevel} --confidentiality ${confidentialityLevel}\nAnalyzing security requirements...\nGenerating implementation plan...\nSecurity level set: ${availabilityLevel}/${integrityLevel}/${confidentialityLevel}\nActive component: ${activeTab}`;\n  }, [availabilityLevel, integrityLevel, confidentialityLevel, activeTab]);\n\n  return (\n    <WidgetContainer\n      title=\"Technical Implementation Details\"\n      icon=\"‚öôÔ∏è\"\n      className={className}\n      testId={testId}\n    >\n      <div className=\"space-y-4\">\n        {/* Tab Navigation */}\n        <div className=\"flex space-x-1 border-b\">\n          <button\n            onClick={() => setActiveTab(\"confidentiality\")}\n            className={`px-4 py-2 text-sm font-medium rounded-t-lg focus:outline-none ${\n              activeTab === \"confidentiality\"\n                ? `bg-${CIA_COMPONENT_COLORS.CONFIDENTIALITY.PRIMARY} bg-opacity-10 border-b-2`\n                : \"hover:bg-gray-100 dark:hover:bg-gray-800\"\n            }`}\n            style={{\n              borderBottomColor:\n                activeTab === \"confidentiality\"\n                  ? CIA_COMPONENT_COLORS.CONFIDENTIALITY.PRIMARY\n                  : \"transparent\",\n            }}\n            data-testid={TECHNICAL_DETAILS_TEST_IDS.CONFIDENTIALITY_SECTION}\n          >\n            <span className=\"mr-1\">{CIA_COMPONENT_ICONS.CONFIDENTIALITY}</span>\n            {CIA_LABELS.CONFIDENTIALITY}\n          </button>\n          <button\n            onClick={() => setActiveTab(\"integrity\")}\n            className={`px-4 py-2 text-sm font-medium rounded-t-lg focus:outline-none ${\n              activeTab === \"integrity\"\n                ? `bg-${CIA_COMPONENT_COLORS.INTEGRITY.PRIMARY} bg-opacity-10 border-b-2`\n                : \"hover:bg-gray-100 dark:hover:bg-gray-800\"\n            }`}\n            style={{\n              borderBottomColor:\n                activeTab === \"integrity\"\n                  ? CIA_COMPONENT_COLORS.INTEGRITY.PRIMARY\n                  : \"transparent\",\n            }}\n            data-testid={TECHNICAL_DETAILS_TEST_IDS.INTEGRITY_SECTION}\n          >\n            <span className=\"mr-1\">{CIA_COMPONENT_ICONS.INTEGRITY}</span>\n            {CIA_LABELS.INTEGRITY}\n          </button>\n          <button\n            onClick={() => setActiveTab(\"availability\")}\n            className={`px-4 py-2 text-sm font-medium rounded-t-lg focus:outline-none ${\n              activeTab === \"availability\"\n                ? `bg-${CIA_COMPONENT_COLORS.AVAILABILITY.PRIMARY} bg-opacity-10 border-b-2`\n                : \"hover:bg-gray-100 dark:hover:bg-gray-800\"\n            }`}\n            style={{\n              borderBottomColor:\n                activeTab === \"availability\"\n                  ? CIA_COMPONENT_COLORS.AVAILABILITY.PRIMARY\n                  : \"transparent\",\n            }}\n            data-testid={TECHNICAL_DETAILS_TEST_IDS.AVAILABILITY_SECTION}\n          >\n            <span className=\"mr-1\">{CIA_COMPONENT_ICONS.AVAILABILITY}</span>\n            {CIA_LABELS.AVAILABILITY}\n          </button>\n        </div>\n\n        {/* Technical Details Header */}\n        <div className=\"flex items-start justify-between\">\n          <div>\n            <h3\n              className=\"flex items-center text-lg font-medium\"\n              style={{ color: activeDetails?.color.PRIMARY }}\n              data-testid={TECHNICAL_DETAILS_TEST_IDS.TECHNICAL_HEADER}\n            >\n              <span className=\"mr-2\">{activeDetails?.icon}</span>\n              {activeTab.charAt(0).toUpperCase() + activeTab.slice(1)} Technical\n              Implementation\n            </h3>\n            <div className=\"mt-1 flex items-center\">\n              <StatusBadge\n                status={\n                  activeTab === \"confidentiality\"\n                    ? \"purple\"\n                    : activeTab === \"integrity\"\n                    ? \"success\"\n                    : \"info\"\n                }\n              >\n                {activeDetails?.level}\n              </StatusBadge>\n              <span className=\"mx-2\">‚Ä¢</span>\n              <span className=\"text-sm font-medium\">\n                {activeDetails?.validationKey === \"uptime\"\n                  ? \"Uptime:\"\n                  : activeDetails?.validationKey === \"validationMethod\"\n                  ? \"Validation Method:\"\n                  : \"Protection Method:\"}\n              </span>\n              <span className=\"ml-1 text-sm\">\n                {activeDetails?.protectionMethod}\n              </span>\n            </div>\n          </div>\n        </div>\n\n        {/* Technical Description */}\n        <div\n          className=\"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm\"\n          data-testid={TECHNICAL_DETAILS_TEST_IDS.TECHNICAL_DETAILS_SECTION}\n        >\n          <p\n            className=\"text-gray-700 dark:text-gray-300\"\n            data-testid={TECHNICAL_DETAILS_TEST_IDS.TECHNICAL_DESCRIPTION}\n          >\n            {activeDetails?.details?.technical ||\n              \"No technical details available for this security level.\"}\n          </p>\n        </div>\n\n        {/* Recommendations Section */}\n        <div className=\"mt-4\">\n          <h4 className=\"text-md font-medium mb-2\">\n            Implementation Recommendations\n          </h4>\n          {activeDetails?.recommendations &&\n          activeDetails.recommendations.length > 0 ? (\n            <ul className=\"space-y-2 pl-5 list-disc marker:text-blue-500 dark:marker:text-blue-400\">\n              {activeDetails.recommendations.map((rec, index) => (\n                <li key={index} className=\"text-gray-700 dark:text-gray-300\">\n                  {rec}\n                </li>\n              ))}\n            </ul>\n          ) : (\n            <p className=\"text-gray-500 dark:text-gray-400\">\n              No recommendations available for this security level.\n            </p>\n          )}\n        </div>\n\n        {/* Implementation Requirements */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6\">\n          <div className=\"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700\">\n            <h5 className=\"text-sm font-medium mb-2 flex items-center\">\n              <span className=\"mr-2\">üíª</span>\n              Development Effort\n            </h5>\n            <p\n              className=\"text-gray-700 dark:text-gray-300 text-sm\"\n              data-testid={TECHNICAL_DETAILS_TEST_IDS.DEVELOPMENT_EFFORT}\n            >\n              {implementationDetails?.effort?.development ||\n                getDefaultDevelopmentEffort(\n                  activeDetails?.level as SecurityLevel\n                )}\n            </p>\n          </div>\n          <div className=\"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700\">\n            <h5 className=\"text-sm font-medium mb-2 flex items-center\">\n              <span className=\"mr-2\">üîß</span>\n              Maintenance\n            </h5>\n            <p className=\"text-gray-700 dark:text-gray-300 text-sm\">\n              {implementationDetails?.effort?.maintenance ||\n                getDefaultMaintenanceEffort(\n                  activeDetails?.level as SecurityLevel\n                )}\n            </p>\n          </div>\n          <div className=\"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700\">\n            <h5 className=\"text-sm font-medium mb-2 flex items-center\">\n              <span className=\"mr-2\">üë®‚Äçüíª</span>\n              Required Expertise\n            </h5>\n            <p className=\"text-gray-700 dark:text-gray-300 text-sm\">\n              {implementationDetails?.effort?.expertise ||\n                getDefaultExpertiseLevel(activeDetails?.level as SecurityLevel)}\n            </p>\n          </div>\n        </div>\n\n        {/* Terminal Implementation Display */}\n        <div className=\"mt-6\">\n          <h4 className=\"text-md font-medium mb-2\">Implementation Reference</h4>\n          <div className=\"technical-terminal shadow-md\">\n            <div className=\"terminal-header\">\n              <div className=\"flex space-x-2\">\n                <div className=\"terminal-dot red\"></div>\n                <div className=\"terminal-dot yellow\"></div>\n                <div className=\"terminal-dot green\"></div>\n              </div>\n              <div className=\"terminal-title\">Terminal</div>\n            </div>\n            <div className=\"terminal-content\">\n              <pre className=\"text-xs overflow-x-auto p-2\">\n                <span className=\"terminal-prompt\">$</span>{\" \"}\n                <span className=\"terminal-command\">\n                  security-level --availability {availabilityLevel} --integrity{\" \"}\n                  {integrityLevel} --confidentiality {confidentialityLevel}\n                </span>\n                <br />\n                <span className=\"terminal-output\">\n                  Analyzing security requirements...\n                </span>\n                <br />\n                <span className=\"terminal-output\">\n                  Generating implementation plan...\n                </span>\n                <br />\n                <span className=\"terminal-output\">\n                  Security level set: {availabilityLevel}/{integrityLevel}/\n                  {confidentialityLevel}\n                </span>\n                <br />\n                <span className=\"terminal-output\">\n                  Active component: {activeTab}\n                </span>\n                <br />\n                <span className=\"terminal-output\">---</span>\n                <br />\n                <span className=\"terminal-output\">\n                  {activeDetails?.icon}{\" \"}\n                  {activeTab.charAt(0).toUpperCase() + activeTab.slice(1)}{\" \"}\n                  Level: {activeDetails?.level}\n                </span>\n                <br />\n                <span className=\"terminal-output\">\n                  Protection Method: {activeDetails?.protectionMethod}\n                </span>\n              </pre>\n            </div>\n          </div>\n        </div>\n\n        {/* Code Examples Section */}\n        {implementationDetails?.codeExamples &&\n          implementationDetails.codeExamples.length > 0 && (\n            <div className=\"mt-6\">\n              <h4 className=\"text-md font-medium mb-2\">Code Examples</h4>\n              <div className=\"space-y-4\">\n                {implementationDetails.codeExamples.map((example, index) => (\n                  <div key={index} className=\"code-block\">\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <span className=\"text-xs font-medium\">\n                        {example.title}\n                      </span>\n                      <span className=\"text-xs text-gray-500\">\n                        {example.language}\n                      </span>\n                    </div>\n                    <pre className=\"overflow-x-auto\">\n                      <code>{example.code}</code>\n                    </pre>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n        {/* Implementation Steps */}\n        {implementationDetails?.implementationSteps &&\n          implementationDetails.implementationSteps.length > 0 && (\n            <div className=\"mt-6\">\n              <h4 className=\"text-md font-medium mb-2\">Implementation Steps</h4>\n              <div className=\"space-y-2\">\n                {implementationDetails.implementationSteps.map(\n                  (step, index) => (\n                    <div key={index} className=\"flex items-start\">\n                      <div className=\"flex-shrink-0 h-6 w-6 flex items-center justify-center rounded-full bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 mr-3\">\n                        {index + 1}\n                      </div>\n                      <p className=\"text-gray-700 dark:text-gray-300\">{step}</p>\n                    </div>\n                  )\n                )}\n              </div>\n            </div>\n          )}\n      </div>\n    </WidgetContainer>\n  );\n};\n\nexport default TechnicalDetailsWidget;\n","import React, { useMemo } from \"react\";\nimport { ROI_ESTIMATES, SECURITY_LEVELS } from \"../../constants/appConstants\";\nimport { VALUE_CREATION_TEST_IDS } from \"../../constants/testIds\";\nimport {\n  getBusinessImpactDescription,\n  getROIEstimate,\n} from \"../../services/ciaContentService\";\nimport { SecurityLevel } from \"../../types/cia\";\nimport MetricsCard from \"../common/MetricsCard\";\nimport StatusBadge from \"../common/StatusBadge\";\nimport WidgetContainer from \"../common/WidgetContainer\";\n\n/**\n * Props for ValueCreationWidget\n */\nexport interface ValueCreationWidgetProps {\n  securityLevel: SecurityLevel;\n  availabilityLevel: SecurityLevel;\n  integrityLevel: SecurityLevel;\n  confidentialityLevel: SecurityLevel;\n  className?: string;\n  testId?: string;\n}\n\n/**\n * ValueCreationWidget displays business value and ROI metrics for security investments\n *\n * ## Business Perspective\n *\n * This widget translates security investments into business value metrics,\n * helping executives and business stakeholders understand the financial\n * benefits of security controls. It provides quantifiable ROI data that\n * supports budget justification and demonstrates the value created through\n * security investments. üí∞\n *\n * By providing metrics like breach cost avoidance and productivity impacts,\n * this widget helps security teams articulate the business case for security\n * and align security decisions with broader organizational goals. üìà\n */\nconst ValueCreationWidget: React.FC<ValueCreationWidgetProps> = ({\n  securityLevel,\n  availabilityLevel,\n  integrityLevel,\n  confidentialityLevel,\n  className = \"\",\n  testId = VALUE_CREATION_TEST_IDS.VALUE_CREATION_WIDGET,\n}) => {\n  // Get ROI data for the selected security level\n  const roiData = useMemo(() => getROIEstimate(securityLevel), [securityLevel]);\n\n  // Get business impact descriptions\n  const availabilityBusinessImpact = useMemo(\n    () => getBusinessImpactDescription(\"availability\", availabilityLevel),\n    [availabilityLevel]\n  );\n\n  const integrityBusinessImpact = useMemo(\n    () => getBusinessImpactDescription(\"integrity\", integrityLevel),\n    [integrityLevel]\n  );\n\n  const confidentialityBusinessImpact = useMemo(\n    () => getBusinessImpactDescription(\"confidentiality\", confidentialityLevel),\n    [confidentialityLevel]\n  );\n\n  // Calculate breach cost avoidance based on security level\n  const breachCostAvoidance = useMemo(() => {\n    const levelValues = {\n      [SECURITY_LEVELS.NONE]: \"$0\",\n      [SECURITY_LEVELS.LOW]: \"$100,000 - $250,000\",\n      [SECURITY_LEVELS.MODERATE]: \"$250,000 - $750,000\",\n      [SECURITY_LEVELS.HIGH]: \"$750,000 - $2,000,000\",\n      [SECURITY_LEVELS.VERY_HIGH]: \"$2,000,000+\",\n    };\n    return levelValues[securityLevel] || \"$0\";\n  }, [securityLevel]);\n\n  // Calculate productivity impact based on security level\n  const productivityImpact = useMemo(() => {\n    const levelValues = {\n      [SECURITY_LEVELS.NONE]: \"High disruption risk\",\n      [SECURITY_LEVELS.LOW]: \"Moderate disruption risk\",\n      [SECURITY_LEVELS.MODERATE]: \"Controlled disruption\",\n      [SECURITY_LEVELS.HIGH]: \"Minimal disruption\",\n      [SECURITY_LEVELS.VERY_HIGH]: \"Business continuity assured\",\n    };\n    return levelValues[securityLevel] || \"Unknown impact\";\n  }, [securityLevel]);\n\n  // Calculate an investment impact score based on ROI value\n  const investmentImpactScore = useMemo(() => {\n    // Extract numeric value from ROI string (e.g., \"200%\" -> 200)\n    const roiValue = parseInt(roiData.value.replace(/[^0-9]/g, \"\"), 10) || 0;\n\n    if (roiValue >= 400) return { score: \"A+\", label: \"Exceptional\" };\n    if (roiValue >= 300) return { score: \"A\", label: \"Excellent\" };\n    if (roiValue >= 200) return { score: \"B+\", label: \"Very Good\" };\n    if (roiValue >= 100) return { score: \"B\", label: \"Good\" };\n    if (roiValue >= 50) return { score: \"C\", label: \"Average\" };\n    return { score: \"D\", label: \"Minimal\" };\n  }, [roiData.value]);\n\n  // Get standard ROI estimates\n  const standardROI = useMemo(\n    () => ({\n      NONE: ROI_ESTIMATES.NONE,\n      LOW: ROI_ESTIMATES.LOW,\n      MODERATE: ROI_ESTIMATES.MODERATE,\n      HIGH: ROI_ESTIMATES.HIGH,\n      VERY_HIGH: ROI_ESTIMATES.VERY_HIGH,\n    }),\n    []\n  );\n\n  // Calculate breakeven timeframe\n  const breakEvenTimeframe = useMemo(() => {\n    const timeframes = {\n      [SECURITY_LEVELS.NONE]: \"N/A\",\n      [SECURITY_LEVELS.LOW]: \"18-24 months\",\n      [SECURITY_LEVELS.MODERATE]: \"12-18 months\",\n      [SECURITY_LEVELS.HIGH]: \"6-12 months\",\n      [SECURITY_LEVELS.VERY_HIGH]: \"3-6 months\",\n    };\n    return timeframes[securityLevel] || \"Unknown\";\n  }, [securityLevel]);\n\n  return (\n    <WidgetContainer\n      title=\"Business Value & ROI\"\n      icon=\"üí∞\"\n      className={className}\n      testId={testId}\n    >\n      <div className=\"space-y-6\">\n        {/* ROI Overview */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <MetricsCard\n            title=\"Return on Investment\"\n            value={roiData.value}\n            icon=\"üìà\"\n            testId={`${testId}-roi`}\n            accentColor=\"#9b59b6\"\n            variant=\"purple\"\n          />\n\n          <MetricsCard\n            title=\"Break-Even Period\"\n            value={breakEvenTimeframe}\n            icon=\"‚è±Ô∏è\"\n            testId={`${testId}-breakeven`}\n            accentColor=\"#3498db\"\n            variant=\"info\"\n          />\n\n          <MetricsCard\n            title=\"Investment Impact\"\n            value={`${investmentImpactScore.score} - ${investmentImpactScore.label}`}\n            icon=\"üéØ\"\n            testId={`${testId}-impact-score`}\n            accentColor=\"#2ecc71\"\n            variant=\"success\"\n          />\n        </div>\n\n        {/* Business Value Metrics */}\n        <div className=\"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border shadow-sm\">\n          <h3 className=\"text-lg font-medium mb-3\">Business Value Metrics</h3>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-3\">\n            <div className=\"p-3 rounded-md bg-purple-100 dark:bg-purple-900 dark:bg-opacity-20 border border-purple-200 dark:border-purple-800\">\n              <div className=\"flex items-center mb-2\">\n                <span className=\"mr-2\">üõ°Ô∏è</span>\n                <span className=\"font-medium\">Breach Cost Avoidance</span>\n              </div>\n              <p\n                className=\"text-lg font-bold text-purple-700 dark:text-purple-300\"\n                data-testid={`${testId}-breach-cost`}\n              >\n                {breachCostAvoidance}\n              </p>\n              <p className=\"text-xs text-gray-600 dark:text-gray-400 mt-1\">\n                Estimated financial loss avoided based on risk reduction\n              </p>\n            </div>\n\n            <div className=\"p-3 rounded-md bg-blue-100 dark:bg-blue-900 dark:bg-opacity-20 border border-blue-200 dark:border-blue-800\">\n              <div className=\"flex items-center mb-2\">\n                <span className=\"mr-2\">‚ö°</span>\n                <span className=\"font-medium\">Productivity Impact</span>\n              </div>\n              <p\n                className=\"text-lg font-bold text-blue-700 dark:text-blue-300\"\n                data-testid={`${testId}-productivity`}\n              >\n                {productivityImpact}\n              </p>\n              <p className=\"text-xs text-gray-600 dark:text-gray-400 mt-1\">\n                Effect on business operations and employee productivity\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Business Impact Summary */}\n        <div>\n          <h3 className=\"text-lg font-medium mb-3\">Impact Summary</h3>\n\n          <div className=\"space-y-4\">\n            {/* Confidentiality Business Impact */}\n            <div\n              className=\"p-3 bg-purple-50 dark:bg-gray-800 rounded-md border-l-4\"\n              style={{ borderLeftColor: \"#9b59b6\" }}\n              data-testid={`${testId}-conf-impact`}\n            >\n              <h4 className=\"text-sm font-medium mb-1 flex items-center\">\n                <span className=\"mr-2\">üîí</span>\n                Confidentiality Value\n              </h4>\n              <p className=\"text-sm text-gray-600 dark:text-gray-300\">\n                {confidentialityBusinessImpact ||\n                  \"No business impact information available.\"}\n              </p>\n              <div className=\"mt-2\">\n                <StatusBadge status=\"purple\" size=\"sm\">\n                  {confidentialityLevel}\n                </StatusBadge>\n              </div>\n            </div>\n\n            {/* Integrity Business Impact */}\n            <div\n              className=\"p-3 bg-green-50 dark:bg-gray-800 rounded-md border-l-4\"\n              style={{ borderLeftColor: \"#2ecc71\" }}\n              data-testid={`${testId}-int-impact`}\n            >\n              <h4 className=\"text-sm font-medium mb-1 flex items-center\">\n                <span className=\"mr-2\">‚úì</span>\n                Integrity Value\n              </h4>\n              <p className=\"text-sm text-gray-600 dark:text-gray-300\">\n                {integrityBusinessImpact ||\n                  \"No business impact information available.\"}\n              </p>\n              <div className=\"mt-2\">\n                <StatusBadge status=\"success\" size=\"sm\">\n                  {integrityLevel}\n                </StatusBadge>\n              </div>\n            </div>\n\n            {/* Availability Business Impact */}\n            <div\n              className=\"p-3 bg-blue-50 dark:bg-gray-800 rounded-md border-l-4\"\n              style={{ borderLeftColor: \"#3498db\" }}\n              data-testid={`${testId}-avail-impact`}\n            >\n              <h4 className=\"text-sm font-medium mb-1 flex items-center\">\n                <span className=\"mr-2\">‚è±Ô∏è</span>\n                Availability Value\n              </h4>\n              <p className=\"text-sm text-gray-600 dark:text-gray-300\">\n                {availabilityBusinessImpact ||\n                  \"No business impact information available.\"}\n              </p>\n              <div className=\"mt-2\">\n                <StatusBadge status=\"info\" size=\"sm\">\n                  {availabilityLevel}\n                </StatusBadge>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Value Comparison Table */}\n        <div className=\"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border shadow-sm\">\n          <h3 className=\"text-md font-medium mb-3\">\n            Security Value Comparison\n          </h3>\n\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full text-sm\">\n              <thead>\n                <tr className=\"border-b dark:border-gray-700\">\n                  <th className=\"text-left py-2 px-3\">Security Level</th>\n                  <th className=\"text-left py-2 px-3\">Est. ROI</th>\n                  <th className=\"text-left py-2 px-3\">Notes</th>\n                </tr>\n              </thead>\n              <tbody>\n                {Object.entries(standardROI).map(([level, data]) => {\n                  // Convert data to the correct type\n                  const roiInfo = data as unknown as {\n                    returnRate: string;\n                    description: string;\n                  };\n\n                  return (\n                    <tr\n                      key={level}\n                      className={`border-b dark:border-gray-700 ${\n                        securityLevel === level.replace(/_/g, \" \")\n                          ? \"bg-blue-50 dark:bg-blue-900 dark:bg-opacity-20\"\n                          : \"\"\n                      }`}\n                    >\n                      <td className=\"py-2 px-3\">{level.replace(/_/g, \" \")}</td>\n                      <td className=\"py-2 px-3\">{roiInfo.returnRate}</td>\n                      <td className=\"py-2 px-3\">{roiInfo.description}</td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </WidgetContainer>\n  );\n};\n\nexport default ValueCreationWidget;\n","import { ReactNode } from \"react\";\nimport WidgetContainer from \"../components/common/WidgetContainer\";\nimport {\n  SECURITY_LEVELS,\n  WIDGET_ICONS,\n  WIDGET_TITLES,\n} from \"../constants/coreConstants\";\nimport { SecurityLevel } from \"../types/cia\";\nimport {\n  WidgetComponentType,\n  WidgetDefinition,\n  WidgetSize,\n} from \"../types/widgets\";\nimport handleWidgetError from \"./errorHandlers\";\n\n// Import all widget components\nimport AvailabilityImpactWidget, {\n  AvailabilityImpactWidgetProps,\n} from \"../components/widgets/AvailabilityImpactWidget\";\nimport BusinessImpactAnalysisWidget, {\n  BusinessImpactAnalysisWidgetProps,\n} from \"../components/widgets/BusinessImpactAnalysisWidget\";\nimport CIAImpactSummaryWidget, {\n  CIAImpactSummaryWidgetProps,\n} from \"../components/widgets/CIAImpactSummaryWidget\";\nimport ComplianceStatusWidget, {\n  ComplianceStatusWidgetProps,\n} from \"../components/widgets/ComplianceStatusWidget\";\nimport ConfidentialityImpactWidget, {\n  ConfidentialityImpactWidgetProps,\n} from \"../components/widgets/ConfidentialityImpactWidget\";\nimport CostEstimationWidget, {\n  CostEstimationWidgetProps,\n} from \"../components/widgets/CostEstimationWidget\";\nimport IntegrityImpactWidget, {\n  IntegrityImpactWidgetProps,\n} from \"../components/widgets/IntegrityImpactWidget\";\nimport SecurityResourcesWidget, {\n  SecurityResourcesWidgetProps,\n} from \"../components/widgets/SecurityResourcesWidget\";\nimport SecuritySummaryWidget, {\n  SecuritySummaryWidgetProps,\n} from \"../components/widgets/SecuritySummaryWidget\";\nimport SecurityVisualizationWidget, {\n  SecurityVisualizationWidgetProps,\n} from \"../components/widgets/SecurityVisualizationWidget\";\nimport TechnicalDetailsWidget, {\n  TechnicalDetailsWidgetProps,\n} from \"../components/widgets/TechnicalDetailsWidget\";\nimport ValueCreationWidget, {\n  ValueCreationWidgetProps,\n} from \"../components/widgets/ValueCreationWidget\";\n\n/**\n * Type definition for widget size options\n */\nexport type WidgetSizeOption = \"small\" | \"medium\" | \"large\" | \"full\";\n\n/**\n * Convert a size string to widget size dimensions\n *\n * @param size The size string to convert\n * @returns Widget dimensions object or undefined\n */\nconst convertSizeToWidgetSize = (size?: string): WidgetSize | undefined => {\n  if (!size) return undefined;\n\n  // Map string sizes to appropriate width/height dimensions\n  switch (size) {\n    case \"small\":\n      return { width: 1, height: 1 };\n    case \"medium\":\n      return { width: 2, height: 1 };\n    case \"large\":\n      return { width: 2, height: 2 };\n    case \"full\":\n      return { width: 4, height: 2 };\n    default:\n      return { width: 2, height: 1 }; // Default to medium\n  }\n};\n\n/**\n * Widget Registry interface defining the API for working with widgets\n */\nexport interface WidgetRegistry {\n  register<T>(definition: WidgetDefinition<T>): void;\n  get<T>(id: string): WidgetDefinition<T> | undefined;\n  getAll(): WidgetDefinition<any>[];\n  renderWidget<T>(id: string, props?: Partial<T>): ReactNode | null;\n  renderWidgets(\n    filter?: (widget: WidgetDefinition<any>) => boolean,\n    props?: Record<string, any>\n  ): ReactNode[];\n}\n\n/**\n * Class to manage available widgets and their configurations\n *\n * ## Business Perspective\n *\n * This registry provides a central system for managing all widgets in the application,\n * enabling consistent behavior, appearance, and dynamic layout capabilities.\n * The singleton approach ensures all dashboard views share the same widget definitions\n * for consistency across the application. üîÑ\n */\nclass WidgetRegistryImpl implements WidgetRegistry {\n  private widgets: Map<string, WidgetDefinition<any>> = new Map();\n\n  /**\n   * Register a widget with the registry\n   * @param definition Widget definition object\n   */\n  register<T>(definition: WidgetDefinition<T>): void {\n    // Apply default values for missing properties\n    const finalDefinition = {\n      ...definition,\n      size: definition.size || \"medium\",\n      order: definition.order || 999,\n    };\n\n    this.widgets.set(finalDefinition.id, finalDefinition);\n  }\n\n  /**\n   * Get a widget definition by ID\n   * @param id Widget identifier\n   * @returns Widget definition or undefined if not found\n   */\n  get<T>(id: string): WidgetDefinition<T> | undefined {\n    return this.widgets.get(id) as WidgetDefinition<T> | undefined;\n  }\n\n  /**\n   * Get all registered widgets as an array\n   * @returns Array of widget definitions\n   */\n  getAll(): WidgetDefinition<any>[] {\n    return Array.from(this.widgets.values()).sort(\n      (a, b) => a.order! - b.order!\n    );\n  }\n\n  /**\n   * Render a single widget by ID with optional props\n   * @param id Widget identifier\n   * @param props Optional props to pass to the widget\n   * @returns Rendered widget or null if widget not found\n   */\n  renderWidget<T>(id: string, props: Partial<T> = {}): ReactNode | null {\n    const widget = this.widgets.get(id);\n    if (!widget) return null;\n\n    try {\n      // Merge default props with provided props\n      const finalProps = {\n        ...widget.defaultProps,\n        ...props,\n      };\n\n      return (\n        <WidgetContainer\n          key={widget.id}\n          title={widget.title}\n          icon={widget.icon}\n          size={convertSizeToWidgetSize(widget.size)}\n          testId={`widget-${widget.id}`}\n        >\n          <widget.component {...finalProps} />\n        </WidgetContainer>\n      );\n    } catch (error) {\n      const errorObj =\n        error instanceof Error ? error : new Error(String(error));\n      return handleWidgetError(errorObj, id);\n    }\n  }\n\n  /**\n   * Render multiple widgets filtered by a predicate function\n   * @param filter Optional filter function to select widgets\n   * @param props Optional props for each widget by ID\n   * @returns Array of rendered widget components\n   */\n  renderWidgets(\n    filter?: (widget: WidgetDefinition<any>) => boolean,\n    props: Record<string, any> = {}\n  ): ReactNode[] {\n    const widgetsToRender = Array.from(this.widgets.values())\n      .filter(filter || (() => true))\n      .sort((a, b) => a.order! - b.order!);\n\n    return widgetsToRender.map((widget) => {\n      const widgetProps = props[widget.id] || {};\n      const combinedProps = { ...widget.defaultProps, ...widgetProps };\n\n      return (\n        <WidgetContainer\n          key={widget.id}\n          title={widget.title}\n          icon={widget.icon}\n          size={convertSizeToWidgetSize(widget.size)}\n          testId={`widget-${widget.id}`}\n        >\n          <widget.component {...combinedProps} />\n        </WidgetContainer>\n      );\n    });\n  }\n}\n\n// Create and export a singleton instance\nexport const widgetRegistry = new WidgetRegistryImpl();\n\n// Register core widgets\nwidgetRegistry.register<SecuritySummaryWidgetProps>({\n  id: \"security-summary\",\n  title: WIDGET_TITLES.SECURITY_SUMMARY,\n  component: SecuritySummaryWidget,\n  icon: WIDGET_ICONS.SECURITY_SUMMARY,\n  size: \"medium\",\n  order: 10,\n});\n\nwidgetRegistry.register<ComplianceStatusWidgetProps>({\n  id: \"compliance-status\",\n  title: WIDGET_TITLES.COMPLIANCE_STATUS,\n  component:\n    ComplianceStatusWidget as unknown as WidgetComponentType<ComplianceStatusWidgetProps>,\n  icon: WIDGET_ICONS.COMPLIANCE_STATUS,\n  size: \"medium\",\n  order: 20,\n  defaultProps: {\n    securityLevel: SECURITY_LEVELS.NONE as SecurityLevel,\n  },\n});\n\nwidgetRegistry.register<ValueCreationWidgetProps>({\n  id: \"value-creation\",\n  title: WIDGET_TITLES.VALUE_CREATION,\n  component:\n    ValueCreationWidget as WidgetComponentType<ValueCreationWidgetProps>,\n  icon: WIDGET_ICONS.VALUE_CREATION,\n  size: \"medium\",\n  order: 25,\n  description: \"Business value created by security investments\",\n  defaultProps: {\n    securityLevel: SECURITY_LEVELS.NONE as SecurityLevel,\n  },\n});\n\n// Register integrity impact widget with proper type assertion\nwidgetRegistry.register<IntegrityImpactWidgetProps>({\n  id: \"integrity-impact\",\n  title: WIDGET_TITLES.INTEGRITY_IMPACT,\n  component: IntegrityImpactWidget,\n  icon: WIDGET_ICONS.INTEGRITY_IMPACT,\n  size: \"medium\",\n  order: 30,\n  description: \"Impact and recommendations for data integrity\",\n  defaultProps: {\n    integrityLevel: SECURITY_LEVELS.NONE as SecurityLevel,\n    availabilityLevel: SECURITY_LEVELS.NONE as SecurityLevel,\n    confidentialityLevel: SECURITY_LEVELS.NONE as SecurityLevel,\n  },\n});\n\n// Register confidentiality impact widget with proper type assertion\nwidgetRegistry.register<ConfidentialityImpactWidgetProps>({\n  id: \"confidentiality-impact\",\n  title: WIDGET_TITLES.CONFIDENTIALITY_IMPACT,\n  component: ConfidentialityImpactWidget,\n  icon: WIDGET_ICONS.CONFIDENTIALITY_IMPACT,\n  size: \"medium\",\n  order: 35,\n  description: \"Impact and recommendations for data confidentiality\",\n  defaultProps: {\n    confidentialityLevel: SECURITY_LEVELS.NONE as SecurityLevel,\n    availabilityLevel: SECURITY_LEVELS.NONE as SecurityLevel,\n    integrityLevel: SECURITY_LEVELS.NONE as SecurityLevel,\n  },\n});\n\nwidgetRegistry.register<AvailabilityImpactWidgetProps>({\n  id: \"availability-impact\",\n  title: WIDGET_TITLES.AVAILABILITY_IMPACT,\n  component:\n    AvailabilityImpactWidget as unknown as WidgetComponentType<AvailabilityImpactWidgetProps>,\n  icon: WIDGET_ICONS.AVAILABILITY_IMPACT,\n  size: \"medium\",\n  order: 40,\n  description: \"Impact and recommendations for system availability\",\n  defaultProps: {\n    availabilityLevel: SECURITY_LEVELS.NONE as SecurityLevel,\n    integrityLevel: SECURITY_LEVELS.NONE as SecurityLevel,\n    confidentialityLevel: SECURITY_LEVELS.NONE as SecurityLevel,\n    options: {},\n  },\n});\n\nwidgetRegistry.register<SecurityResourcesWidgetProps>({\n  id: \"security-resources\",\n  title: WIDGET_TITLES.SECURITY_RESOURCES,\n  component:\n    SecurityResourcesWidget as unknown as WidgetComponentType<SecurityResourcesWidgetProps>,\n  icon: WIDGET_ICONS.SECURITY_RESOURCES,\n  size: \"medium\",\n  order: 45,\n  description: \"Security resources and documentation\",\n  defaultProps: {\n    securityLevel: SECURITY_LEVELS.NONE as SecurityLevel,\n    availabilityLevel: SECURITY_LEVELS.NONE as SecurityLevel,\n    integrityLevel: SECURITY_LEVELS.NONE as SecurityLevel,\n    confidentialityLevel: SECURITY_LEVELS.NONE as SecurityLevel,\n  },\n});\n\nwidgetRegistry.register<TechnicalDetailsWidgetProps>({\n  id: \"technical-details\",\n  title: WIDGET_TITLES.TECHNICAL_IMPLEMENTATION,\n  component: TechnicalDetailsWidget,\n  icon: WIDGET_ICONS.TECHNICAL_IMPLEMENTATION,\n  size: \"large\",\n  order: 50,\n  description: \"Technical implementation details for security controls\",\n  defaultProps: {\n    availabilityLevel: SECURITY_LEVELS.NONE as SecurityLevel,\n    integrityLevel: SECURITY_LEVELS.NONE as SecurityLevel,\n    confidentialityLevel: SECURITY_LEVELS.NONE as SecurityLevel,\n  },\n});\n\nwidgetRegistry.register<BusinessImpactAnalysisWidgetProps>({\n  id: \"business-impact\",\n  title: WIDGET_TITLES.BUSINESS_IMPACT,\n  component: BusinessImpactAnalysisWidget,\n  icon: WIDGET_ICONS.BUSINESS_IMPACT,\n  size: \"large\",\n  order: 55,\n  description: \"Business impact analysis for security choices\",\n  defaultProps: {\n    availabilityLevel: SECURITY_LEVELS.NONE as SecurityLevel,\n    integrityLevel: SECURITY_LEVELS.NONE as SecurityLevel,\n    confidentialityLevel: SECURITY_LEVELS.NONE as SecurityLevel,\n  },\n});\n\n// Register CIAImpactSummaryWidget\nwidgetRegistry.register<CIAImpactSummaryWidgetProps>({\n  id: \"cia-impact-summary\",\n  title: \"CIA Impact Summary\",\n  description: \"Shows a consolidated overview of CIA security impacts\",\n  component: CIAImpactSummaryWidget,\n  defaultProps: {\n    availabilityLevel: SECURITY_LEVELS.NONE as SecurityLevel,\n    integrityLevel: SECURITY_LEVELS.NONE as SecurityLevel,\n    confidentialityLevel: SECURITY_LEVELS.NONE as SecurityLevel,\n  },\n  size: \"small\",\n  order: 12,\n  icon: \"üõ°Ô∏è\",\n  position: 0,\n});\n\n// Register security visualization widget\nwidgetRegistry.register<SecurityVisualizationWidgetProps>({\n  id: \"security-visualization\",\n  title: WIDGET_TITLES.SECURITY_VISUALIZATION,\n  component: SecurityVisualizationWidget,\n  icon: WIDGET_ICONS.SECURITY_VISUALIZATION,\n  size: \"medium\",\n  order: 15,\n  description: \"Security profile visualization and risk assessment\",\n  defaultProps: {\n    availabilityLevel: SECURITY_LEVELS.NONE as SecurityLevel,\n    integrityLevel: SECURITY_LEVELS.NONE as SecurityLevel,\n    confidentialityLevel: SECURITY_LEVELS.NONE as SecurityLevel,\n  },\n});\n\n// Register cost estimation widget\nwidgetRegistry.register<CostEstimationWidgetProps>({\n  id: \"cost-estimation\",\n  title: WIDGET_TITLES.COST_ESTIMATION,\n  component: CostEstimationWidget,\n  icon: WIDGET_ICONS.COST_ESTIMATION,\n  size: \"medium\",\n  order: 22,\n  description: \"Cost estimation for security implementation\",\n  defaultProps: {\n    availabilityLevel: SECURITY_LEVELS.NONE as SecurityLevel,\n    integrityLevel: SECURITY_LEVELS.NONE as SecurityLevel,\n    confidentialityLevel: SECURITY_LEVELS.NONE as SecurityLevel,\n  },\n});\n\n// Create a utility object with simple methods for testing\nexport const widgetRegistryUtils = {\n  getWidget: function <T>(id: string): WidgetDefinition<T> | undefined {\n    return widgetRegistry.get<T>(id);\n  },\n\n  getAllWidgetKeys: function (): string[] {\n    return widgetRegistry.getAll().map((widget) => widget.id);\n  },\n\n  renderWidget: function <T>(\n    id: string,\n    props: Partial<T> = {}\n  ): ReactNode | null {\n    return widgetRegistry.renderWidget<T>(id, props);\n  },\n\n  renderWidgets: function (\n    keys?: string[],\n    props: Record<string, any> = {}\n  ): ReactNode[] {\n    if (keys) {\n      return widgetRegistry.renderWidgets(\n        (widget) => keys.includes(widget.id),\n        props\n      );\n    }\n    return widgetRegistry.renderWidgets(undefined, props);\n  },\n};\n\nexport default widgetRegistry;\n","import { ReactNode } from \"react\";\n\n/**\n * Standard handler for widget errors\n *\n * @param error The error that occurred\n * @param widgetId ID of the widget that had the error\n * @returns Error display component\n */\nconst handleWidgetError = (error: Error, widgetId: string): ReactNode => {\n  console.error(`Error rendering widget ${widgetId}:`, error);\n\n  return (\n    <div\n      className=\"widget-error p-4 bg-red-50 border border-red-300 text-red-700 rounded-md\"\n      data-testid={`widget-error-${widgetId}`}\n    >\n      <h3 className=\"font-medium mb-2\">Widget Error</h3>\n      <p className=\"text-sm\">{error.message}</p>\n      <p className=\"text-xs mt-2 text-gray-600\">\n        Please try refreshing the page or contact support if the issue persists.\n      </p>\n    </div>\n  );\n};\n\nexport default handleWidgetError;\n","/**\n * Core CIA types used throughout the application\n *\n * ## Business Perspective\n *\n * ### Business Impact\n * The types defined in this file are crucial for representing the core concepts of the CIA (Confidentiality, Integrity, Availability) triad. They are used throughout the application to ensure consistent handling of security levels and impacts, which directly affects the application's ability to manage compliance and security effectively. üíº\n *\n * ### Compliance\n * By defining clear and consistent types for security levels and impacts, this file helps the application meet various compliance requirements and standards. üìú\n *\n * ### Risk Management\n * The types in this file play a key role in identifying and mitigating potential risks by providing a structured way to represent and analyze security impacts. ‚ö†Ô∏è\n *\n * ### Value Creation\n * The use of well-defined types enhances the application's reliability and maintainability, leading to cost savings and efficiency improvements. üí°\n *\n * ### Stakeholder Benefits\n * Clear and consistent types benefit all stakeholders, including developers, security analysts, and business users, by providing a common understanding of key security concepts. ü§ù\n */\n\n/**\n * Security level definitions - None, Low, Moderate, High, Very High\n */\nexport type SecurityLevel = \"None\" | \"Low\" | \"Moderate\" | \"High\" | \"Very High\";\n\n/**\n * Base interface for CIA impacts\n */\nexport interface BaseImpact {\n  level: SecurityLevel;\n  description: string;\n}\n\n/**\n * Impact associated with the availability of the system\n */\nexport interface AvailabilityImpact extends BaseImpact {\n  uptime: string;\n  recoveryTime: string;\n}\n\n/**\n * Impact associated with the integrity of the system\n */\nexport interface IntegrityImpact extends BaseImpact {\n  dataAccuracy: string;\n  verificationSteps: string;\n}\n\n/**\n * Impact associated with the confidentiality of the system\n */\nexport interface ConfidentialityImpact extends BaseImpact {\n  dataClassification: string;\n  accessControls: string;\n}\n\n/**\n * Complete CIA impact model\n */\nexport interface CIAImpact {\n  availability: AvailabilityImpact;\n  integrity: IntegrityImpact;\n  confidentiality: ConfidentialityImpact;\n}\n\n/**\n * Available options for each CIA pillar\n */\nexport interface CIAOptions {\n  availability: SecurityLevel[];\n  integrity: SecurityLevel[];\n  confidentiality: SecurityLevel[];\n}\n\n/**\n * Selected security levels for each CIA pillar\n */\nexport interface SecurityLevels {\n  availability: SecurityLevel;\n  integrity: SecurityLevel;\n  confidentiality: SecurityLevel;\n}\n\n/**\n * Business impact analysis interface for tracking security implications\n */\nexport interface BusinessImpactDetail {\n  description?: string;\n  riskLevel?: string;\n  annualRevenueLoss?: string;\n  meanTimeToRecover?: string;\n  complianceViolations?: string[];\n}\n\n/**\n * Detailed CIA information used across the application\n * Contains rich information about impacts, technical details, and recommendations\n */\nexport interface CIADetails {\n  description?: string;\n  impact?: string;\n  technical?: string;\n  businessImpact?: string;\n  uptime?: string;\n  mttr?: string;\n  rto?: string;\n  rpo?: string;\n  recommendations?: string[];\n  validationMethod?: string;\n  technicalControls?: string[];\n  technicalMeasures?: string[];\n  complianceImplications?: string;\n  riskLevel?: string;\n  capex?: number;\n  opex?: number;\n  bg?: string;\n  text?: string;\n  businessImpactDetails?: {\n    financialImpact?: { description?: string };\n    operationalImpact?: { description?: string };\n    reputationalImpact?: { description?: string };\n    regulatory?: { description?: string };\n  };\n}\n\n/**\n * CIA component type definition\n */\nexport type CIAComponentType = \"availability\" | \"integrity\" | \"confidentiality\";\n\n/**\n * Format security level for display\n * @param level The security level to format\n * @returns The formatted security level string\n */\nexport function formatSecurityLevel(\n  level: SecurityLevel | string | undefined\n): string {\n  if (!level) return \"Unknown\";\n\n  // Already a valid security level\n  if ([\"None\", \"Low\", \"Moderate\", \"High\", \"Very High\"].includes(level)) {\n    return level;\n  }\n\n  // Try to normalize\n  const normalized =\n    level.charAt(0).toUpperCase() + level.slice(1).toLowerCase();\n  if ([\"None\", \"Low\", \"Moderate\", \"High\"].includes(normalized)) {\n    return normalized;\n  } else if (normalized.toLowerCase() === \"very high\") {\n    return \"Very High\";\n  }\n\n  return \"Unknown\";\n}\n\n/**\n * Gets a numerical value for a security level for calculations\n * @param level The security level string\n * @returns A number from 0 (None) to 4 (Very High)\n */\nexport function getSecurityLevelValue(level: SecurityLevel | string): number {\n  switch (formatSecurityLevel(level)) {\n    case \"Very High\":\n      return 4;\n    case \"High\":\n      return 3;\n    case \"Moderate\":\n      return 2;\n    case \"Low\":\n      return 1;\n    case \"None\":\n    default:\n      return 0;\n  }\n}\n\n/**\n * Get a security level from a numeric value\n * @param value The numeric value (0-4)\n * @returns The corresponding security level\n */\nexport function getSecurityLevelFromValue(value: number): SecurityLevel {\n  const levels: SecurityLevel[] = [\n    \"None\",\n    \"Low\",\n    \"Moderate\",\n    \"High\",\n    \"Very High\",\n  ];\n\n  if (value < 0 || value >= levels.length) {\n    return \"None\"; // Default to \"None\" for out-of-range values\n  }\n\n  return levels[value] as SecurityLevel; // Add type assertion for TypeScript\n}\n\n/**\n * Calculate the overall security level based on CIA components\n * @param availabilityLevel The availability security level\n * @param integrityLevel The integrity security level\n * @param confidentialityLevel The confidentiality security level\n * @returns The calculated overall security level\n */\nexport function calculateOverallSecurityLevel(\n  availabilityLevel: SecurityLevel,\n  integrityLevel: SecurityLevel,\n  confidentialityLevel: SecurityLevel\n): SecurityLevel {\n  const levels: SecurityLevel[] = [\n    \"None\",\n    \"Low\",\n    \"Moderate\",\n    \"High\",\n    \"Very High\",\n  ];\n\n  const availabilityIndex = levels.indexOf(availabilityLevel);\n  const integrityIndex = levels.indexOf(integrityLevel);\n  const confidentialityIndex = levels.indexOf(confidentialityLevel);\n\n  const avgIndex = Math.round(\n    (availabilityIndex + integrityIndex + confidentialityIndex) / 3\n  );\n\n  return levels[avgIndex];\n}\n\nimport { getRiskLevelFromSecurityLevel } from \"../constants/riskConstants\";\n\n/**\n * Calculate the overall risk level based on security levels\n */\nexport function calculateRiskLevel(\n  availabilityLevel: SecurityLevel,\n  integrityLevel: SecurityLevel,\n  confidentialityLevel: SecurityLevel\n): string {\n  const overallLevel = calculateOverallSecurityLevel(\n    availabilityLevel,\n    integrityLevel,\n    confidentialityLevel\n  );\n\n  // Use the getRiskLevelFromSecurityLevel function to ensure consistent values\n  return getRiskLevelFromSecurityLevel(overallLevel);\n}\n","import React, { ReactNode } from \"react\";\nimport { WIDGET_ICONS } from \"../../constants/appConstants\";\nimport { APP_TEST_IDS, createDynamicTestId } from \"../../constants/testIds\";\nimport {\n  availabilityOptions,\n  confidentialityOptions,\n  integrityOptions,\n} from \"../../hooks/useCIAOptions\";\nimport { gridClasses } from \"../../styles/gridStyles\";\nimport { SecurityLevel } from \"../../types/cia\";\nimport widgetRegistry from \"../../utils/widgetRegistry\";\nimport WidgetHeader from \"../common/WidgetHeader\";\n// Keep imports for directly included widgets\nimport TechnicalDetailsWidget from \"../widgets/TechnicalDetailsWidget\";\n\n// Main Dashboard component props\ninterface DashboardProps {\n  children?: ReactNode;\n  useRegistry?: boolean;\n  availability?: string;\n  integrity?: string;\n  confidentiality?: string;\n  columnsSmall?: number;\n  columnsMedium?: number;\n  columnsLarge?: number;\n  className?: string;\n  compact?: boolean;\n  showBorders?: boolean;\n}\n\nconst Dashboard: React.FC<DashboardProps> = ({\n  children,\n  useRegistry = false,\n  availability,\n  integrity,\n  confidentiality,\n  columnsSmall = 1,\n  columnsMedium = 2,\n  columnsLarge = 3,\n  className = \"\",\n  compact = false,\n  showBorders = true,\n}) => {\n  // Prepare props for business impact widgets\n  const impactWidgetProps = {\n    \"availability-impact\": {\n      level: availability,\n      options: availabilityOptions,\n    },\n    \"integrity-impact\": {\n      level: integrity,\n      options: integrityOptions,\n    },\n    \"confidentiality-impact\": {\n      level: confidentiality,\n      options: confidentialityOptions,\n    },\n  };\n\n  // Common props for security widgets\n  const securityProps = {\n    securityLevel: calculateOverallLevel(\n      availability,\n      integrity,\n      confidentiality\n    ),\n    availabilityLevel: availability,\n    integrityLevel: integrity,\n    confidentialityLevel: confidentiality,\n  };\n\n  // Props for each registered widget\n  const widgetProps = {\n    \"security-summary\": securityProps,\n    \"compliance-status\": {\n      securityLevels: {\n        availabilityLevel: availability,\n        integrityLevel: integrity,\n        confidentialityLevel: confidentiality,\n      },\n    },\n    \"value-creation\": {\n      securityLevel: securityProps.securityLevel,\n    },\n    \"cost-estimation\": calculateCostProps(\n      availability,\n      integrity,\n      confidentiality\n    ),\n    ...impactWidgetProps,\n  };\n\n  return (\n    <div\n      className={`dashboard-grid ${gridClasses} ${className}`}\n      data-testid={APP_TEST_IDS.DASHBOARD_GRID}\n    >\n      {useRegistry\n        ? // Make sure this correctly calls renderWidgets from the widget registry\n          widgetRegistry.renderWidgets(undefined, widgetProps)\n        : // Otherwise render children directly\n          React.Children.map(children, (child) => {\n            if (!React.isValidElement(child)) return null;\n            return child;\n          })}\n\n      {/* Only include TechnicalDetailsWidget when not using registry and props are available */}\n      {!useRegistry && availability && integrity && confidentiality && (\n        <TechnicalDetailsWidget\n          availabilityLevel={availability}\n          integrityLevel={integrity}\n          confidentialityLevel={confidentiality}\n        />\n      )}\n    </div>\n  );\n};\n\n// Helper function to calculate overall security level\nfunction calculateOverallLevel(\n  availability?: string,\n  integrity?: string,\n  confidentiality?: string\n): string {\n  const levels = [\"None\", \"Low\", \"Moderate\", \"High\", \"Very High\"];\n  const availabilityIndex = levels.indexOf(availability || \"None\");\n  const integrityIndex = levels.indexOf(integrity || \"None\");\n  const confidentialityIndex = levels.indexOf(confidentiality || \"None\");\n\n  const avgIndex = Math.round(\n    (availabilityIndex + integrityIndex + confidentialityIndex) / 3\n  );\n\n  return levels[avgIndex] || \"None\";\n}\n\n// Helper function to calculate cost props\nfunction calculateCostProps(\n  availability?: string,\n  integrity?: string,\n  confidentiality?: string\n) {\n  // Handle undefined values\n  const availLevel = availability || \"None\";\n  const intLevel = integrity || \"None\";\n  const confLevel = confidentiality || \"None\";\n\n  const totalCapex =\n    (availabilityOptions[availLevel as SecurityLevel]?.capex || 0) +\n    (integrityOptions[intLevel as SecurityLevel]?.capex || 0) +\n    (confidentialityOptions[confLevel as SecurityLevel]?.capex || 0);\n\n  const totalOpex =\n    (availabilityOptions[availLevel as SecurityLevel]?.opex || 0) +\n    (integrityOptions[intLevel as SecurityLevel]?.opex || 0) +\n    (confidentialityOptions[confLevel as SecurityLevel]?.opex || 0);\n\n  return {\n    totalCapex,\n    totalOpex,\n    capexEstimate: `${totalCapex * 5000}`,\n    opexEstimate: `${totalOpex * 2000}`,\n    isSmallSolution: totalCapex <= 60,\n    roi: `${Math.round(200 + totalCapex / 2)}%`,\n  };\n}\n\n// DashboardWidget component for widget containers\ninterface DashboardWidgetProps {\n  title: string;\n  size?: \"small\" | \"medium\" | \"large\" | \"full\";\n  children: ReactNode;\n  className?: string;\n  icon?: keyof typeof WIDGET_ICONS | string; // Updated to accept both keys and string emojis\n  testId?: string;\n  description?: string;\n  headerClassName?: string;\n  showHeader?: boolean;\n  colSpan?: number;\n  rowSpan?: number;\n  actions?: ReactNode;\n  headerContent?: ReactNode;\n  loading?: boolean;\n  error?: Error | null;\n  fullHeight?: boolean;\n  compact?: boolean;\n  emptyState?: ReactNode;\n}\n\nexport const DashboardWidget: React.FC<DashboardWidgetProps> = ({\n  children,\n  title,\n  description,\n  className = \"\",\n  headerClassName = \"\",\n  testId,\n  showHeader = true,\n  colSpan = 1,\n  rowSpan = 1,\n  actions,\n  headerContent,\n  loading = false,\n  error = null,\n  fullHeight = true,\n  compact = false,\n  emptyState,\n  icon, // Now accepts both keys and direct emoji strings\n}) => {\n  // Map widget sizes to grid column spans\n  const sizeClasses = {\n    small: \"widget-col-4\", // 1/3 width (standard)\n    medium: \"widget-col-4\", // 1/3 width (standard)\n    large: \"widget-col-6\", // 1/2 width\n    full: \"widget-col-12\", // Full width\n  };\n\n  return (\n    <div\n      className={`widget ${sizeClasses.medium} ${className} ${\n        fullHeight ? \"h-full\" : \"\"\n      }`}\n      data-testid={testId || createDynamicTestId.widgetId(title)}\n      role=\"region\"\n      aria-labelledby={`widget-title-${title\n        ?.toLowerCase()\n        .replace(/\\s+/g, \"-\")}`}\n    >\n      {showHeader && (\n        <WidgetHeader\n          title={title}\n          iconKey={icon}\n          actions={actions || headerContent}\n          className={headerClassName}\n          testId={`${testId || createDynamicTestId.widgetId(title)}-header`}\n        />\n      )}\n\n      <div className=\"widget-body\">\n        {loading ? (\n          <div className=\"flex items-center justify-center h-full\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500\"></div>\n          </div>\n        ) : error ? (\n          <div className=\"text-red-500 p-4\">\n            <div className=\"font-bold\">Error</div>\n            <div>{error.toString()}</div>\n          </div>\n        ) : (\n          <div className=\"widget-content-wrapper\">\n            {children || emptyState || (\n              <div className=\"text-gray-400 p-4 text-center italic\">\n                No content available\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;\n","import React, { useEffect, useState } from \"react\";\nimport { CIA_COMPONENT_ICONS, CIA_LABELS } from \"../../constants/appConstants\";\nimport {\n  CIA_TEST_IDS,\n  COMMON_COMPONENT_TEST_IDS,\n} from \"../../constants/testIds\";\nimport { useCIAOptions } from \"../../hooks/useCIAOptions\";\nimport ciaContentService, {\n  CIAComponentType, // Import the CIAComponentType\n} from \"../../services/ciaContentService\";\nimport { SecurityLevel } from \"../../types/cia\";\nimport {\n  getSecurityLevelClass,\n  normalizeSecurityLevel,\n} from \"../../utils/securityLevelUtils\";\nimport SecurityLevelSummaryItem from \"../common/SecurityLevelSummaryItem\";\n\nexport interface SecurityLevelSelectorProps {\n  availabilityLevel?: SecurityLevel;\n  integrityLevel?: SecurityLevel;\n  confidentialityLevel?: SecurityLevel;\n  onAvailabilityChange?: (level: string) => void;\n  onIntegrityChange?: (level: string) => void;\n  onConfidentialityChange?: (level: string) => void;\n  availabilityOptions?: Record<string, any>;\n  integrityOptions?: Record<string, any>;\n  confidentialityOptions?: Record<string, any>;\n  showSelectionSummary?: boolean;\n  disabled?: boolean;\n  testId?: string;\n  showDescriptions?: boolean;\n}\n\n/**\n * SecurityLevelSelector component for selecting CIA security levels\n * Enhanced with rich descriptions and visual indicators\n */\nconst SecurityLevelSelector: React.FC<SecurityLevelSelectorProps> = ({\n  availabilityLevel = \"None\",\n  integrityLevel = \"None\",\n  confidentialityLevel = \"None\",\n  onAvailabilityChange,\n  onIntegrityChange,\n  onConfidentialityChange,\n  availabilityOptions: propAvailabilityOptions,\n  integrityOptions: propIntegrityOptions,\n  confidentialityOptions: propConfidentialityOptions,\n  showSelectionSummary = true,\n  disabled = false,\n  testId = \"security-level-selector\",\n  showDescriptions = true,\n}) => {\n  const [availability, setAvailability] =\n    useState<SecurityLevel>(availabilityLevel);\n  const [integrity, setIntegrity] = useState<SecurityLevel>(integrityLevel);\n  const [confidentiality, setConfidentiality] =\n    useState<SecurityLevel>(confidentialityLevel);\n  const [activeTooltip, setActiveTooltip] = useState<string | null>(null);\n  const [activeDescription, setActiveDescription] = useState<string | null>(\n    null\n  );\n\n  const {\n    availabilityOptions: hookAvailabilityOptions,\n    integrityOptions: hookIntegrityOptions,\n    confidentialityOptions: hookConfidentialityOptions,\n  } = useCIAOptions();\n\n  // Use prop options if provided, otherwise use options from the hook\n  const availabilityOptions =\n    propAvailabilityOptions || hookAvailabilityOptions;\n  const integrityOptions = propIntegrityOptions || hookIntegrityOptions;\n  const confidentialityOptions =\n    propConfidentialityOptions || hookConfidentialityOptions;\n\n  useEffect(() => {\n    setAvailability(availabilityLevel);\n  }, [availabilityLevel]);\n\n  useEffect(() => {\n    setIntegrity(integrityLevel);\n  }, [integrityLevel]);\n\n  useEffect(() => {\n    setConfidentiality(confidentialityLevel);\n  }, [confidentialityLevel]);\n\n  // Handle availability change\n  const handleAvailabilityChange = (\n    e: React.ChangeEvent<HTMLSelectElement>\n  ) => {\n    const level = e.target.value as SecurityLevel;\n    setAvailability(level);\n    setActiveDescription(\"availability\");\n    if (onAvailabilityChange) {\n      onAvailabilityChange(level);\n    }\n  };\n\n  // Handle integrity change\n  const handleIntegrityChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    const level = e.target.value as SecurityLevel;\n    setIntegrity(level);\n    setActiveDescription(\"integrity\");\n    if (onIntegrityChange) {\n      onIntegrityChange(level);\n    }\n  };\n\n  // Handle confidentiality change\n  const handleConfidentialityChange = (\n    e: React.ChangeEvent<HTMLSelectElement>\n  ) => {\n    const level = e.target.value as SecurityLevel;\n    setConfidentiality(level);\n    setActiveDescription(\"confidentiality\");\n    if (onConfidentialityChange) {\n      onConfidentialityChange(level);\n    }\n  };\n\n  // Function to show tooltip\n  const showTooltip = (component: string) => {\n    setActiveTooltip(component);\n  };\n\n  // Function to hide tooltip\n  const hideTooltip = () => {\n    setActiveTooltip(null);\n  };\n\n  // Add a utility function to safely cast strings to CIAComponentType\n  const safeCastToComponentType = (component: string): CIAComponentType => {\n    // Check if it's a valid CIAComponentType\n    const validComponents: CIAComponentType[] = [\n      \"confidentiality\",\n      \"integrity\",\n      \"availability\",\n    ];\n    return validComponents.includes(component as CIAComponentType)\n      ? (component as CIAComponentType)\n      : \"confidentiality\"; // Default fallback\n  };\n\n  // Get component details from ciaContentService\n  const getComponentDetails = (component: string, level: SecurityLevel) => {\n    const safeComponent = safeCastToComponentType(component);\n\n    // Use the safeComponent directly since it's properly typed now\n    return ciaContentService.getComponentDetails(safeComponent, level);\n  };\n\n  // Add a utility function to safely cast strings to SecurityLevel\n  const safeCastToSecurityLevel = (level: string): SecurityLevel => {\n    return normalizeSecurityLevel(level);\n  };\n\n  // Render options with enhanced descriptions\n  const renderOptions = (\n    optionsObject: Record<string, any>,\n    componentType: string\n  ) => {\n    return Object.keys(optionsObject || {}).map((level) => {\n      const securityLevel = safeCastToSecurityLevel(level);\n      const details = getComponentDetails(\n        componentType, // No need for type assertion now\n        securityLevel\n      );\n      const description = details?.description || \"\";\n      const shortDesc =\n        description.length > 50\n          ? description.substring(0, 50) + \"...\"\n          : description;\n\n      return (\n        <option\n          key={level}\n          value={level}\n          className={getSecurityLevelClass(level)}\n        >\n          {level} {shortDesc ? `- ${shortDesc}` : \"\"}\n        </option>\n      );\n    });\n  };\n\n  return (\n    <div\n      data-testid={testId}\n      className=\"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg shadow-md border border-gray-200 dark:border-gray-700\"\n    >\n      {/* Current Security Profile - Compact summary at top */}\n      {showSelectionSummary && (\n        <div className=\"mb-4 pb-3 border-b border-gray-200 dark:border-gray-700\">\n          <h4 className=\"font-medium mb-2 text-gray-800 dark:text-gray-200 text-sm flex items-center terminal-text\">\n            <span className=\"mr-2 pulse-dot\">‚óâ</span>\n            Current Security Profile\n          </h4>\n          <div className=\"flex flex-wrap gap-2 justify-between\">\n            <SecurityLevelSummaryItem\n              label={CIA_LABELS.CONFIDENTIALITY}\n              value={confidentiality}\n              icon={CIA_COMPONENT_ICONS.CONFIDENTIALITY}\n              testId={COMMON_COMPONENT_TEST_IDS.CURRENT_CONFIDENTIALITY}\n              color=\"purple\"\n              compact={true}\n            />\n            <SecurityLevelSummaryItem\n              label={CIA_LABELS.INTEGRITY}\n              value={integrity}\n              icon={CIA_COMPONENT_ICONS.INTEGRITY}\n              testId={COMMON_COMPONENT_TEST_IDS.CURRENT_INTEGRITY}\n              color=\"green\"\n              compact={true}\n            />\n            <SecurityLevelSummaryItem\n              label={CIA_LABELS.AVAILABILITY}\n              value={availability}\n              icon={CIA_COMPONENT_ICONS.AVAILABILITY}\n              testId={COMMON_COMPONENT_TEST_IDS.CURRENT_AVAILABILITY}\n              color=\"blue\"\n              compact={true}\n            />\n          </div>\n        </div>\n      )}\n\n      {/* Security level legend - consistent visual scale */}\n      <div className=\"mb-4 pb-3 border-b border-gray-200 dark:border-gray-700\">\n        <div className=\"flex justify-between items-center text-xs\">\n          {[\"None\", \"Low\", \"Moderate\", \"High\", \"Very High\"].map((level) => (\n            <div\n              key={level}\n              className={`flex items-center ${\n                level === availability ||\n                level === integrity ||\n                level === confidentiality\n                  ? \"text-blue-600 dark:text-blue-400 font-medium\"\n                  : \"text-gray-500 dark:text-gray-400\"\n              }`}\n            >\n              <span\n                className={`w-2 h-2 mr-1 rounded-full inline-block security-level-indicator level-${level.toLowerCase()}`}\n              ></span>\n              {level}\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Confidentiality Section - consistent styling */}\n      <div\n        className=\"mb-5 pb-4 border-b border-gray-100 dark:border-gray-700\"\n        data-testid={CIA_TEST_IDS.CONFIDENTIALITY_SECTION}\n      >\n        <div className=\"flex items-center justify-between mb-2\">\n          <label\n            htmlFor=\"confidentialitySelect\"\n            className=\"flex items-center terminal-text text-purple-600 dark:text-purple-400 font-medium\"\n          >\n            <span className=\"mr-2 icon-confidentiality\">\n              {CIA_COMPONENT_ICONS.CONFIDENTIALITY}\n            </span>\n            {CIA_LABELS.CONFIDENTIALITY}\n            <span className=\"text-xs text-gray-500 dark:text-gray-400 ml-2\">\n              Controls who can access your data and systems\n            </span>\n          </label>\n          <button\n            type=\"button\"\n            className=\"info-button w-6 h-6 rounded-full flex items-center justify-center bg-purple-100 dark:bg-purple-900 dark:bg-opacity-30 text-purple-600 dark:text-purple-400 hover:bg-purple-200 dark:hover:bg-purple-800 transition-colors\"\n            onMouseEnter={() => showTooltip(\"confidentiality\")}\n            onMouseLeave={hideTooltip}\n            data-testid={CIA_TEST_IDS.CONFIDENTIALITY_TECHNICAL_INFO_BUTTON}\n            aria-label=\"Show technical information about confidentiality\"\n          >\n            <span className=\"text-xs\">‚ÑπÔ∏è</span>\n          </button>\n        </div>\n\n        <div className=\"relative\">\n          <select\n            id=\"confidentialitySelect\"\n            className=\"block w-full px-3 py-2 pr-10 text-sm border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 rounded-md dark:bg-gray-700 dark:text-white transition-colors\"\n            value={confidentiality}\n            onChange={handleConfidentialityChange}\n            disabled={disabled}\n            data-testid={\n              CIA_TEST_IDS.CONFIDENTIALITY_SELECT || \"confidentiality-selector\"\n            }\n            aria-haspopup=\"listbox\"\n            aria-expanded=\"false\"\n          >\n            {renderOptions(confidentialityOptions, \"confidentiality\")}\n          </select>\n          <div\n            className={`absolute right-3 top-2.5 w-3 h-3 rounded-full ${getSecurityLevelClass(\n              confidentiality\n            )}`}\n            data-testid={CIA_TEST_IDS.CONFIDENTIALITY_COLOR_INDICATOR}\n          ></div>\n        </div>\n\n        {confidentialityOptions?.[confidentiality]?.description &&\n          showDescriptions && (\n            <div\n              className=\"mt-3 p-2.5 bg-purple-50 dark:bg-purple-900 dark:bg-opacity-10 rounded-md text-xs text-gray-700 dark:text-gray-300 border-l-4 border-purple-500\"\n              data-testid={CIA_TEST_IDS.CONFIDENTIALITY_DESCRIPTION}\n            >\n              {confidentialityOptions[confidentiality].description}\n            </div>\n          )}\n\n        {confidentialityOptions?.[confidentiality]?.protectionMethod && (\n          <div className=\"mt-2 flex items-center text-xs text-purple-600 dark:text-purple-400\">\n            <span className=\"mr-1\">üõ°Ô∏è</span>\n            <span>\n              {confidentialityOptions[confidentiality].protectionMethod}\n            </span>\n          </div>\n        )}\n      </div>\n\n      {/* Integrity Section - consistent styling */}\n      <div\n        className=\"mb-5 pb-4 border-b border-gray-100 dark:border-gray-700\"\n        data-testid={CIA_TEST_IDS.INTEGRITY_SECTION}\n      >\n        <div className=\"flex items-center justify-between mb-2\">\n          <label\n            htmlFor=\"integritySelect\"\n            className=\"flex items-center terminal-text text-green-600 dark:text-green-400 font-medium\"\n          >\n            <span className=\"mr-2 icon-integrity\">\n              {CIA_COMPONENT_ICONS.INTEGRITY}\n            </span>\n            {CIA_LABELS.INTEGRITY}\n            <span className=\"text-xs text-gray-500 dark:text-gray-400 ml-2\">\n              Ensures data remains accurate and unaltered\n            </span>\n          </label>\n          <button\n            type=\"button\"\n            className=\"info-button w-6 h-6 rounded-full flex items-center justify-center bg-green-100 dark:bg-green-900 dark:bg-opacity-30 text-green-600 dark:text-green-400 hover:bg-green-200 dark:hover:bg-green-800 transition-colors\"\n            onMouseEnter={() => showTooltip(\"integrity\")}\n            onMouseLeave={hideTooltip}\n            data-testid={CIA_TEST_IDS.INTEGRITY_TECHNICAL_INFO_BUTTON}\n            aria-label=\"Show technical information about integrity\"\n          >\n            <span className=\"text-xs\">‚ÑπÔ∏è</span>\n          </button>\n        </div>\n\n        <div className=\"relative\">\n          <select\n            id=\"integritySelect\"\n            className=\"block w-full px-3 py-2 pr-10 text-sm border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 rounded-md dark:bg-gray-700 dark:text-white transition-colors\"\n            value={integrity}\n            onChange={handleIntegrityChange}\n            disabled={disabled}\n            data-testid={CIA_TEST_IDS.INTEGRITY_SELECT || \"integrity-selector\"}\n            aria-haspopup=\"listbox\"\n            aria-expanded=\"false\"\n          >\n            {renderOptions(integrityOptions, \"integrity\")}\n          </select>\n          <div\n            className={`absolute right-3 top-2.5 w-3 h-3 rounded-full ${getSecurityLevelClass(\n              integrity\n            )}`}\n            data-testid={CIA_TEST_IDS.INTEGRITY_COLOR_INDICATOR}\n          ></div>\n        </div>\n\n        {integrityOptions?.[integrity]?.description && showDescriptions && (\n          <div\n            className=\"mt-3 p-2.5 bg-green-50 dark:bg-green-900 dark:bg-opacity-10 rounded-md text-xs text-gray-700 dark:text-gray-300 border-l-4 border-green-500\"\n            data-testid={CIA_TEST_IDS.INTEGRITY_DESCRIPTION}\n          >\n            {integrityOptions[integrity].description}\n          </div>\n        )}\n\n        {integrityOptions?.[integrity]?.validationMethod && (\n          <div className=\"mt-2 flex items-center text-xs text-green-600 dark:text-green-400\">\n            <span className=\"mr-1\">‚úì</span>\n            <span>{integrityOptions[integrity].validationMethod}</span>\n          </div>\n        )}\n      </div>\n\n      {/* Availability Section - consistent styling */}\n      <div className=\"mb-2\" data-testid={CIA_TEST_IDS.AVAILABILITY_SECTION}>\n        <div className=\"flex items-center justify-between mb-2\">\n          <label\n            htmlFor=\"availabilitySelect\"\n            className=\"flex items-center terminal-text text-blue-600 dark:text-blue-400 font-medium\"\n          >\n            <span className=\"mr-2 icon-availability\">\n              {CIA_COMPONENT_ICONS.AVAILABILITY}\n            </span>\n            {CIA_LABELS.AVAILABILITY}\n            <span className=\"text-xs text-gray-500 dark:text-gray-400 ml-2\">\n              Determines how reliably your systems can be accessed\n            </span>\n          </label>\n          <button\n            type=\"button\"\n            className=\"info-button w-6 h-6 rounded-full flex items-center justify-center bg-blue-100 dark:bg-blue-900 dark:bg-opacity-30 text-blue-600 dark:text-blue-400 hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors\"\n            onMouseEnter={() => showTooltip(\"availability\")}\n            onMouseLeave={hideTooltip}\n            data-testid={CIA_TEST_IDS.AVAILABILITY_TECHNICAL_INFO_BUTTON}\n            aria-label=\"Show technical information about availability\"\n          >\n            <span className=\"text-xs\">‚ÑπÔ∏è</span>\n          </button>\n        </div>\n\n        <div className=\"relative\">\n          <select\n            id=\"availabilitySelect\"\n            className=\"block w-full px-3 py-2 pr-10 text-sm border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 rounded-md dark:bg-gray-700 dark:text-white transition-colors\"\n            value={availability}\n            onChange={handleAvailabilityChange}\n            disabled={disabled}\n            data-testid={\n              CIA_TEST_IDS.AVAILABILITY_SELECT || \"availability-selector\"\n            }\n            aria-haspopup=\"listbox\"\n            aria-expanded=\"false\"\n          >\n            {renderOptions(availabilityOptions, \"availability\")}\n          </select>\n          <div\n            className={`absolute right-3 top-2.5 w-3 h-3 rounded-full ${getSecurityLevelClass(\n              availability\n            )}`}\n            data-testid={CIA_TEST_IDS.AVAILABILITY_COLOR_INDICATOR}\n          ></div>\n        </div>\n\n        {availabilityOptions?.[availability]?.description &&\n          showDescriptions && (\n            <div\n              className=\"mt-3 p-2.5 bg-blue-50 dark:bg-blue-900 dark:bg-opacity-10 rounded-md text-xs text-gray-700 dark:text-gray-300 border-l-4 border-blue-500\"\n              data-testid={CIA_TEST_IDS.AVAILABILITY_DESCRIPTION}\n            >\n              {availabilityOptions[availability].description}\n            </div>\n          )}\n\n        {availabilityOptions?.[availability]?.uptime && (\n          <div className=\"mt-2 flex items-center text-xs text-blue-600 dark:text-blue-400\">\n            <span className=\"mr-1\">‚è±Ô∏è</span>\n            <span>{availabilityOptions[availability].uptime}</span>\n            {availabilityOptions?.[availability]?.rto && (\n              <span className=\"ml-3\">\n                <span className=\"mr-1\">üîÑ</span>RTO:{\" \"}\n                {availabilityOptions[availability].rto}\n              </span>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Active Tooltip - Technical Details with Ingress styling */}\n      {activeTooltip && (\n        <div className=\"mt-4 p-3 bg-gray-50 dark:bg-gray-800 rounded-md border border-gray-200 dark:border-gray-700 shadow-md terminal-text-container\">\n          <h4 className=\"font-medium mb-2 flex items-center text-gray-800 dark:text-gray-200 text-sm\">\n            <span className=\"mr-2 pulse-dot\">‚óâ</span>\n            Technical Details\n          </h4>\n          <div className=\"text-xs leading-relaxed bg-black bg-opacity-20 dark:bg-black dark:bg-opacity-40 p-2 rounded border-l-2 border-cyan-500\">\n            {activeTooltip === \"confidentiality\" && (\n              <div className=\"color-confidentiality terminal-text\">\n                <p>\n                  Confidentiality measures protect sensitive data from\n                  unauthorized access.\n                </p>\n                <p className=\"mt-1\">\n                  Higher levels implement stronger access controls, encryption,\n                  and data protection mechanisms.\n                </p>\n              </div>\n            )}\n            {activeTooltip === \"integrity\" && (\n              <div className=\"color-integrity terminal-text\">\n                <p>\n                  Integrity controls ensure data remains accurate and free from\n                  unauthorized modifications.\n                </p>\n                <p className=\"mt-1\">\n                  Higher levels implement cryptographic checksums, blockchain,\n                  and advanced validation mechanisms.\n                </p>\n              </div>\n            )}\n            {activeTooltip === \"availability\" && (\n              <div className=\"color-availability terminal-text\">\n                <p>\n                  Availability measures ensure systems remain operational and\n                  accessible.\n                </p>\n                <p className=\"mt-1\">\n                  Higher levels implement redundancy, failover systems, and\n                  disaster recovery protocols.\n                </p>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SecurityLevelSelector;\n","import React from \"react\";\nimport { SecurityLevel } from \"../types/cia\";\nimport SimpleSelector from \"./common/SecurityLevelSelector\";\nimport EnhancedSelector from \"./securitylevel/SecurityLevelSelector\";\n\n/**\n * Unified SecurityLevelSelector that supports both simple and enhanced usage patterns\n *\n * ## Business Perspective\n *\n * Provides a consistent interface for security level selection across the application,\n * enabling both simple scenarios and comprehensive CIA triad security assessment.\n *\n * @param props - Component properties (supports both simple and enhanced selector props)\n * @returns The appropriate selector component based on provided props\n */\nexport interface UnifiedSecurityLevelSelectorProps {\n  // Simple selector props\n  label?: string;\n  value?: string;\n  onChange?: (value: string) => void;\n  options?: string[];\n  description?: string;\n  icon?: string;\n  tooltipContent?: string;\n  testId?: string;\n  accentColor?: string;\n  disabled?: boolean;\n  className?: string;\n\n  // Enhanced selector props\n  availabilityLevel?: SecurityLevel;\n  integrityLevel?: SecurityLevel;\n  confidentialityLevel?: SecurityLevel;\n  onAvailabilityChange?: (level: string) => void;\n  onIntegrityChange?: (level: string) => void;\n  onConfidentialityChange?: (level: string) => void;\n  availabilityOptions?: Record<string, any>;\n  integrityOptions?: Record<string, any>;\n  confidentialityOptions?: Record<string, any>;\n  showSelectionSummary?: boolean;\n  showDescriptions?: boolean;\n\n  // Control prop to force a specific version\n  useEnhancedVersion?: boolean;\n}\n\nconst SecurityLevelSelector: React.FC<UnifiedSecurityLevelSelectorProps> = (\n  props\n) => {\n  // Determine which version to render based on props\n  const isEnhancedVersion =\n    props.useEnhancedVersion ||\n    props.availabilityLevel !== undefined ||\n    props.integrityLevel !== undefined ||\n    props.confidentialityLevel !== undefined ||\n    props.onAvailabilityChange !== undefined ||\n    props.onIntegrityChange !== undefined ||\n    props.onConfidentialityChange !== undefined;\n\n  // Use either the enhanced or simple version based on props provided\n  if (isEnhancedVersion) {\n    // For enhanced selector, ensure we properly set defaults for required props\n    const enhancedProps = {\n      availabilityLevel: props.availabilityLevel || (\"None\" as SecurityLevel),\n      integrityLevel: props.integrityLevel || (\"None\" as SecurityLevel),\n      confidentialityLevel:\n        props.confidentialityLevel || (\"None\" as SecurityLevel),\n      ...props,\n    };\n    return <EnhancedSelector {...enhancedProps} />;\n  } else {\n    // For simple selector, ensure we provide the required props\n    if (!props.label || !props.value || !props.onChange || !props.options) {\n      console.warn(\n        \"SecurityLevelSelector: Missing required props for simple selector\"\n      );\n      return null;\n    }\n\n    // Extract only the props that SimpleSelector needs, ensuring they're non-optional\n    const simpleProps = {\n      label: props.label,\n      value: props.value,\n      onChange: props.onChange,\n      options: props.options,\n      // Optional props can be passed as is\n      description: props.description,\n      icon: props.icon,\n      tooltipContent: props.tooltipContent,\n      testId: props.testId,\n      accentColor: props.accentColor,\n      disabled: props.disabled,\n      className: props.className,\n    };\n\n    return <SimpleSelector {...simpleProps} />;\n  }\n};\n\nexport default SecurityLevelSelector;\n","import React from \"react\";\nimport {\n  CIA_COMPONENT_ICONS,\n  CIA_DESCRIPTIONS,\n  CIA_LABELS,\n  SECURITY_LEVELS,\n  UI_TEXT,\n} from \"../../constants/appConstants\";\nimport { CIA_COMPONENT_COLORS } from \"../../constants/colorConstants\";\nimport { SECURITY_LEVEL_TEST_IDS } from \"../../constants/testIds\";\nimport { SecurityLevel } from \"../../types/cia\";\nimport SecurityLevelSelector from \"../SecurityLevelSelector\";\nimport SecurityLevelSummaryItem from \"../common/SecurityLevelSummaryItem\";\nimport WidgetContainer from \"../common/WidgetContainer\";\n\n/**\n * Props for SecurityLevelWidget component\n */\nexport interface SecurityLevelWidgetProps {\n  availabilityLevel: string;\n  integrityLevel: string;\n  confidentialityLevel: string;\n  setAvailability: (level: string) => void;\n  setIntegrity: (level: string) => void;\n  setConfidentiality: (level: string) => void;\n  className?: string;\n  testId?: string;\n  onAvailabilityChange?: (level: string) => void;\n  onIntegrityChange?: (level: string) => void;\n  onConfidentialityChange?: (level: string) => void;\n  loading?: boolean;\n  error?: Error | null;\n  title?: string;\n}\n\n/**\n * SecurityLevelWidget provides controls to set security levels for availability, integrity, and confidentiality\n *\n * ## Business Perspective\n *\n * This widget is the primary control center for security officers to define\n * their organization's security requirements across the CIA triad. The selections\n * made here drive all other security assessments and recommendations. üîí\n *\n * Setting appropriate security levels helps organizations align their security\n * investments with actual business requirements, avoiding both under-protection\n * and unnecessary expenditure. üíº\n */\nconst SecurityLevelWidget: React.FC<SecurityLevelWidgetProps> = ({\n  availabilityLevel,\n  integrityLevel,\n  confidentialityLevel,\n  setAvailability,\n  setIntegrity,\n  setConfidentiality,\n  className = \"\",\n  testId = SECURITY_LEVEL_TEST_IDS.SECURITY_LEVEL_WIDGET,\n  onAvailabilityChange,\n  onIntegrityChange,\n  onConfidentialityChange,\n  loading = false,\n  error = null,\n  title = UI_TEXT.WIDGET_TITLES.SECURITY_LEVEL,\n}) => {\n  // Create handlers that work with both callback styles\n  const handleAvailabilityChange = (level: string) => {\n    if (onAvailabilityChange) onAvailabilityChange(level);\n    setAvailability(level);\n  };\n\n  const handleIntegrityChange = (level: string) => {\n    if (onIntegrityChange) onIntegrityChange(level);\n    setIntegrity(level);\n  };\n\n  const handleConfidentialityChange = (level: string) => {\n    if (onConfidentialityChange) onConfidentialityChange(level);\n    setConfidentiality(level);\n  };\n\n  // Show a loading state\n  if (loading) {\n    return (\n      <WidgetContainer\n        title={title}\n        className={className}\n        testId={testId}\n        loading={true}\n      >\n        {/* Empty children to satisfy required prop */}\n        <div className=\"loading-placeholder\"></div>\n      </WidgetContainer>\n    );\n  }\n\n  // Show error state\n  if (error) {\n    return (\n      <WidgetContainer title={title} className={className} testId={testId}>\n        <div className=\"p-4 text-red-600 dark:text-red-400\">\n          <h3 className=\"font-medium mb-2\">Error Loading Security Levels</h3>\n          <p className=\"text-sm\">{error.message}</p>\n        </div>\n      </WidgetContainer>\n    );\n  }\n\n  return (\n    <WidgetContainer\n      title={title}\n      icon=\"üìä\"\n      className={className}\n      testId={testId}\n    >\n      <div className=\"space-y-6\">\n        {/* Current Security Profile Header */}\n        <div>\n          <h3 className=\"font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            Current Security Profile\n          </h3>\n\n          {/* Summary of current selections */}\n          <div className=\"flex flex-wrap gap-2 mb-4\">\n            <SecurityLevelSummaryItem\n              label={CIA_LABELS.CONFIDENTIALITY}\n              value={confidentialityLevel as SecurityLevel}\n              icon={CIA_COMPONENT_ICONS.CONFIDENTIALITY}\n              testId={`${testId}-confidentiality-summary`}\n              color=\"purple\"\n              borderColor={CIA_COMPONENT_COLORS.CONFIDENTIALITY.PRIMARY}\n            />\n            <SecurityLevelSummaryItem\n              label={CIA_LABELS.INTEGRITY}\n              value={integrityLevel as SecurityLevel}\n              icon={CIA_COMPONENT_ICONS.INTEGRITY}\n              testId={`${testId}-integrity-summary`}\n              color=\"green\"\n              borderColor={CIA_COMPONENT_COLORS.INTEGRITY.PRIMARY}\n            />\n            <SecurityLevelSummaryItem\n              label={CIA_LABELS.AVAILABILITY}\n              value={availabilityLevel as SecurityLevel}\n              icon={CIA_COMPONENT_ICONS.AVAILABILITY}\n              testId={`${testId}-availability-summary`}\n              color=\"blue\"\n              borderColor={CIA_COMPONENT_COLORS.AVAILABILITY.PRIMARY}\n            />\n          </div>\n        </div>\n\n        {/* Confidentiality Selector */}\n        <div className=\"security-level-selector\">\n          <SecurityLevelSelector\n            label=\"Confidentiality Level\"\n            value={confidentialityLevel}\n            onChange={handleConfidentialityChange}\n            options={[\n              SECURITY_LEVELS.NONE,\n              SECURITY_LEVELS.LOW,\n              SECURITY_LEVELS.MODERATE,\n              SECURITY_LEVELS.HIGH,\n              SECURITY_LEVELS.VERY_HIGH,\n            ]}\n            description={CIA_DESCRIPTIONS.CONFIDENTIALITY}\n            icon={CIA_COMPONENT_ICONS.CONFIDENTIALITY}\n            testId={SECURITY_LEVEL_TEST_IDS.CONFIDENTIALITY_SELECTOR}\n            tooltipContent=\"Confidentiality measures how well your data is protected from unauthorized access\"\n            accentColor={CIA_COMPONENT_COLORS.CONFIDENTIALITY.PRIMARY}\n          />\n        </div>\n\n        {/* Integrity Selector */}\n        <div className=\"security-level-selector\">\n          <SecurityLevelSelector\n            label=\"Integrity Level\"\n            value={integrityLevel}\n            onChange={handleIntegrityChange}\n            options={[\n              SECURITY_LEVELS.NONE,\n              SECURITY_LEVELS.LOW,\n              SECURITY_LEVELS.MODERATE,\n              SECURITY_LEVELS.HIGH,\n              SECURITY_LEVELS.VERY_HIGH,\n            ]}\n            description={CIA_DESCRIPTIONS.INTEGRITY}\n            icon={CIA_COMPONENT_ICONS.INTEGRITY}\n            testId={SECURITY_LEVEL_TEST_IDS.INTEGRITY_SELECTOR}\n            tooltipContent=\"Integrity measures how well your data is protected from unauthorized modification\"\n            accentColor={CIA_COMPONENT_COLORS.INTEGRITY.PRIMARY}\n          />\n        </div>\n\n        {/* Availability Selector */}\n        <div className=\"security-level-selector\">\n          <SecurityLevelSelector\n            label=\"Availability Level\"\n            value={availabilityLevel}\n            onChange={handleAvailabilityChange}\n            options={[\n              SECURITY_LEVELS.NONE,\n              SECURITY_LEVELS.LOW,\n              SECURITY_LEVELS.MODERATE,\n              SECURITY_LEVELS.HIGH,\n              SECURITY_LEVELS.VERY_HIGH,\n            ]}\n            description={CIA_DESCRIPTIONS.AVAILABILITY}\n            icon={CIA_COMPONENT_ICONS.AVAILABILITY}\n            testId={SECURITY_LEVEL_TEST_IDS.AVAILABILITY_SELECTOR}\n            tooltipContent=\"Availability measures how well your systems can maintain operations and recover from disruptions\"\n            accentColor={CIA_COMPONENT_COLORS.AVAILABILITY.PRIMARY}\n          />\n        </div>\n      </div>\n    </WidgetContainer>\n  );\n};\n\nexport default SecurityLevelWidget;\n","import { ComponentType, Dispatch, SetStateAction } from \"react\";\nimport { CIADetails, SecurityLevel } from \"./cia\";\n\n/**\n * Base properties for all widgets\n */\nexport interface WidgetBaseProps {\n  /** Test ID for component selection in tests */\n  testId?: string;\n  // Make these properties optional\n  availabilityLevel?: string;\n  integrityLevel?: string;\n  confidentialityLevel?: string;\n  className?: string;\n  securityLevel?: string;\n}\n\n/**\n * Generic details interface that all specific detail interfaces should extend\n * This ensures compatibility across different widget implementations\n */\nexport interface BaseWidgetDetails {\n  description?: string;\n  businessImpact?: string;\n  impact?: string;\n  technical?: string;\n  recommendations?: string[];\n  [key: string]: unknown; // Allow additional properties with stricter type\n}\n\n/**\n * Props for the CostEstimationWidget component\n */\nexport interface CostEstimationWidgetProps extends WidgetBaseProps {\n  /** Total capital expenditure as percentage of IT budget */\n  totalCapex?: number;\n  /** Total operational expenditure as percentage of IT budget */\n  totalOpex?: number;\n  /** Formatted capital expenditure estimate */\n  capexEstimate?: string;\n  /** Formatted operational expenditure estimate */\n  opexEstimate?: string;\n  /** Whether this is a small solution (affects cost calculations) */\n  isSmallSolution?: boolean;\n  /** Return on investment estimate */\n  roi?: string;\n  /** Implementation time estimate */\n  implementationTime?: string;\n  /** Availability options */\n  availabilityOptions?: Record<string, CIADetails>;\n  /** Integrity options */\n  integrityOptions?: Record<string, CIADetails>;\n  /** Confidentiality options */\n  confidentialityOptions?: Record<string, CIADetails>;\n  /** Security level */\n  securityLevel?: SecurityLevel;\n}\n\n/**\n * Props for the ValueCreationWidget component\n */\nexport interface ValueCreationWidgetProps extends WidgetBaseProps {\n  securityLevel: SecurityLevel;\n}\n\n/**\n * Props for the SecuritySummaryWidget component\n */\nexport interface SecuritySummaryWidgetProps extends WidgetBaseProps {\n  securityLevel: SecurityLevel;\n  availabilityLevel: SecurityLevel;\n  integrityLevel: SecurityLevel;\n  confidentialityLevel: SecurityLevel;\n}\n\n/**\n * Props for ComplianceStatusWidget component\n */\nexport interface ComplianceStatusWidgetProps extends WidgetBaseProps {\n  /** Overall security level */\n  securityLevel?: SecurityLevel;\n  availabilityLevel?: SecurityLevel;\n  integrityLevel?: SecurityLevel;\n  confidentialityLevel?: SecurityLevel;\n}\n\n/**\n * Types for Integrity Impact Widget\n * Compatible with CIADetails for easier integration\n */\nexport interface IntegrityDetail extends BaseWidgetDetails {\n  description: string;\n  businessImpact: string;\n  validationMethod?: string;\n  recommendations: string[];\n  technicalControls?: string[];\n  complianceImplications?: string;\n}\n\n/**\n * Props for the IntegrityImpactWidget component\n */\nexport interface IntegrityImpactWidgetProps extends WidgetBaseProps {\n  integrityLevel: SecurityLevel;\n  // Change the optional fields to align with WidgetBaseProps constraint\n  availabilityLevel: SecurityLevel;\n  confidentialityLevel: SecurityLevel;\n  className?: string;\n  testId?: string;\n  options?: Record<string, any>;\n}\n\n/**\n * Types for Confidentiality Impact Widget\n * Compatible with CIADetails for easier integration\n */\nexport interface ConfidentialityDetail extends BaseWidgetDetails {\n  impact: string;\n  businessImpact: string;\n  recommendations: string[];\n  technicalMeasures?: string[];\n  complianceImplications?: string;\n  riskLevel?: string;\n}\n\n/**\n * Props for the ConfidentialityImpactWidget component\n */\nexport interface ConfidentialityImpactWidgetProps extends WidgetBaseProps {\n  confidentialityLevel: SecurityLevel;\n  // Change the optional fields to align with WidgetBaseProps constraint\n  availabilityLevel: SecurityLevel;\n  integrityLevel: SecurityLevel;\n  className?: string;\n  testId?: string;\n  options?: Record<string, any>;\n}\n\n/**\n * Types for Availability Impact Widget\n * Compatible with CIADetails for easier integration\n */\nexport interface AvailabilityDetail extends BaseWidgetDetails {\n  description: string;\n  businessImpact: string;\n  uptime: string;\n  recommendations: string[];\n  mttr?: string;\n  rto?: string;\n  rpo?: string;\n}\n\n/**\n * Props for the AvailabilityImpactWidget component\n */\nexport interface AvailabilityImpactWidgetProps extends WidgetBaseProps {\n  /** Options for each level - optional when using ciaContentService */\n  options?: Record<string, AvailabilityDetail | CIADetails>;\n  availabilityLevel: SecurityLevel;\n  integrityLevel?: SecurityLevel;\n  confidentialityLevel?: SecurityLevel;\n}\n\n/**\n * Props for the SecurityResourcesWidget component\n */\nexport interface SecurityResourcesWidgetProps extends WidgetBaseProps {\n  /** Overall security level */\n  securityLevel: SecurityLevel;\n  availabilityLevel: SecurityLevel;\n  integrityLevel: SecurityLevel;\n  confidentialityLevel: SecurityLevel;\n}\n\n/**\n * Props for the TechnicalDetailsWidget component\n */\nexport interface TechnicalDetailsWidgetProps extends WidgetBaseProps {\n  /** Availability options for specific technical details */\n  availabilityOptions?: Record<string, CIADetails>;\n  /** Integrity options for specific technical details */\n  integrityOptions?: Record<string, CIADetails>;\n  /** Confidentiality options for specific technical details */\n  confidentialityOptions?: Record<string, CIADetails>;\n  /** Optional CSS class name */\n  className?: string;\n  availabilityLevel?: SecurityLevel | string;\n  integrityLevel?: SecurityLevel | string;\n  confidentialityLevel?: SecurityLevel | string;\n}\n\n/**\n * Props for the BusinessImpactAnalysisWidget component\n */\nexport interface BusinessImpactAnalysisWidgetProps extends WidgetBaseProps {\n  availabilityLevel: SecurityLevel;\n  integrityLevel: SecurityLevel;\n  confidentialityLevel: SecurityLevel;\n  securityLevel?: SecurityLevel; // Add securityLevel property to match component\n  className?: string;\n  testId?: string;\n  activeComponent?: \"availability\" | \"integrity\" | \"confidentiality\";\n}\n\n/**\n * Props for the SecurityLevelWidget component\n */\nexport interface SecurityLevelWidgetProps {\n  availabilityLevel: string;\n  integrityLevel: string;\n  confidentialityLevel: string;\n  onAvailabilityChange?: (level: string) => void;\n  onIntegrityChange?: (level: string) => void;\n  onConfidentialityChange?: (level: string) => void;\n  setAvailability?:\n    | ((level: string) => void)\n    | Dispatch<SetStateAction<string>>;\n  setIntegrity?: ((level: string) => void) | Dispatch<SetStateAction<string>>;\n  setConfidentiality?:\n    | ((level: string) => void)\n    | Dispatch<SetStateAction<string>>;\n  className?: string;\n  testId?: string;\n  title?: string;\n  loading?: boolean;\n  error?: Error | null;\n}\n\n// Add missing types\nexport interface SecurityVisualizationWidgetProps extends WidgetBaseProps {\n  availabilityLevel: SecurityLevel;\n  integrityLevel: SecurityLevel;\n  confidentialityLevel: SecurityLevel;\n  className?: string;\n  testId?: string;\n}\n\nexport interface CIAImpactSummaryWidgetProps extends WidgetBaseProps {\n  availabilityLevel: SecurityLevel;\n  integrityLevel: SecurityLevel;\n  confidentialityLevel: SecurityLevel;\n  className?: string;\n  testId?: string;\n}\n\n/**\n * Type adapter functions to convert between different detail types\n */\nexport const typeAdapters = {\n  /**\n   * Converts CIADetails to IntegrityDetail\n   */\n  toIntegrityDetail(details: CIADetails): IntegrityDetail {\n    return {\n      description: details.description || \"\",\n      businessImpact: details.businessImpact || \"\",\n      validationMethod: details.validationMethod,\n      recommendations: details.recommendations || [],\n      // Force casting to specific type instead of using 'as'\n      technicalControls: Array.isArray(details.technicalControls)\n        ? details.technicalControls\n        : undefined,\n      complianceImplications:\n        typeof details.complianceImplications === \"string\"\n          ? details.complianceImplications\n          : undefined,\n    };\n  },\n\n  /**\n   * Converts CIADetails to ConfidentialityDetail\n   */\n  toConfidentialityDetail(details: CIADetails): ConfidentialityDetail {\n    return {\n      impact: details.impact || details.description || \"\",\n      businessImpact: details.businessImpact || \"\",\n      recommendations: details.recommendations || [],\n      // Force casting to specific type instead of using 'as'\n      technicalMeasures: Array.isArray(details.technicalMeasures)\n        ? details.technicalMeasures\n        : undefined,\n      complianceImplications:\n        typeof details.complianceImplications === \"string\"\n          ? details.complianceImplications\n          : undefined,\n      riskLevel:\n        typeof details.riskLevel === \"string\" ? details.riskLevel : undefined,\n    };\n  },\n\n  /**\n   * Converts CIADetails to AvailabilityDetail\n   */\n  toAvailabilityDetail(details: CIADetails): AvailabilityDetail {\n    return {\n      description: details.description || \"\",\n      businessImpact: details.businessImpact || \"\",\n      uptime: details.uptime || \"Unknown\",\n      recommendations: details.recommendations || [],\n      // Force casting to specific type instead of using 'as'\n      mttr: typeof details.mttr === \"string\" ? details.mttr : undefined,\n      rto: typeof details.rto === \"string\" ? details.rto : undefined,\n      rpo: typeof details.rpo === \"string\" ? details.rpo : undefined,\n    };\n  },\n};\n\n/**\n * Base widget component type\n */\nexport type WidgetComponentType<T = any> = ComponentType<T>;\n\n/**\n * Widget size configuration\n */\nexport interface WidgetSize {\n  width: number;\n  height: number;\n}\n\n/**\n * Preset widget sizes\n */\nexport enum WidgetSizePreset {\n  SMALL = \"small\",\n  MEDIUM = \"medium\",\n  LARGE = \"large\",\n  EXTRA_LARGE = \"extraLarge\",\n  FULL_WIDTH = \"fullWidth\",\n  DEFAULT = \"medium\",\n}\n\n/**\n * Widget definition structure\n */\nexport interface WidgetDefinition<T = any> {\n  id: string;\n  title: string;\n  description?: string;\n  component: WidgetComponentType<T>;\n  defaultProps?: Partial<T>;\n  icon?: string;\n  size?: string;\n  order?: number;\n  position?: number;\n  visible?: boolean;\n  minSecurityLevel?: string | number;\n  maxSecurityLevel?: string | number;\n  requiredSecurityLevels?: string[];\n}\n\n/**\n * Widget configuration structure\n */\nexport interface WidgetConfig {\n  id: string;\n  type: string;\n  title: string;\n  description: string;\n  icon: string;\n  priority: number;\n  visible: boolean;\n  size: string;\n  width: number;\n  height: number;\n  order: number;\n  requiredSecurityLevels?: string[];\n  minSecurityLevel?: string | number;\n  maxSecurityLevel?: string | number;\n  position?: number;\n}\n","import React, { useEffect, useMemo, useState } from \"react\";\nimport {\n  availabilityOptions,\n  confidentialityOptions,\n  integrityOptions,\n} from \"../hooks/useCIAOptions\";\n\nimport Dashboard, { DashboardWidget } from \"../components/dashboard/Dashboard\";\nimport ComplianceStatusWidget from \"../components/widgets/ComplianceStatusWidget\";\nimport CostEstimationWidget from \"../components/widgets/CostEstimationWidget\";\nimport SecurityLevelWidget from \"../components/widgets/SecurityLevelWidget\";\nimport SecuritySummaryWidget from \"../components/widgets/SecuritySummaryWidget\";\nimport ValueCreationWidget from \"../components/widgets/ValueCreationWidget\";\nimport { SECURITY_LEVELS, UI_TEXT } from \"../constants/appConstants\";\nimport { WIDGET_TITLES } from \"../constants/coreConstants\";\nimport { APP_TEST_IDS } from \"../constants/testIds\";\n// Import the new widgets\nimport AvailabilityImpactWidget from \"../components/widgets/AvailabilityImpactWidget\";\nimport BusinessImpactAnalysisWidget from \"../components/widgets/BusinessImpactAnalysisWidget\";\nimport ConfidentialityImpactWidget from \"../components/widgets/ConfidentialityImpactWidget\";\nimport IntegrityImpactWidget from \"../components/widgets/IntegrityImpactWidget\";\nimport SecurityResourcesWidget from \"../components/widgets/SecurityResourcesWidget\";\nimport SecurityVisualizationWidget from \"../components/widgets/SecurityVisualizationWidget\";\nimport TechnicalDetailsWidget from \"../components/widgets/TechnicalDetailsWidget\";\nimport { SecurityLevel } from \"../types/cia\";\nimport { typeAdapters } from \"../types/widgets\";\n\n/**\n * Main component for the CIA Classification App\n *\n * ## Business Perspective\n *\n * ### Purpose\n * The `CIAClassificationApp` component serves as the main component for the CIA Classification App, orchestrating various widgets and functionalities to deliver a comprehensive compliance management solution. üõ°Ô∏è\n *\n * ### User Experience\n * By providing a cohesive and user-friendly interface, the `CIAClassificationApp` component enhances the overall user experience, making it easier for users to navigate and utilize the compliance management tools. üåü\n *\n * ### Business Continuity\n * The `CIAClassificationApp` component ensures business continuity by maintaining a consistent and reliable application structure, minimizing disruptions during updates or migrations. üîÑ\n *\n * ### Scalability\n * The `CIAClassificationApp` component's modular design allows for easy scalability and future enhancements, enabling the application to grow and adapt to changing business needs. üìà\n *\n * ### Security\n * The `CIAClassificationApp` component implements proper state management for security levels and ensures consistent application of security controls across the CIA triad, enhancing the overall security posture of the application. üîí\n */\nconst CIAClassificationApp: React.FC = () => {\n  // Get version from package.json through Vite define plugin\n  const appVersion = APP_VERSION;\n\n  // State for security levels\n  const [availability, setAvailability] = useState<string>(\n    SECURITY_LEVELS.NONE\n  );\n  const [integrity, setIntegrity] = useState<string>(SECURITY_LEVELS.NONE);\n  const [confidentiality, setConfidentiality] = useState<string>(\n    SECURITY_LEVELS.NONE\n  );\n\n  // Dark mode state - updated to default to true\n  const [darkMode, setDarkMode] = useState<boolean>(true);\n\n  useEffect(() => {\n    const testEventHandler = (e: Event) => {\n      if (\n        e instanceof CustomEvent &&\n        e.type === \"test:set-values\" &&\n        e.detail\n      ) {\n        const { availability: a, integrity: i, confidentiality: c } = e.detail;\n        if (a) setAvailability(a);\n        if (i) setIntegrity(i);\n        if (c) setConfidentiality(c);\n      }\n    };\n\n    document.addEventListener(\n      \"test:set-values\",\n      testEventHandler as EventListener\n    );\n\n    return () => {\n      document.removeEventListener(\n        \"test:set-values\",\n        testEventHandler as EventListener\n      );\n    };\n  }, []);\n\n  useEffect(() => {\n    if (\n      typeof window !== \"undefined\" &&\n      window.matchMedia &&\n      typeof window.matchMedia === \"function\"\n    ) {\n      try {\n        // Apply dark mode by default (no need to check system preference)\n        if (darkMode) {\n          document.documentElement.classList.add(\"dark\");\n          document.getElementById(\"root\")?.classList.add(\"dark\");\n        } else {\n          document.documentElement.classList.remove(\"dark\");\n          document.getElementById(\"root\")?.classList.remove(\"dark\");\n        }\n      } catch (error) {\n        if (process.env.NODE_ENV !== \"test\") {\n          console.error(\"Error applying dark mode:\", error);\n        }\n      }\n    }\n  }, [darkMode]);\n\n  // Calculate total costs\n  const totalCapex =\n    (availabilityOptions[availability as SecurityLevel]?.capex || 0) +\n    (integrityOptions[integrity as SecurityLevel]?.capex || 0) +\n    (confidentialityOptions[confidentiality as SecurityLevel]?.capex || 0);\n\n  const totalOpex =\n    (availabilityOptions[availability as SecurityLevel]?.opex || 0) +\n    (integrityOptions[integrity as SecurityLevel]?.opex || 0) +\n    (confidentialityOptions[confidentiality as SecurityLevel]?.opex || 0);\n\n  // Calculate overall security level\n  const overallSecurityLevel = useMemo(() => {\n    const levels = [\n      SECURITY_LEVELS.NONE,\n      SECURITY_LEVELS.LOW,\n      SECURITY_LEVELS.MODERATE,\n      SECURITY_LEVELS.HIGH,\n      SECURITY_LEVELS.VERY_HIGH,\n    ];\n    const availabilityIndex = levels.indexOf(availability as SecurityLevel);\n    const integrityIndex = levels.indexOf(integrity as SecurityLevel);\n    const confidentialityIndex = levels.indexOf(\n      confidentiality as SecurityLevel\n    );\n\n    const avgIndex = Math.round(\n      (availabilityIndex + integrityIndex + confidentialityIndex) / 3\n    );\n    return levels[avgIndex] || SECURITY_LEVELS.NONE;\n  }, [availability, integrity, confidentiality]);\n\n  // Toggle dark mode\n  const toggleDarkMode = () => {\n    setDarkMode((prev) => {\n      const newMode = !prev;\n      // Apply dark mode class to HTML element (more standard approach)\n      if (newMode) {\n        document.documentElement.classList.add(\"dark\");\n        document.getElementById(\"root\")?.classList.add(\"dark\");\n      } else {\n        document.documentElement.classList.remove(\"dark\");\n        document.getElementById(\"root\")?.classList.remove(\"dark\");\n      }\n      return newMode;\n    });\n  };\n\n  // Determine if we're dealing with a small solution for UI adaptation\n  const isSmallSolution = totalCapex <= 60;\n\n  // Prepare dynamic cost estimates based on solution size\n  const capexEstimate = isSmallSolution ? \"$5,000\" : \"$50,000\";\n  const opexEstimate = isSmallSolution ? \"$500\" : \"$50,000\";\n\n  // Prepare adapter functions for options\n  const adaptedIntegrityOptions = Object.entries(integrityOptions).reduce(\n    (acc, [key, value]) => {\n      acc[key] = typeAdapters.toIntegrityDetail(value);\n      return acc;\n    },\n    {} as Record<string, any>\n  );\n\n  const adaptedConfidentialityOptions = Object.entries(\n    confidentialityOptions\n  ).reduce((acc, [key, value]) => {\n    acc[key] = typeAdapters.toConfidentialityDetail(value);\n    return acc;\n  }, {} as Record<string, any>);\n\n  const adaptedAvailabilityOptions = Object.entries(availabilityOptions).reduce(\n    (acc, [key, value]) => {\n      acc[key] = typeAdapters.toAvailabilityDetail(value);\n      return acc;\n    },\n    {} as Record<string, any>\n  );\n\n  return (\n    <div\n      className={`app-container ${darkMode ? \"dark bg-pattern\" : \"\"}`}\n      data-testid={APP_TEST_IDS.APP_CONTAINER}\n    >\n      <div className=\"min-h-screen bg-gray-100 dark:bg-gray-900 p-4 transition-colors duration-300\">\n        <div className=\"w-full mx-auto\">\n          {/* App title and theme toggle */}\n          <div className=\"app-title shadow-lg rounded-xl transition-colors duration-300 dark:security-card p-4 flex items-center justify-between\">\n            <div>\n              <h1\n                data-testid={APP_TEST_IDS.APP_TITLE}\n                className=\"text-2xl font-bold text-gray-800 dark:text-gray-100 dark:widget-title transition-colors duration-300 flex items-center\"\n              >\n                <img\n                  src=\"https://hack23.github.io/cia-compliance-manager/icon-192.png\"\n                  alt=\"CIA Compliance Manager Logo\"\n                  style={{ height: \"48px\" }}\n                  className=\"w-auto mr-1\"\n                />\n                {UI_TEXT.APP_TITLE}\n              </h1>\n              <div\n                className=\"terminal-text text-xs flex items-center mt-1\"\n                style={{ color: \"#22c55e\" }}\n              >\n                <span\n                  className=\"mr-1\"\n                  data-testid=\"app-indicator\"\n                  style={{ color: \"#22c55e\" }}\n                >\n                  ‚ñ†\n                </span>\n                <span\n                  className=\"mr-2\"\n                  data-testid=\"app-version\"\n                  style={{ color: \"#22c55e\" }}\n                >\n                  v{appVersion}\n                </span>\n                <a\n                  href=\"https://github.com/Hack23/cia-compliance-manager\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"hover:underline mr-2\"\n                  data-testid=\"source-link\"\n                  style={{ color: \"#22c55e\" }}\n                >\n                  Source\n                </a>\n                <span style={{ color: \"#22c55e\" }}>|</span>\n                <a\n                  href=\"https://hack23.github.io/cia-compliance-manager/documentation.html\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"hover:underline mx-2\"\n                  data-testid=\"docs-link\"\n                  style={{ color: \"#22c55e\" }}\n                >\n                  Doc\n                </a>\n                <span style={{ color: \"#22c55e\" }}>|</span>\n                <a\n                  href=\"https://hack23.com/\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"hover:underline\"\n                  data-testid=\"author-link\"\n                  style={{ color: \"#22c55e\" }}\n                >\n                  Hack23\n                </a>\n              </div>\n            </div>\n            <button\n              data-testid={APP_TEST_IDS.THEME_TOGGLE}\n              onClick={toggleDarkMode}\n              className={`px-4 py-2 rounded-md flex items-center transition-all duration-300 ${\n                darkMode\n                  ? \"bg-black border border-green-500 hover:border-green-400 hover:bg-gray-900 cyberbutton\"\n                  : \"bg-blue-500 hover:bg-blue-600 text-white\"\n              }`}\n            >\n              {darkMode ? (\n                <>\n                  <span className=\"mr-2 text-green-400\">‚òÄÔ∏è</span>\n                  <span className=\"text-green-400 font-mono tracking-wide text-sm uppercase\">\n                    Light Mode\n                  </span>\n                </>\n              ) : (\n                <>\n                  <span className=\"mr-2\">üåô</span> Dark Mode\n                </>\n              )}\n            </button>\n          </div>\n\n          {/* Main dashboard */}\n          <div className=\"bg-white dark:bg-gray-800 shadow-lg rounded-xl p-3 pt-4 mt-3 transition-colors duration-300\">\n            <Dashboard>\n              {/* Security Level Selection */}\n              <DashboardWidget\n                title={WIDGET_TITLES.SECURITY_LEVEL}\n                icon=\"SECURITY_LEVEL\"\n                testId=\"widget-security-level-selection\"\n              >\n                <SecurityLevelWidget\n                  availabilityLevel={availability}\n                  integrityLevel={integrity}\n                  confidentialityLevel={confidentiality}\n                  setAvailability={setAvailability}\n                  setIntegrity={setIntegrity}\n                  setConfidentiality={setConfidentiality}\n                />\n              </DashboardWidget>\n\n              {/* Security Summary */}\n              <DashboardWidget\n                title={WIDGET_TITLES.SECURITY_SUMMARY}\n                icon=\"SECURITY_SUMMARY\"\n                testId=\"widget-security-summary\"\n              >\n                <SecuritySummaryWidget\n                  securityLevel={overallSecurityLevel as SecurityLevel}\n                  availabilityLevel={availability as SecurityLevel}\n                  integrityLevel={integrity as SecurityLevel}\n                  confidentialityLevel={confidentiality as SecurityLevel}\n                />\n              </DashboardWidget>\n\n              {/* Business Impact Analysis - New Widget */}\n              <DashboardWidget\n                title={WIDGET_TITLES.BUSINESS_IMPACT}\n                icon=\"BUSINESS_IMPACT\"\n                testId=\"widget-business-impact-container\"\n              >\n                <BusinessImpactAnalysisWidget\n                  availabilityLevel={availability as SecurityLevel}\n                  integrityLevel={integrity as SecurityLevel}\n                  confidentialityLevel={confidentiality as SecurityLevel}\n                  securityLevel={overallSecurityLevel}\n                />\n              </DashboardWidget>\n\n              {/* Technical Details - New Widget */}\n              <DashboardWidget\n                title={WIDGET_TITLES.TECHNICAL_IMPLEMENTATION}\n                icon=\"TECHNICAL_IMPLEMENTATION\"\n                testId=\"widget-technical-details-container\"\n              >\n                <TechnicalDetailsWidget\n                  availabilityLevel={availability}\n                  integrityLevel={integrity}\n                  confidentialityLevel={confidentiality}\n                />\n              </DashboardWidget>\n\n              {/* Cost Estimation */}\n              <DashboardWidget\n                title={WIDGET_TITLES.COST_ESTIMATION}\n                icon=\"COST_ESTIMATION\"\n                testId=\"widget-cost-estimation\"\n              >\n                <CostEstimationWidget\n                  availabilityLevel={availability as SecurityLevel}\n                  integrityLevel={integrity as SecurityLevel}\n                  confidentialityLevel={confidentiality as SecurityLevel}\n                />\n              </DashboardWidget>\n\n              {/* Value Creation */}\n              <DashboardWidget\n                title={WIDGET_TITLES.VALUE_CREATION}\n                icon=\"VALUE_CREATION\"\n                testId=\"widget-value-creation\"\n              >\n                <ValueCreationWidget\n                  securityLevel={overallSecurityLevel as SecurityLevel}\n                  availabilityLevel={availability as SecurityLevel}\n                  integrityLevel={integrity as SecurityLevel}\n                  confidentialityLevel={confidentiality as SecurityLevel}\n                />\n              </DashboardWidget>\n\n              {/* Compliance Status */}\n              <DashboardWidget\n                title={WIDGET_TITLES.COMPLIANCE_STATUS}\n                icon=\"COMPLIANCE_STATUS\"\n                testId=\"widget-compliance-status\"\n              >\n                <ComplianceStatusWidget\n                  availabilityLevel={availability as SecurityLevel}\n                  integrityLevel={integrity as SecurityLevel}\n                  confidentialityLevel={confidentiality as SecurityLevel}\n                />\n              </DashboardWidget>\n\n              {/* Security Visualization */}\n              <DashboardWidget\n                title={WIDGET_TITLES.SECURITY_VISUALIZATION}\n                icon=\"SECURITY_VISUALIZATION\"\n                testId=\"widget-radar-chart\"\n              >\n                <SecurityVisualizationWidget\n                  availabilityLevel={availability as SecurityLevel}\n                  integrityLevel={integrity as SecurityLevel}\n                  confidentialityLevel={confidentiality as SecurityLevel}\n                />\n              </DashboardWidget>\n\n              {/* Confidentiality Impact - New Widget */}\n              <DashboardWidget\n                title={WIDGET_TITLES.CONFIDENTIALITY_IMPACT}\n                icon=\"CONFIDENTIALITY_IMPACT\"\n                testId=\"widget-confidentiality-impact-container\"\n              >\n                <ConfidentialityImpactWidget\n                  confidentialityLevel={confidentiality as SecurityLevel}\n                  integrityLevel={integrity as SecurityLevel}\n                  availabilityLevel={availability as SecurityLevel}\n                />\n              </DashboardWidget>\n\n              {/* Integrity Impact - New Widget */}\n              <DashboardWidget\n                title={WIDGET_TITLES.INTEGRITY_IMPACT}\n                icon=\"INTEGRITY_IMPACT\"\n                testId=\"widget-integrity-impact-container\"\n              >\n                <IntegrityImpactWidget\n                  integrityLevel={integrity as SecurityLevel}\n                  availabilityLevel={availability as SecurityLevel}\n                  confidentialityLevel={confidentiality as SecurityLevel}\n                />\n              </DashboardWidget>\n\n              {/* Availability Impact - New Widget */}\n              <DashboardWidget\n                title={WIDGET_TITLES.AVAILABILITY_IMPACT}\n                icon=\"AVAILABILITY_IMPACT\"\n                testId=\"widget-availability-impact-container\"\n              >\n                <AvailabilityImpactWidget\n                  availabilityLevel={availability as SecurityLevel}\n                  integrityLevel={integrity as SecurityLevel}\n                  confidentialityLevel={confidentiality as SecurityLevel}\n                  options={adaptedAvailabilityOptions}\n                />\n              </DashboardWidget>\n\n              {/* Security Resources - New Widget */}\n              <DashboardWidget\n                title={WIDGET_TITLES.SECURITY_RESOURCES}\n                icon=\"SECURITY_RESOURCES\"\n                testId=\"widget-security-resources-container\"\n              >\n                <SecurityResourcesWidget\n                  securityLevel={overallSecurityLevel as SecurityLevel}\n                  availabilityLevel={availability as SecurityLevel}\n                  integrityLevel={integrity as SecurityLevel}\n                  confidentialityLevel={confidentiality as SecurityLevel}\n                />\n              </DashboardWidget>\n            </Dashboard>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CIAClassificationApp;\n","import \"./App.css\"; // Keep the import to avoid build errors\nimport CIAClassificationApp from \"./application/CIAClassificationApp\";\nimport { APP_TEST_IDS } from \"./constants/testIds\";\n\n/**\n * Main App component\n * \n * ## Business Perspective\n * \n * ### Purpose\n * The `App` component serves as the main entry point of the application, ensuring backward compatibility by wrapping the `CIAClassificationApp` component. üõ°Ô∏è\n * \n * ### User Experience\n * By maintaining backward compatibility, the `App` component ensures a seamless user experience, reducing the need for retraining or adjustments for existing users. üåü\n * \n * ### Business Continuity\n * The `App` component's role in maintaining backward compatibility helps in minimizing disruptions during updates or migrations, ensuring business continuity. üîÑ\n * \n * ### Scalability\n * The `App` component's simple structure allows for easy scalability and future enhancements without affecting the core functionality. üìà\n * \n * ### Security\n * By acting as a wrapper, the `App` component ensures that the security measures implemented in the `CIAClassificationApp` are consistently applied across the application. üîí\n */\nfunction App() {\n  return (\n    <div className=\"app-root\" data-testid={APP_TEST_IDS.APP_ROOT}>\n      <div data-testid={APP_TEST_IDS.CIA_CLASSIFICATION_APP}>\n        <CIAClassificationApp />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\n/**\n * Entry point for the React application.\n * \n * ## Technical Implementation\n * This file initializes the React application by rendering the `App` component into the root DOM element.\n * \n * ## Future-Proofing\n * The use of React's `createRoot` method ensures compatibility with future versions of React and enables concurrent mode.\n * \n * ## Performance\n * The application is wrapped in `React.StrictMode` to help identify potential performance issues and ensure best practices.\n * \n * ## Maintainability\n * The structure of this file is simple and clear, making it easy to maintain and update as needed.\n * \n * ## Integration\n * This file integrates the main `App` component with the HTML structure of the application, serving as the bridge between the React code and the DOM.\n */\nconst root = ReactDOM.createRoot(\n  document.getElementById(\"root\") as HTMLElement\n);\n\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n"],"names":["SECURITY_LEVEL_COLORS","BACKGROUND","NONE","LOW","MODERATE","HIGH","VERY_HIGH","DARK_MODE","CIA_COMPONENT_COLORS","CONFIDENTIALITY","PRIMARY","SECONDARY","DARK","INTEGRITY","AVAILABILITY","getSecurityLevelColorPair","level","isDarkMode","document","documentElement","classList","contains","normalizedLevel","replace","toUpperCase","bg","text","_availabilityOptions","None","description","technical","businessImpact","capex","opex","recommendations","uptime","businessImpactDetails","financialImpact","riskLevel","annualRevenueLoss","operationalImpact","meanTimeToRecover","regulatory","complianceViolations","securityIcon","Low","rto","rpo","mttr","Moderate","High","strategic","_integrityOptions","validationMethod","_confidentialityOptions","protectionMethod","reputationalImpact","_ROI_ESTIMATES","value","returnRate","potentialSavings","breakEvenPeriod","implementationCost","availabilityOptions","integrityOptions","confidentialityOptions","ROI_ESTIMATES","RISK_LEVELS","SECURITY_LEVELS","CIA_LABELS","CIA_COMPONENT_ICONS","CIA_DESCRIPTIONS","SECURITY_RECOMMENDATIONS","BASIC","COST_ANALYSIS","UI_TEXT","SECURITY_LEVEL","RegExp","Object","values","SOC2","ISO27001","PCI_DSS","HIPAA","NIST","join","IMPLEMENTATION_COSTS","developmentEffort","maintenance","expertise","WIDGET_ICONS","SECURITY_SUMMARY","SECURITY_VISUALIZATION","COMPLIANCE_STATUS","VALUE_CREATION","COST_ESTIMATION","BUSINESS_IMPACT","TECHNICAL_IMPLEMENTATION","AVAILABILITY_IMPACT","INTEGRITY_IMPACT","CONFIDENTIALITY_IMPACT","SECURITY_RESOURCES","RISK_LEVEL_DESCRIPTIONS","CRITICAL","MEDIUM","MINIMAL","CIA_TEST_IDS","BUSINESS_IMPACT_TEST_IDS","FRAMEWORK_TEST_IDS","CHART_TEST_IDS","COST_TEST_IDS","SUMMARY_TEST_IDS","APP_TEST_IDS","COMMON_COMPONENT_TEST_IDS","AVAILABILITY_IMPACT_TEST_IDS","CONFIDENTIALITY_IMPACT_TEST_IDS","INTEGRITY_IMPACT_TEST_IDS","TECHNICAL_DETAILS_TEST_IDS","SECURITY_LEVEL_TEST_IDS","RESOURCE_TEST_IDS","VALUE_CREATION_TEST_IDS","createDynamicTestId","id","WidgetContainer","children","title","icon","testId","className","style","size","loading","error","containerClasses","containerStyle","gridColumn","width","gridRow","height","jsxRuntimeExports","jsxs","jsx","message","WIDGET_TITLES","normalizeSecurityLevel","includes","toLowerCase","validLevel","getSecurityLevelValue","getSecurityLevelClass","getSecurityLevelBadgeVariant","defaultDataProvider","roiEstimates","getDefaultSecurityIcon","getDefaultValuePoints","defaultPoints","defaultService","dataProvider","getCIAOptions","component","getComponentDetails","getDefaultDevelopmentEffort","getDefaultMaintenanceEffort","getDefaultExpertiseLevel","calculateRoi","availabilityLevel","integrityLevel","confidentialityLevel","levels","safeGetIndex","index","indexOf","availIdx","integrityIdx","confidentialityIdx","Math","round","getComplianceStatus","levelValues","availValue","integValue","confidValue","compliantFrameworks","partiallyCompliantFrameworks","nonCompliantFrameworks","push","requirements","generateRequirements","remediationSteps","steps","generateRemediationSteps","getComponentMetrics","details","regulatoryImpactDesc","regulatoryImpact","keyImpact","determineKeyImpact","metric","determineMetric","determineBusinessImpact","a","i","c","determineTechnicalImpact","determineRegulatoryImpact","calculateSecurityScore","levelToScore","calculateCostEffectivenessScore","getBusinessImpact","summary","financial","operational","impactDetails","reputational","competitiveAdvantage","complianceImpact","getDetailedDescription","getBusinessPerspective","businessPerspective","getRecommendations","Array","isArray","getROIEstimates","key","keys","getSecurityMetrics","availDetail","integrityDetail","confidentialityDetail","totalCapex","totalOpex","capexEstimate","opexEstimate","isSmallSolution","roi","getImpactMetrics","availability","integrity","confidentiality","technicalImpact","securityScore","complianceScore","costEffectivenessScore","getSecurityResources","securityLevel","url","category","tags","relevanceScore","type","getTechnicalImplementation","technicalImplementation","implementationSteps","effort","development","technologies","getSecurityLevelDescription","getInformationSensitivity","getProtectionLevel","calculateBusinessImpactLevel","availLevel","integrLevel","confLevel","availIndex","integrIndex","confIndex","getRiskBadgeVariant","Critical","Medium","Minimal","getCategoryIcon","icons","FINANCIAL","OPERATIONAL","REPUTATIONAL","REGULATORY","STRATEGIC","NEUTRAL","getValuePoints","availDetails","valuePoints","length","getROIEstimate","getImplementationConsiderations","getComponentImplementationDetails","defaultEffort","defaultSteps","getBusinessImpactDescription","getTechnicalDescription","getSecurityIcon","getCompliantFrameworks","getFrameworkDescription","framework","GDPR","CCPA","getImplementationTime","totalScore","createCIAContentService","StatusBadge","status","baseClasses","getBaseClasses","variantMap","success","warning","info","purple","neutral","getVariantClasses","CIAImpactCard","badgeVariant","cardClass","KeyValuePair","label","valueClassName","labelClassName","AvailabilityImpactWidget","_integrityLevel","_confidentialityLevel","options","_options","showAllRecommendations","setShowAllRecommendations","useState","availabilityDetails","useMemo","ciaContentService","technicalDetails","impactDescription","role","slice","map","step","idx","onClick","recommendation","Error","BusinessImpactAnalysisWidget","activeComponent","activeTab","setActiveTab","availabilityImpact","integrityImpact","confidentialityImpact","availabilityMetrics","integrityMetrics","confidentialityMetrics","impact","metrics","color","getActiveImpact","borderColor","borderLeftColor","SecurityLevelSummaryItem","compact","getIconClass","getLevelClass","borderLeft","ComplianceStatusWidget","safeAvailability","safeIntegrity","safeConfidentiality","complianceData","data","totalFrameworks","score","calculateComplianceScore","ConfidentialityImpactWidget","confidentialityDetails","sensitivity","MetricsCard","subtitle","accentColor","trend","variant","displayValue","setDisplayValue","valueString","String","numericValue","parseInt","useEffect","increment","current","timer","setInterval","clearInterval","formattedValue","toLocaleString","split","toString","direction","getValueColor","CostEstimationWidget","securityMetrics","implementationTime","threeYearTotal","formatCurrency","match","amount","suffix","IntegrityImpactWidget","integrityDetails","SecurityResourcesWidget","searchTerm","setSearchTerm","selectedCategory","setSelectedCategory","highestLevel","availabilityValue","integrityValue","confidentialityValue","maxValue","max","find","resources","link","requiredLevel","filteredResources","highestLevelValue","filter","resource","searchLower","some","tag","categoryCounts","counts","all","forEach","categoryLabels","standard","regulation","tool","placeholder","onChange","e","target","entries","href","rel","tagIndex","SecuritySummaryWidget","showTechnicalDetails","setShowTechnicalDetails","showBusinessImpact","setShowBusinessImpact","showMetrics","setShowMetrics","securityDescription","roiData","roiValue","availabilityTechDescription","integrityTechDescription","confidentialityTechDescription","availabilityBusinessImpact","integrityBusinessImpact","confidentialityBusinessImpact","aValue","iValue","cValue","highest","lowest","balanced","transform","rec","Fragment","RadarChart","chartRef","useRef","chartInstanceRef","renderError","setRenderError","setIsDarkMode","securityLevels","mapLevelToValue","observer","MutationObserver","mutations","mutation","attributeName","newDarkMode","observe","attributes","disconnect","destroy","ctx","getContext","backgroundColor","gridColor","textColor","Chart","labels","datasets","borderWidth","pointBackgroundColor","pointBorderColor","pointHoverBackgroundColor","pointHoverBorderColor","responsive","maintainAspectRatio","scales","r","angleLines","grid","pointLabels","font","min","ticks","backdropColor","z","stepSize","callback","beginAtZero","plugins","legend","display","family","boxWidth","boxHeight","tooltip","callbacks","context","raw","resizeHandler","resize","window","addEventListener","removeEventListener","containerClassName","trim","ref","WidgetHeader","iconKey","actions","iconToDisplay","Tooltip","content","position","showTooltip","setShowTooltip","onMouseEnter","onMouseLeave","onFocus","onBlur","getPositionClasses","SecurityLevelSelector","tooltipContent","disabled","getLevelSpecificValue","htmlFor","option","charAt","SecurityRiskScore","gaugePosition","left","SecurityVisualizationWidget","riskScore","avgSecurityValue","riskDescription","TechnicalDetailsWidget","availabilityRecommendations","integrityRecommendations","confidentialityRecommendations","activeDetails","validationKey","implementationDetails","codeExamples","borderBottomColor","example","language","code","ValueCreationWidget","breachCostAvoidance","productivityImpact","investmentImpactScore","standardROI","breakEvenTimeframe","roiInfo","convertSizeToWidgetSize","widgetRegistry","widgets","Map","register","definition","finalDefinition","order","this","set","get","getAll","from","sort","b","renderWidget","props","widget","finalProps","defaultProps","widgetId","handleWidgetError","renderWidgets","widgetProps","combinedProps","actualConfidentialityLevel","actualIntegrityLevel","actualAvailabilityLevel","overallSecurityLevel","availabilityIndex","integrityIndex","confidentialityIndex","calculateOverallSecurityLevel","substring","Dashboard","useRegistry","columnsSmall","columnsMedium","columnsLarge","showBorders","impactWidgetProps","securityProps","calculateOverallLevel","calculateCostProps","React","Children","child","isValidElement","intLevel","DashboardWidget","headerClassName","showHeader","colSpan","rowSpan","headerContent","fullHeight","emptyState","onAvailabilityChange","onIntegrityChange","onConfidentialityChange","propAvailabilityOptions","propIntegrityOptions","propConfidentialityOptions","showSelectionSummary","showDescriptions","setAvailability","setIntegrity","setConfidentiality","activeTooltip","setActiveTooltip","activeDescription","setActiveDescription","hookAvailabilityOptions","hookIntegrityOptions","hookConfidentialityOptions","availabilityOpts","integrityOpts","confidentialityOpts","useCIAOptions","hideTooltip","renderOptions","optionsObject","componentType","safeCastToSecurityLevel","safeComponent","safeCastToComponentType","shortDesc","useEnhancedVersion","enhancedProps","EnhancedSelector","simpleProps","SimpleSelector","SecurityLevelWidget","typeAdapters","toIntegrityDetail","technicalControls","complianceImplications","toConfidentialityDetail","technicalMeasures","toAvailabilityDetail","CIAClassificationApp","darkMode","setDarkMode","testEventHandler","CustomEvent","detail","matchMedia","add","getElementById","remove","reduce","acc","adaptedAvailabilityOptions","src","alt","prev","newMode","App","ReactDOM","createRoot","render","StrictMode"],"mappings":"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"}