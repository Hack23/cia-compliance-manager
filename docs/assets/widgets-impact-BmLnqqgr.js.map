{"version":3,"file":"widgets-impact-BmLnqqgr.js","sources":["../../src/hooks/useComponentDetails.ts","../../src/hooks/useBusinessImpact.ts","../../src/hooks/useSecurityLevelState.ts","../../src/hooks/useLocalStorage.ts","../../src/hooks/useKeyboardShortcuts.ts","../../src/components/common/BusinessImpactSection.tsx","../../src/components/common/MetricCard.tsx","../../src/components/common/WidgetSection.tsx","../../src/components/widgets/impactanalysis/ImpactWidget.tsx","../../src/components/widgets/impactanalysis/AvailabilityImpactWidget.tsx","../../src/components/widgets/impactanalysis/ConfidentialityImpactWidget.tsx","../../src/components/widgets/impactanalysis/IntegrityImpactWidget.tsx"],"sourcesContent":["import { useMemo } from 'react';\nimport { CIAComponent, SecurityLevel } from '../types/cia';\nimport { useCIAContentService } from './useCIAContentService';\nimport { isNullish } from '../utils/typeGuards';\n\n/**\n * Custom hook for fetching CIA component details with error handling\n * \n * ## Business Perspective\n * \n * This hook encapsulates the common pattern of fetching component details\n * from the CIA content service, providing consistent error handling and\n * null safety across all widget components. This reduces duplication and\n * ensures consistent behavior across the application. üîÑ\n * \n * @param component - CIA component (availability, integrity, confidentiality)\n * @param level - Security level for the component\n * @returns Component details or null if unavailable\n * \n * @example\n * ```typescript\n * const details = useComponentDetails('availability', 'High');\n * \n * if (details) {\n *   console.log(details.uptime);\n * }\n * ```\n */\nexport function useComponentDetails(\n  component: CIAComponent,\n  level: SecurityLevel\n) {\n  const { ciaContentService } = useCIAContentService();\n\n  const details = useMemo(() => {\n    if (isNullish(ciaContentService)) return null;\n\n    try {\n      const result = ciaContentService.getComponentDetails(component, level);\n      return isNullish(result) ? null : result;\n    } catch (err) {\n      console.error(`Error getting ${component} details:`, err);\n      return null;\n    }\n  }, [ciaContentService, component, level]);\n\n  return details;\n}\n","import { useMemo } from 'react';\nimport { CIAComponent, SecurityLevel } from '../types/cia';\nimport { useCIAContentService } from './useCIAContentService';\nimport { getDefaultComponentImpact } from '../utils/riskUtils';\nimport { isNullish } from '../utils/typeGuards';\n\n/**\n * Custom hook for fetching business impact details with fallback\n * \n * ## Business Perspective\n * \n * This hook provides consistent access to business impact information\n * across all widget components. It automatically falls back to default\n * values when the service is unavailable, ensuring widgets always display\n * meaningful impact information to stakeholders. üíº\n * \n * @param component - CIA component (availability, integrity, confidentiality)\n * @param level - Security level for the component\n * @returns Business impact details with automatic fallback\n * \n * @example\n * ```typescript\n * const impact = useBusinessImpact('confidentiality', 'Very High');\n * \n * // Always returns impact data, never null\n * console.log(impact.financialImpact);\n * console.log(impact.operationalImpact);\n * ```\n */\nexport function useBusinessImpact(\n  component: CIAComponent,\n  level: SecurityLevel\n) {\n  const { ciaContentService } = useCIAContentService();\n\n  const businessImpact = useMemo(() => {\n    if (isNullish(ciaContentService)) {\n      return getDefaultComponentImpact(component, level);\n    }\n\n    try {\n      const impact = ciaContentService.getBusinessImpact(component, level);\n      return impact || getDefaultComponentImpact(component, level);\n    } catch (err) {\n      console.error(`Error getting ${component} business impact:`, err);\n      return getDefaultComponentImpact(component, level);\n    }\n  }, [ciaContentService, component, level]);\n\n  return businessImpact;\n}\n","import { useState, useCallback } from 'react';\nimport { SecurityLevel, CIAComponent } from '../types/cia';\n\n/**\n * State object containing security levels for all CIA components\n * \n * @property availability - Availability security level\n * @property integrity - Integrity security level\n * @property confidentiality - Confidentiality security level\n */\nexport interface SecurityLevelState {\n  /** Availability security level */\n  availability: SecurityLevel;\n  /** Integrity security level */\n  integrity: SecurityLevel;\n  /** Confidentiality security level */\n  confidentiality: SecurityLevel;\n}\n\n/**\n * Return type for useSecurityLevelState hook\n */\nexport interface UseSecurityLevelStateReturn {\n  /** Current security levels for all components */\n  levels: SecurityLevelState;\n  \n  /** Updates security level for a specific component */\n  setLevel: (component: CIAComponent, level: SecurityLevel) => void;\n  \n  /** Resets all security levels to default */\n  resetLevels: (defaultLevel?: SecurityLevel) => void;\n  \n  /** Gets security level for a specific component */\n  getLevel: (component: CIAComponent) => SecurityLevel;\n}\n\n/**\n * Custom hook for managing CIA triad security levels\n * \n * ## Business Perspective\n * \n * Provides unified state management for security officers to configure\n * organizational security posture across all three CIA components. This\n * centralization ensures consistent security level handling and simplifies\n * state management across the application. üîí\n * \n * ## Technical Perspective\n * \n * Extracts common security level state management pattern found in 8+ widgets,\n * reducing code duplication by ~20% and ensuring consistent behavior. Uses\n * React hooks best practices with proper memoization for optimal performance.\n * \n * @param initialLevels - Initial security levels (defaults to 'Moderate' for all components)\n * @returns Security level state and update functions\n * \n * @example\n * ```tsx\n * // Basic usage with defaults\n * const { levels, setLevel, getLevel } = useSecurityLevelState();\n * \n * // Update a level\n * setLevel('availability', 'High');\n * \n * // Get a level\n * const currentLevel = getLevel('integrity');\n * \n * // Initialize with custom levels\n * const { levels } = useSecurityLevelState({\n *   availability: 'High',\n *   integrity: 'Moderate',\n *   confidentiality: 'Very High'\n * });\n * \n * // Reset all levels\n * resetLevels('Low');\n * ```\n */\nexport function useSecurityLevelState(\n  initialLevels?: Partial<SecurityLevelState>\n): UseSecurityLevelStateReturn {\n  const [levels, setLevels] = useState<SecurityLevelState>({\n    availability: initialLevels?.availability ?? 'Moderate',\n    integrity: initialLevels?.integrity ?? 'Moderate',\n    confidentiality: initialLevels?.confidentiality ?? 'Moderate',\n  });\n\n  const setLevel = useCallback((component: CIAComponent, level: SecurityLevel) => {\n    setLevels(prev => ({ ...prev, [component]: level }));\n  }, []);\n\n  const resetLevels = useCallback((defaultLevel: SecurityLevel = 'Moderate') => {\n    setLevels({\n      availability: defaultLevel,\n      integrity: defaultLevel,\n      confidentiality: defaultLevel,\n    });\n  }, []);\n\n  const getLevel = useCallback((component: CIAComponent): SecurityLevel => {\n    return levels[component];\n  }, [levels]);\n\n  return { levels, setLevel, resetLevels, getLevel };\n}\n","import { useState, useEffect, useCallback } from 'react';\n\n/**\n * Custom hook to sync state with localStorage\n * \n * ## Business Perspective\n * \n * Enables widgets to remember user preferences and settings across browser\n * sessions, improving user experience by maintaining personalized configurations.\n * This is particularly valuable for security officers who configure specific\n * security levels and want their settings persisted. üíæ\n * \n * ## Technical Perspective\n * \n * Provides a React state hook that automatically syncs with localStorage,\n * handling JSON serialization/deserialization and SSR compatibility. Uses\n * the same API as useState for familiarity.\n * \n * @template T - Type of the stored value\n * @param key - localStorage key to use for storage\n * @param initialValue - Initial value if key doesn't exist in localStorage\n * @returns Tuple of [storedValue, setValue] similar to useState\n * \n * @example\n * ```tsx\n * // Store user's preferred theme\n * const [theme, setTheme] = useLocalStorage('theme', 'light');\n * \n * return (\n *   <button onClick={() => setTheme(theme === 'light' ? 'dark' : 'light')}>\n *     Toggle Theme\n *   </button>\n * );\n * ```\n * \n * @example\n * ```tsx\n * // Store security level preferences\n * const [savedLevels, setSavedLevels] = useLocalStorage('securityLevels', {\n *   availability: 'Moderate',\n *   integrity: 'Moderate',\n *   confidentiality: 'Moderate'\n * });\n * ```\n * \n * @example\n * ```tsx\n * // Store widget visibility preferences\n * const [widgetPrefs, setWidgetPrefs] = useLocalStorage('widgetPreferences', {\n *   showDetails: true,\n *   expandedSections: ['overview', 'metrics']\n * });\n * ```\n */\nexport function useLocalStorage<T>(\n  key: string,\n  initialValue: T\n): [T, (value: T | ((prev: T) => T)) => void] {\n  // State to store our value\n  // Pass initial state function to useState so logic is only executed once\n  const [storedValue, setStoredValue] = useState<T>(() => {\n    // SSR safety: return initial value if window is undefined\n    if (typeof window === 'undefined') {\n      return initialValue;\n    }\n    \n    try {\n      // Get from local storage by key\n      const item = window.localStorage.getItem(key);\n      // Parse stored json or return initialValue if none exists\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      // If error reading from localStorage, log and return initial value\n      console.warn(`Error reading localStorage key \"${key}\":`, error);\n      return initialValue;\n    }\n  });\n\n  // Return a wrapped version of useState's setter function that\n  // persists the new value to localStorage\n  const setValue = useCallback((value: T | ((prev: T) => T)) => {\n    try {\n      // Allow value to be a function like useState\n      setStoredValue((prevValue) => {\n        const valueToStore = value instanceof Function ? value(prevValue) : value;\n        \n        // Save to local storage\n        if (typeof window !== 'undefined') {\n          window.localStorage.setItem(key, JSON.stringify(valueToStore));\n        }\n        \n        return valueToStore;\n      });\n    } catch (error) {\n      // If error writing to localStorage, log but don't throw\n      console.error(`Error saving to localStorage key \"${key}\":`, error);\n    }\n  }, [key]);\n\n  // Sync with changes to localStorage from other tabs/windows\n  useEffect(() => {\n    if (typeof window === 'undefined') {\n      return;\n    }\n\n    const handleStorageChange = (e: StorageEvent): void => {\n      if (e.key === key && e.newValue !== null) {\n        try {\n          setStoredValue(JSON.parse(e.newValue));\n        } catch (error) {\n          console.warn(`Error parsing storage event for key \"${key}\":`, error);\n        }\n      }\n    };\n\n    // Listen for changes in other tabs/windows\n    window.addEventListener('storage', handleStorageChange);\n\n    return () => {\n      window.removeEventListener('storage', handleStorageChange);\n    };\n  }, [key]);\n\n  return [storedValue, setValue];\n}\n","/**\n * Custom hook for keyboard shortcut handling\n * \n * @module hooks/useKeyboardShortcuts\n */\n\nimport { useEffect, useCallback, useRef } from 'react';\nimport { ShortcutMap, UseKeyboardShortcutsOptions } from '../types/keyboard';\nimport {\n  getKeyCombination,\n  shortcutsMatch,\n  shouldIgnoreKeyboardEvent,\n  getPlatformShortcut,\n  areKeyboardShortcutsSupported,\n} from '../utils/keyboardUtils';\nimport logger from '../utils/logger';\n\n/**\n * Custom hook for registering and handling keyboard shortcuts\n * \n * @param options - Configuration options for keyboard shortcuts\n * \n * @example\n * ```tsx\n * const shortcuts = {\n *   'save': {\n *     id: 'save',\n *     keys: 'ctrl+s',\n *     description: 'Save document',\n *     category: 'Actions',\n *     handler: () => handleSave(),\n *   }\n * };\n * \n * useKeyboardShortcuts({\n *   shortcuts,\n *   enabled: true,\n *   preventDefault: true,\n * });\n * ```\n */\nexport function useKeyboardShortcuts(options: UseKeyboardShortcutsOptions): void {\n  const {\n    shortcuts,\n    enabled = true,\n    preventDefault = true,\n    stopPropagation = false,\n  } = options;\n\n  // Use ref to avoid recreating handler on every render\n  const shortcutsRef = useRef<ShortcutMap>(shortcuts);\n  const optionsRef = useRef({ preventDefault, stopPropagation });\n\n  // Update refs when values change\n  useEffect(() => {\n    shortcutsRef.current = shortcuts;\n    optionsRef.current = { preventDefault, stopPropagation };\n  }, [shortcuts, preventDefault, stopPropagation]);\n\n  /**\n   * Handle keyboard event and match against registered shortcuts\n   */\n  const handleKeyDown = useCallback((event: KeyboardEvent): void => {\n    // Skip if shortcuts are not supported or event should be ignored\n    if (!areKeyboardShortcutsSupported() || shouldIgnoreKeyboardEvent(event)) {\n      return;\n    }\n\n    // Get the key combination from the event\n    const keyCombination = getKeyCombination(event);\n\n    // Find matching shortcut\n    const matchingShortcut = Object.values(shortcutsRef.current).find(shortcut => {\n      if (shortcut.enabled === false) {\n        return false;\n      }\n\n      // Get platform-specific keys if available\n      const shortcutKeys = getPlatformShortcut(\n        shortcut.keys,\n        shortcut.platformKeys\n      );\n\n      // Check if keys match\n      return shortcutsMatch(keyCombination, shortcutKeys);\n    });\n\n    // Execute handler if match found\n    if (matchingShortcut) {\n      logger.debug('Keyboard shortcut triggered', {\n        id: matchingShortcut.id,\n        keys: keyCombination,\n        description: matchingShortcut.description,\n      });\n\n      if (optionsRef.current.preventDefault) {\n        event.preventDefault();\n      }\n      if (optionsRef.current.stopPropagation) {\n        event.stopPropagation();\n      }\n\n      try {\n        matchingShortcut.handler();\n      } catch (error) {\n        logger.error('Error executing keyboard shortcut handler', {\n          id: matchingShortcut.id,\n          error,\n        });\n      }\n    }\n  }, []);\n\n  // Register and cleanup event listener\n  useEffect(() => {\n    if (!enabled || !areKeyboardShortcutsSupported()) {\n      return;\n    }\n\n    logger.debug('Registering keyboard shortcuts');\n\n    window.addEventListener('keydown', handleKeyDown);\n\n    return () => {\n      logger.debug('Unregistering keyboard shortcuts');\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [enabled, handleKeyDown]);\n}\n","import React from \"react\";\nimport type { BusinessImpactSectionProps, CIAComponentColor } from \"../../types/componentPropExports\";\n\n/**\n * Get explicit background color classes to avoid dynamic Tailwind class generation\n * @param color - Color name (blue, green, orange)\n * @returns Explicit className string for background colors\n */\nconst getBackgroundColorClasses = (color: CIAComponentColor): string => {\n  switch (color) {\n    case \"blue\":\n      return \"bg-blue-100 dark:bg-blue-900 border-blue-200 dark:border-blue-800\";\n    case \"green\":\n      return \"bg-green-100 dark:bg-green-900 border-green-200 dark:border-green-800\";\n    case \"orange\":\n      return \"bg-orange-100 dark:bg-orange-900 border-orange-200 dark:border-orange-800\";\n    default: {\n      // Exhaustive check - TypeScript will error if new colors are added\n      const exhaustiveCheck: never = color;\n      throw new Error(`Unsupported color: ${String(exhaustiveCheck)}`);\n    }\n  }\n};\n\n/**\n * Get explicit text color classes to avoid dynamic Tailwind class generation\n * @param color - Color name (blue, green, orange)\n * @returns Explicit className string for text colors\n */\nconst getTextColorClasses = (color: CIAComponentColor): string => {\n  switch (color) {\n    case \"blue\":\n      return \"text-blue-700 dark:text-blue-300\";\n    case \"green\":\n      return \"text-green-700 dark:text-green-300\";\n    case \"orange\":\n      return \"text-orange-700 dark:text-orange-300\";\n    default: {\n      // Exhaustive check - TypeScript will error if new colors are added\n      const exhaustiveCheck: never = color;\n      throw new Error(`Unsupported color: ${String(exhaustiveCheck)}`);\n    }\n  }\n};\n\n/**\n * Get explicit badge color classes for rounded-full badges\n * This provides complete styling for small badges including dark mode support\n * @param color - Color name (blue, green, orange)\n * @returns Explicit className string for badge styling\n */\nconst getBadgeColorClasses = (color: CIAComponentColor): string => {\n  switch (color) {\n    case \"blue\":\n      return \"bg-blue-50 text-blue-700 dark:bg-blue-900 dark:bg-opacity-50 dark:text-blue-300\";\n    case \"green\":\n      return \"bg-green-50 text-green-700 dark:bg-green-900 dark:bg-opacity-50 dark:text-green-300\";\n    case \"orange\":\n      return \"bg-orange-50 text-orange-700 dark:bg-orange-900 dark:bg-opacity-50 dark:text-orange-300\";\n    default: {\n      // Exhaustive check - TypeScript will error if new colors are added\n      const exhaustiveCheck: never = color;\n      throw new Error(`Unsupported color: ${String(exhaustiveCheck)}`);\n    }\n  }\n};\n\n/**\n * Reusable component for displaying business impact information\n * Used by various CIA impact widgets to provide consistent UI\n */\nconst BusinessImpactSection: React.FC<BusinessImpactSectionProps> = ({\n  impact,\n  color,\n  testId = \"business-impact-section\",\n}) => {\n  // Extract risk level from the impact financial or operational data\n  // Using the risk level in the UI\n  const riskLevelForDisplay =\n    impact.financial?.riskLevel || impact.operational?.riskLevel || \"Unknown\";\n\n  // Get explicit color classes for this color scheme\n  const bgClasses = getBackgroundColorClasses(color);\n  const textClasses = getTextColorClasses(color);\n  const badgeClasses = getBadgeColorClasses(color);\n\n  return (\n    <div\n      className=\"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border shadow-sm security-card\"\n      data-testid={testId}\n    >\n      <h4 className=\"text-md font-medium mb-3 flex items-center\">\n        <span className=\"mr-2\">üíº</span>\n        Business Impact\n        <span className=\"ml-2 text-sm text-gray-500\">\n          Risk: {riskLevelForDisplay}\n        </span>\n      </h4>\n\n      <p\n        className=\"text-gray-600 dark:text-gray-300 mb-4\"\n        data-testid={`${testId}-summary`}\n      >\n        {impact.summary || \"No business impact data available\"}\n      </p>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n        {/* Financial Impact */}\n        {impact.financial && (\n          <div\n            className={`p-2 rounded-md bg-opacity-10 dark:bg-opacity-20 border ${bgClasses}`}\n          >\n            <div className=\"flex items-center mb-2\">\n              <span className=\"mr-2\">üí∞</span>\n              <span className={`font-medium ${textClasses}`}>\n                Financial Impact\n              </span>\n            </div>\n            <p className=\"text-xs text-gray-700 dark:text-gray-300\">\n              {impact.financial.description ||\n                \"No financial impact information available\"}\n            </p>\n            {impact.financial.annualRevenueLoss && (\n              <p className=\"text-xs text-gray-700 dark:text-gray-300 mt-1\">\n                <span className=\"font-medium\">Annual Revenue Loss: </span>\n                {impact.financial.annualRevenueLoss}\n              </p>\n            )}\n          </div>\n        )}\n\n        {/* Operational Impact */}\n        {impact.operational && (\n          <div\n            className={`p-2 rounded-md bg-opacity-10 dark:bg-opacity-20 border ${bgClasses}`}\n          >\n            <div className=\"flex items-center mb-2\">\n              <span className=\"mr-2\">‚öôÔ∏è</span>\n              <span className={`font-medium ${textClasses}`}>\n                Operational Impact\n              </span>\n            </div>\n            <p className=\"text-xs text-gray-700 dark:text-gray-300\">\n              {impact.operational.description ||\n                \"No operational impact information available\"}\n            </p>\n            {impact.operational.meanTimeToRecover && (\n              <p className=\"text-xs text-gray-700 dark:text-gray-300 mt-1\">\n                <span className=\"font-medium\">Mean Time to Recover: </span>\n                {impact.operational.meanTimeToRecover}\n              </p>\n            )}\n          </div>\n        )}\n\n        {/* Reputational Impact */}\n        {impact.reputational && (\n          <div\n            className={`p-2 rounded-md bg-opacity-10 dark:bg-opacity-20 border ${bgClasses}`}\n          >\n            <div className=\"flex items-center mb-2\">\n              <span className=\"mr-2\">üèÜ</span>\n              <span className={`font-medium ${textClasses}`}>\n                Reputational Impact\n              </span>\n            </div>\n            <p className=\"text-xs text-gray-700 dark:text-gray-300\">\n              {impact.reputational.description ||\n                \"No reputational impact information available\"}\n            </p>\n            {impact.reputational.reputationalImpact && (\n              <p className=\"text-xs text-gray-700 dark:text-gray-300 mt-1\">\n                {impact.reputational.reputationalImpact}\n              </p>\n            )}\n          </div>\n        )}\n\n        {/* Strategic Impact */}\n        {impact.strategic && (\n          <div\n            className={`p-2 rounded-md bg-opacity-10 dark:bg-opacity-20 border ${bgClasses}`}\n          >\n            <div className=\"flex items-center mb-2\">\n              <span className=\"mr-2\">üéØ</span>\n              <span className={`font-medium ${textClasses}`}>\n                Strategic Impact\n              </span>\n            </div>\n            <p className=\"text-xs text-gray-700 dark:text-gray-300\">\n              {impact.strategic.description ||\n                \"No strategic impact information available\"}\n            </p>\n            {impact.strategic.competitiveAdvantage && (\n              <p className=\"text-xs text-gray-700 dark:text-gray-300 mt-1\">\n                <span className=\"font-medium\">Competitive Advantage: </span>\n                {impact.strategic.competitiveAdvantage}\n              </p>\n            )}\n          </div>\n        )}\n\n        {/* Regulatory Impact */}\n        {impact.regulatory && (\n          <div\n            className={`p-2 rounded-md bg-opacity-10 dark:bg-opacity-20 border ${bgClasses}`}\n          >\n            <div className=\"flex items-center mb-2\">\n              <span className=\"mr-2\">üìú</span>\n              <span className={`font-medium ${textClasses}`}>\n                Regulatory Impact\n              </span>\n            </div>\n            <p className=\"text-xs text-gray-700 dark:text-gray-300\">\n              {impact.regulatory.description ||\n                \"No regulatory impact information available\"}\n            </p>\n            {impact.regulatory.complianceImpact && (\n              <p className=\"text-xs text-gray-700 dark:text-gray-300 mt-1\">\n                {impact.regulatory.complianceImpact}\n              </p>\n            )}\n            {impact.regulatory.complianceViolations &&\n              impact.regulatory.complianceViolations.length > 0 && (\n                <div className=\"mt-1\">\n                  <span className=\"text-xs font-medium text-gray-700 dark:text-gray-300\">\n                    Potential Violations:{\" \"}\n                  </span>\n                  <div className=\"flex flex-wrap gap-1 mt-1\">\n                    {impact.regulatory.complianceViolations.map(\n                      (violation, index) => (\n                        <span\n                          key={index}\n                          className={`px-2 py-0.5 text-xs rounded-full ${badgeClasses}`}\n                        >\n                          {violation}\n                        </span>\n                      )\n                    )}\n                  </div>\n                </div>\n              )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default BusinessImpactSection;\n","import React, { ReactNode } from 'react';\nimport { TYPOGRAPHY, BORDER_RADIUS, SHADOWS } from '../../constants/designTokens';\n\ninterface MetricCardProps {\n  /** Metric label */\n  label: string;\n  /** Metric value */\n  value: string | number;\n  /** Optional unit (e.g., '%', '$') */\n  unit?: string;\n  /** Optional icon */\n  icon?: ReactNode;\n  /** Optional description/subtitle */\n  description?: string;\n  /** Optional color variant */\n  variant?: 'default' | 'primary' | 'success' | 'warning' | 'error' | 'info';\n  /** Test ID */\n  testId?: string;\n  /** Optional CSS class */\n  className?: string;\n  /** Optional aria-label for accessibility */\n  ariaLabel?: string;\n}\n\n/**\n * Reusable card component for displaying key metrics\n *\n * ## Business Perspective\n *\n * This component presents key security metrics in a consistent,\n * easy-to-scan format. Standardized metric cards help stakeholders\n * quickly understand critical security indicators. üìä\n *\n * @example\n * ```tsx\n * <MetricCard\n *   label=\"Uptime Target\"\n *   value=\"99.9\"\n *   unit=\"%\"\n *   icon=\"‚è±Ô∏è\"\n *   description=\"Expected system availability\"\n *   variant=\"success\"\n *   testId=\"uptime-metric\"\n * />\n * ```\n */\nexport const MetricCard: React.FC<MetricCardProps> = ({\n  label,\n  value,\n  unit,\n  icon,\n  description,\n  variant = 'default',\n  testId = 'metric-card',\n  className = '',\n  ariaLabel,\n}) => {\n  // Variant color classes for borders and backgrounds\n  const variantClasses = {\n    default: {\n      container: 'border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-800',\n      value: 'text-gray-800 dark:text-gray-200',\n      label: 'text-gray-700 dark:text-gray-300',\n      description: 'text-gray-600 dark:text-gray-400',\n    },\n    primary: {\n      container: 'border-primary-light dark:border-primary-dark bg-primary-light/10 dark:bg-primary-dark/20',\n      value: 'text-primary-dark dark:text-primary-light',\n      label: 'text-primary-dark dark:text-primary-light',\n      description: 'text-primary-dark/70 dark:text-primary-light/70',\n    },\n    success: {\n      container: 'border-green-300 dark:border-green-700 bg-green-50 dark:bg-green-900/20',\n      value: 'text-green-700 dark:text-green-300',\n      label: 'text-green-700 dark:text-green-300',\n      description: 'text-green-600 dark:text-green-400',\n    },\n    warning: {\n      container: 'border-yellow-300 dark:border-yellow-700 bg-yellow-50 dark:bg-yellow-900/20',\n      value: 'text-yellow-700 dark:text-yellow-300',\n      label: 'text-yellow-700 dark:text-yellow-300',\n      description: 'text-yellow-600 dark:text-yellow-400',\n    },\n    error: {\n      container: 'border-red-300 dark:border-red-700 bg-red-50 dark:bg-red-900/20',\n      value: 'text-red-700 dark:text-red-300',\n      label: 'text-red-700 dark:text-red-300',\n      description: 'text-red-600 dark:text-red-400',\n    },\n    info: {\n      container: 'border-blue-300 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20',\n      value: 'text-blue-700 dark:text-blue-300',\n      label: 'text-blue-700 dark:text-blue-300',\n      description: 'text-blue-600 dark:text-blue-400',\n    },\n  };\n\n  const colors = variantClasses[variant];\n\n  return (\n    <div\n      className={`p-4 border ${colors.container} ${className}`}\n      style={{\n        borderRadius: BORDER_RADIUS.md,\n        boxShadow: SHADOWS.sm,\n      }}\n      data-testid={testId}\n      aria-label={ariaLabel || `${label}: ${value}${unit || ''}`}\n    >\n      <div className={`flex items-center ${icon ? 'justify-between' : 'justify-end'} mb-2`}>\n        {icon && (\n          <span className=\"text-xl\" aria-hidden=\"true\">\n            {icon}\n          </span>\n        )}\n        <span\n          className={`text-2xl font-bold ${colors.value}`}\n          style={{ fontSize: TYPOGRAPHY.title }}\n          data-testid={`${testId}-value`}\n        >\n          {value}\n          {unit && <span className={unit.startsWith(' ') ? '' : 'ml-1'}>{unit}</span>}\n        </span>\n      </div>\n      <p\n        className={`text-sm font-medium mb-1 ${colors.label}`}\n        style={{ fontSize: TYPOGRAPHY.body }}\n        data-testid={`${testId}-label`}\n      >\n        {label}\n      </p>\n      {description && (\n        <p\n          className={`text-xs ${colors.description}`}\n          style={{ fontSize: TYPOGRAPHY.caption }}\n          data-testid={`${testId}-description`}\n        >\n          {description}\n        </p>\n      )}\n    </div>\n  );\n};\n\nexport default MetricCard;\n","import React, { ReactNode } from 'react';\nimport { SPACING, TYPOGRAPHY, BORDER_RADIUS, SHADOWS } from '../../constants/designTokens';\n\ninterface WidgetSectionProps {\n  /** Section title */\n  title: string;\n  /** Section content */\n  children: ReactNode;\n  /** Optional subtitle */\n  subtitle?: string;\n  /** Optional icon */\n  icon?: ReactNode;\n  /** Optional CSS class */\n  className?: string;\n  /** Test ID */\n  testId?: string;\n  /** Optional aria-labelledby for accessibility */\n  ariaLabelledBy?: string;\n  /** Section background color variant */\n  variant?: 'default' | 'primary' | 'success' | 'info' | 'warning' | 'error';\n}\n\n/**\n * Reusable section component for consistent widget layout\n *\n * ## Business Perspective\n *\n * This component provides a consistent section layout across all widgets,\n * improving readability and user experience when viewing security assessments.\n * Standardized sections help users quickly locate relevant information. üì¶\n *\n * @example\n * ```tsx\n * <WidgetSection\n *   title=\"Business Impact\"\n *   subtitle=\"Financial and operational impact analysis\"\n *   icon=\"üíº\"\n *   testId=\"business-impact-section\"\n * >\n *   <p>Section content here</p>\n * </WidgetSection>\n * ```\n */\nexport const WidgetSection: React.FC<WidgetSectionProps> = ({\n  title,\n  children,\n  subtitle,\n  icon,\n  className = '',\n  testId = 'widget-section',\n  ariaLabelledBy,\n  variant = 'default',\n}) => {\n  // Variant color classes for borders and backgrounds\n  const variantClasses = {\n    default: 'border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800',\n    primary: 'border-primary-light dark:border-primary-dark bg-primary-light/10 dark:bg-primary-dark/20',\n    success: 'border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/20',\n    info: 'border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-900/20',\n    warning: 'border-yellow-200 dark:border-yellow-800 bg-yellow-50 dark:bg-yellow-900/20',\n    error: 'border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/20',\n  };\n\n  // Generate unique heading ID to avoid circular reference\n  const headingId = ariaLabelledBy || `${testId}-heading`;\n\n  return (\n    <section\n      className={`border ${variantClasses[variant]} ${className}`}\n      style={{\n        padding: SPACING.md,\n        borderRadius: BORDER_RADIUS.md,\n        boxShadow: SHADOWS.sm,\n      }}\n      data-testid={testId}\n      aria-labelledby={headingId}\n    >\n      <div className=\"flex items-center gap-2 mb-4\">\n        {icon && <span aria-hidden=\"true\">{icon}</span>}\n        <h3\n          style={{ fontSize: TYPOGRAPHY.subheading }}\n          className=\"font-semibold text-gray-800 dark:text-gray-200\"\n          id={headingId}\n        >\n          {title}\n        </h3>\n      </div>\n      {subtitle && (\n        <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-4\">{subtitle}</p>\n      )}\n      <div>{children}</div>\n    </section>\n  );\n};\n\nexport default WidgetSection;\n","import React, { useMemo, useCallback } from \"react\";\nimport { WIDGET_ICONS, WIDGET_TITLES } from \"../../../constants/appConstants\";\nimport { \n  AVAILABILITY_IMPACT_TEST_IDS, \n  AVAILABILITY_IMPACT_WIDGET_IDS,\n  INTEGRITY_IMPACT_TEST_IDS,\n  INTEGRITY_IMPACT_WIDGET_IDS,\n  CONFIDENTIALITY_IMPACT_TEST_IDS,\n  CONFIDENTIALITY_IMPACT_WIDGET_IDS,\n} from \"../../../constants/testIds\";\nimport type { CIAComponentColor } from \"../../../types/componentPropExports\";\nimport { \n  getDefaultSLAMetrics,\n  getDefaultErrorRate,\n  getDefaultValidationLevel,\n  getDefaultPrivacyImpact,\n} from \"../../../data/ciaOptionsData\";\nimport { useBusinessImpact, useComponentDetails } from \"../../../hooks\";\nimport { useCIAContentService } from \"../../../hooks/useCIAContentService\";\nimport type { CIAComponent, SecurityLevel } from \"../../../types/cia\";\nimport type { ImpactWidgetProps } from \"../../../types/widget-props\";\nimport { getSecurityLevelBackgroundClass } from \"../../../utils/colorUtils\";\nimport { normalizeSecurityLevel } from \"../../../utils/securityLevelUtils\";\nimport { getWidgetAriaDescription } from \"../../../utils/accessibility\";\nimport { WidgetClasses, cn } from \"../../../utils/tailwindClassHelpers\";\nimport BusinessImpactSection from \"../../common/BusinessImpactSection\";\nimport MetricCard from \"../../common/MetricCard\";\nimport SecurityLevelBadge from \"../../common/SecurityLevelBadge\";\nimport WidgetContainer from \"../../common/WidgetContainer\";\nimport WidgetErrorBoundary from \"../../common/WidgetErrorBoundary\";\nimport WidgetSection from \"../../common/WidgetSection\";\n\n/**\n * Configuration for each CIA component type\n * \n * Defines component-specific settings including titles, icons, colors,\n * ARIA descriptions, and CSS classes for consistent rendering across\n * all three impact widgets.\n */\ninterface ComponentConfig {\n  titleKey: keyof typeof WIDGET_TITLES;\n  iconKey: keyof typeof WIDGET_ICONS;\n  defaultTitle: string;\n  defaultIcon: string;\n  color: CIAComponentColor;\n  textClass: string;\n  ariaDescription: string;\n  categoryLabel: string;\n  /** Container-specific CSS classes */\n  containerClassName: string;\n  /** Content area-specific CSS classes */\n  contentClassName: string;\n  /** Function to generate security badge testId */\n  getSecurityBadgeTestId: (effectiveTestId: string, widgetIds: typeof AVAILABILITY_IMPACT_WIDGET_IDS) => string;\n}\n\n/**\n * Retrieves the configuration used to render a specific CIA (Confidentiality, Integrity, Availability)\n * impact widget variant.\n *\n * Maps the provided {@link CIAComponent} to its corresponding {@link ComponentConfig}, which includes\n * titles, icons, colors, ARIA descriptions, layout classes, and test ID helpers for the widget UI.\n *\n * @param component - The CIA component type to configure. Supported values are\n * `\"availability\"`, `\"integrity\"`, and `\"confidentiality\"`. Any other value will cause an error\n * to be thrown to preserve exhaustive type checking.\n * @returns A {@link ComponentConfig} object containing all visual and accessibility settings for\n * the specified CIA component.\n *\n * @example\n * ```ts\n * // Get configuration for the availability impact widget\n * const availabilityConfig = getComponentConfig(\"availability\");\n *\n * console.log(availabilityConfig.defaultTitle);\n * // ‚Üí \"Availability Impact Analysis\"\n *\n * // Use the test ID helper to build a badge test ID\n * const badgeTestId = availabilityConfig.getSecurityBadgeTestId(\n *   \"availability-impact\",\n *   AVAILABILITY_IMPACT_WIDGET_IDS\n * );\n * ```\n */\nconst getComponentConfig = (component: CIAComponent): ComponentConfig => {\n  switch (component) {\n    case \"availability\":\n      return {\n        titleKey: \"AVAILABILITY_IMPACT\",\n        iconKey: \"AVAILABILITY_IMPACT\",\n        defaultTitle: \"Availability Impact Analysis\",\n        defaultIcon: \"‚è±Ô∏è\",\n        color: \"blue\",\n        textClass: \"text-blue-800 dark:text-blue-300\",\n        ariaDescription: \"Business impact of availability controls including uptime targets and recovery objectives\",\n        categoryLabel: \"Availability\",\n        containerClassName: \"cia-availability\",\n        contentClassName: \"cia-widget\",\n        getSecurityBadgeTestId: (_effectiveTestId, widgetIds) => widgetIds.label(\"security-level\"),\n      };\n    case \"integrity\":\n      return {\n        titleKey: \"INTEGRITY_IMPACT\",\n        iconKey: \"INTEGRITY_IMPACT\",\n        defaultTitle: \"Integrity Impact Analysis\",\n        defaultIcon: \"‚úì\",\n        color: \"green\",\n        textClass: \"text-green-800 dark:text-green-300\",\n        ariaDescription: \"Business impact of integrity controls including data accuracy and validation mechanisms\",\n        categoryLabel: \"Integrity\",\n        containerClassName: \"\",\n        contentClassName: \"\",\n        getSecurityBadgeTestId: (_effectiveTestId, widgetIds) => widgetIds.label(\"security-badge\"),\n      };\n    case \"confidentiality\":\n      return {\n        titleKey: \"CONFIDENTIALITY_IMPACT\",\n        iconKey: \"CONFIDENTIALITY_IMPACT\",\n        defaultTitle: \"Confidentiality Impact Analysis\",\n        defaultIcon: \"üîí\",\n        color: \"orange\",\n        textClass: \"text-orange-800 dark:text-orange-300\",\n        ariaDescription: \"Business impact of confidentiality controls including data classification and privacy measures\",\n        categoryLabel: \"Confidentiality\",\n        containerClassName: \"overflow-visible\",\n        contentClassName: \"max-h-[550px] overflow-y-auto pr-1\",\n        getSecurityBadgeTestId: (_effectiveTestId, widgetIds) => widgetIds.label(\"security-badge\"),\n      };\n    default: {\n      // Exhaustive check to ensure all CIAComponent values are handled\n      const exhaustiveCheck: never = component;\n      throw new Error(`Unsupported CIA component in ImpactWidget: ${String(exhaustiveCheck)}`);\n    }\n  }\n};\n\n/**\n * Resolves test ID configuration for a given CIA component.\n *\n * Maps the logical CIA component (`availability`, `integrity`, or `confidentiality`)\n * to the corresponding test ID prefix and widget-specific test ID constants.\n * This ensures that all impact widgets use a consistent and centrally managed\n * set of test IDs for automated testing and QA tooling.\n *\n * @param component - The CIA component type for which test IDs should be resolved.\n * @returns An object containing:\n * - `prefix`: The base test ID prefix for the selected CIA component.\n * - `widgetIds`: The collection of widget-specific test ID constants associated\n *   with the selected CIA component.\n *\n * @example\n * ```ts\n * // Get test ID configuration for the availability impact widget\n * const { prefix, widgetIds } = getTestIds(\"availability\");\n *\n * // Example usage when building a test ID for the security level badge\n * const securityBadgeTestId = `${prefix}${widgetIds.SECURITY_LEVEL_BADGE}`;\n * ```\n */\nconst getTestIds = (component: CIAComponent) => {\n  switch (component) {\n    case \"availability\":\n      return {\n        prefix: AVAILABILITY_IMPACT_TEST_IDS.AVAILABILITY_IMPACT_PREFIX,\n        widgetIds: AVAILABILITY_IMPACT_WIDGET_IDS,\n      };\n    case \"integrity\":\n      return {\n        prefix: INTEGRITY_IMPACT_TEST_IDS.INTEGRITY_IMPACT_PREFIX,\n        widgetIds: INTEGRITY_IMPACT_WIDGET_IDS,\n      };\n    case \"confidentiality\":\n      return {\n        prefix: CONFIDENTIALITY_IMPACT_TEST_IDS.CONFIDENTIALITY_IMPACT_PREFIX,\n        widgetIds: CONFIDENTIALITY_IMPACT_WIDGET_IDS,\n      };\n    default: {\n      // Exhaustive check to ensure all CIAComponent values are handled\n      const exhaustiveCheck: never = component;\n      throw new Error(`Unsupported CIA component in getTestIds: ${String(exhaustiveCheck)}`);\n    }\n  }\n};\n\n/**\n * Get border color class based on component color (explicit for Tailwind purging)\n * @param color - Color name (blue, green, orange)\n * @returns Explicit border color className string\n */\nconst getBorderColorClass = (color: CIAComponentColor): string => {\n  switch (color) {\n    case \"blue\": return \"border-blue-500\";\n    case \"green\": return \"border-green-500\";\n    case \"orange\": return \"border-orange-500\";\n    default: {\n      // Exhaustive check - TypeScript will error if new colors are added\n      const exhaustiveCheck: never = color;\n      throw new Error(`Unsupported color: ${String(exhaustiveCheck)}`);\n    }\n  }\n};\n\n/**\n * Shared widget component for displaying CIA component impact analysis\n * \n * ## Business Perspective\n * \n * This widget provides a unified interface for displaying the business impact\n * of security levels across all CIA triad components (Availability, Integrity,\n * Confidentiality). It helps stakeholders understand the practical implications\n * of their security choices through metrics, business impact analysis, and\n * technical details. üìä\n */\nconst ImpactWidget = React.memo<ImpactWidgetProps>(({\n  component,\n  level,\n  className = \"\",\n  testId,\n  showExtendedDetails = false,\n  onError,\n}) => {\n  // Get component-specific configuration (memoized for performance)\n  const config = useMemo(() => getComponentConfig(component), [component]);\n  const testIds = useMemo(() => getTestIds(component), [component]);\n  const effectiveTestId = testId || testIds.prefix;\n\n  // Use security level utility for consistent normalization\n  const effectiveLevel = useMemo(() => \n    normalizeSecurityLevel(level || \"Moderate\"), \n    [level]\n  );\n\n  // Get CIA content service for loading/error states\n  const { ciaContentService, error, isLoading } = useCIAContentService();\n\n  // Invoke error callback when service error occurs (memoized callback)\n  const handleError = useCallback((err: Error) => {\n    if (onError) {\n      onError(err);\n    }\n  }, [onError]);\n\n  React.useEffect(() => {\n    if (error) {\n      handleError(error);\n    }\n  }, [error, handleError]);\n\n  // Use custom hooks for data fetching\n  const details = useComponentDetails(component, effectiveLevel);\n  const businessImpact = useBusinessImpact(component, effectiveLevel);\n\n  // Get recommendations for extended details\n  const recommendations = useMemo(() => {\n    if (!showExtendedDetails || !ciaContentService) return [];\n    \n    try {\n      return ciaContentService.getRecommendations(component, effectiveLevel) || [];\n    } catch (err) {\n      console.error(`Error getting ${component} recommendations:`, err);\n      return [];\n    }\n  }, [showExtendedDetails, ciaContentService, component, effectiveLevel]);\n\n  // Get component-specific metrics\n  const metrics = useMemo(() => {\n    switch (component) {\n      case \"availability\": {\n        const defaultMetrics = getDefaultSLAMetrics(effectiveLevel);\n        return {\n          type: \"availability\" as const,\n          data: {\n            uptime: details?.uptime || defaultMetrics.uptime,\n            rto: details?.rto || defaultMetrics.rto,\n            rpo: details?.rpo || defaultMetrics.rpo,\n            mttr: details?.mttr || defaultMetrics.mttr,\n            sla: details?.sla || defaultMetrics.sla,\n          },\n        };\n      }\n      case \"integrity\":\n        return {\n          type: \"integrity\" as const,\n          data: {\n            validationLevel: details?.validationLevel || getDefaultValidationLevel(effectiveLevel),\n            errorRate: details?.errorRate || getDefaultErrorRate(effectiveLevel),\n          },\n        };\n      case \"confidentiality\": {\n        // Get data classification with proper error handling\n        let dataClassification: string;\n        if (ciaContentService) {\n          try {\n            dataClassification = ciaContentService.getInformationSensitivity(effectiveLevel);\n          } catch {\n            dataClassification = `${effectiveLevel} Classification`;\n          }\n        } else {\n          dataClassification = `${effectiveLevel} Classification`;\n        }\n\n        return {\n          type: \"confidentiality\" as const,\n          data: {\n            dataClassification,\n            privacyImpact: details?.privacyImpact || getDefaultPrivacyImpact(effectiveLevel),\n          },\n        };\n      }\n      default: {\n        // Exhaustive check to ensure all CIAComponent values are handled\n        const exhaustiveCheck: never = component;\n        throw new Error(`Unsupported CIA component in metrics calculation: ${String(exhaustiveCheck)}`);\n      }\n    }\n  }, [component, effectiveLevel, details, ciaContentService]);\n\n  return (\n    <WidgetErrorBoundary widgetName={`${config.categoryLabel} Impact`}>\n      <WidgetContainer\n        title={WIDGET_TITLES[config.titleKey] || config.defaultTitle}\n        icon={WIDGET_ICONS[config.iconKey] || config.defaultIcon}\n        className={`${className} ${config.containerClassName}`}\n        testId={effectiveTestId}\n        isLoading={isLoading}\n        error={error}\n      >\n        <div\n          className={cn(\n            \"p-sm sm:p-md border-l-4\",\n            getBorderColorClass(config.color),\n            config.contentClassName\n          )}\n          role=\"region\"\n          aria-label={getWidgetAriaDescription(config.defaultTitle, config.ariaDescription)}\n        >\n          {/* Security level indicator */}\n          <section\n            className=\"mb-md\"\n            aria-labelledby={`${component}-level-heading`}\n          >\n            <h3 id={`${component}-level-heading`} className=\"sr-only\">\n              Current {config.categoryLabel} Security Level\n            </h3>\n            <SecurityLevelBadge\n              category={config.categoryLabel}\n              level={effectiveLevel}\n              colorClass={getSecurityLevelBackgroundClass(config.color)}\n              textClass={config.textClass}\n              testId={config.getSecurityBadgeTestId(effectiveTestId, testIds.widgetIds)}\n            />\n          </section>\n\n          {/* Business Impact Analysis */}\n          {businessImpact && (\n            <section\n              className=\"mb-sm\"\n              aria-labelledby={`${component}-business-impact-heading`}\n            >\n              <h3 id={`${component}-business-impact-heading`} className={WidgetClasses.heading}>\n                Business Impact\n              </h3>\n              <BusinessImpactSection\n                impact={businessImpact}\n                color={config.color}\n                testId={testIds.widgetIds.section(\"business-impact\")}\n              />\n            </section>\n          )}\n\n          {/* Component-specific metrics */}\n          {metrics.type === \"availability\" && (\n            <WidgetSection\n              title=\"SLA Metrics\"\n              icon=\"‚è±Ô∏è\"\n              variant=\"info\"\n              className=\"mb-md\"\n              ariaLabelledBy=\"sla-metrics-heading\"\n              testId={testIds.widgetIds.section(\"sla-metrics\")}\n            >\n              <div\n                className={cn(WidgetClasses.grid3Cols, \"mb-md\")}\n                role=\"group\"\n                aria-label=\"Service level agreement metrics\"\n              >\n                <MetricCard\n                  label=\"Uptime Target\"\n                  value={metrics.data.uptime}\n                  icon=\"üìà\"\n                  description=\"Expected system availability\"\n                  variant=\"info\"\n                  testId={testIds.widgetIds.label(\"uptime\")}\n                />\n                <MetricCard\n                  label=\"Recovery Time Objective\"\n                  value={metrics.data.rto}\n                  icon=\"‚è±Ô∏è\"\n                  description=\"Time to restore service\"\n                  variant=\"info\"\n                  testId={testIds.widgetIds.label(\"rto\")}\n                />\n                <MetricCard\n                  label=\"Recovery Point Objective\"\n                  value={metrics.data.rpo}\n                  icon=\"üíæ\"\n                  description=\"Maximum data loss allowed\"\n                  variant=\"info\"\n                  testId={testIds.widgetIds.label(\"rpo\")}\n                />\n              </div>\n              <div className={WidgetClasses.grid2Cols}>\n                <MetricCard\n                  label=\"Service Level Agreement\"\n                  value={metrics.data.sla}\n                  icon=\"üìã\"\n                  description=\"Support coverage period\"\n                  variant=\"info\"\n                  testId={testIds.widgetIds.label(\"sla\")}\n                />\n              </div>\n            </WidgetSection>\n          )}\n\n          {metrics.type === \"integrity\" && (\n            <WidgetSection\n              title=\"Data Integrity Metrics\"\n              icon=\"üìä\"\n              variant=\"success\"\n              className=\"mb-md\"\n              testId={testIds.widgetIds.section(\"metrics\")}\n            >\n              <div className={WidgetClasses.grid2Cols}>\n                <MetricCard\n                  label=\"Data Validation Controls\"\n                  value={metrics.data.validationLevel}\n                  icon=\"‚úì\"\n                  variant=\"success\"\n                  testId={testIds.widgetIds.label(\"validation\")}\n                />\n                <MetricCard\n                  label=\"Acceptable Error Rate\"\n                  value={metrics.data.errorRate}\n                  icon=\"üìâ\"\n                  variant=\"success\"\n                  testId={testIds.widgetIds.label(\"error-rate\")}\n                />\n              </div>\n            </WidgetSection>\n          )}\n\n          {metrics.type === \"confidentiality\" && (\n            <>\n              <WidgetSection\n                title=\"Data Protection\"\n                icon=\"üìä\"\n                variant=\"primary\"\n                className=\"mb-lg\"\n                testId={testIds.widgetIds.section(\"data-protection\")}\n              >\n                <div className={WidgetClasses.grid2Cols}>\n                  <MetricCard\n                    label=\"Data Classification\"\n                    value={metrics.data.dataClassification}\n                    icon=\"üè∑Ô∏è\"\n                    description=\"Level of data sensitivity\"\n                    variant=\"primary\"\n                    testId={testIds.widgetIds.label(\"classification\")}\n                  />\n                </div>\n              </WidgetSection>\n\n              <WidgetSection\n                title=\"Privacy Impact\"\n                icon=\"üîí\"\n                variant=\"primary\"\n                className=\"mb-lg\"\n                testId={testIds.widgetIds.section(\"privacy-impact\")}\n              >\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-md\">\n                  <MetricCard\n                    label=\"Privacy Impact\"\n                    value={metrics.data.privacyImpact}\n                    icon=\"üõ°Ô∏è\"\n                    variant=\"primary\"\n                    testId={testIds.widgetIds.label(\"privacy\")}\n                  />\n                </div>\n              </WidgetSection>\n            </>\n          )}\n\n          {/* \n            Recommendations (visible only for integrity when showExtendedDetails is true)\n            Note: Only IntegrityImpactWidget supports recommendations in the original implementation.\n            This maintains backward compatibility with the existing API.\n          */}\n          {showExtendedDetails && component === \"integrity\" && recommendations.length > 0 && (\n            <div className=\"mt-md\">\n              <h3 className=\"text-lg font-medium mb-sm\">Recommendations</h3>\n              <ul className=\"list-disc pl-5 space-y-1\">\n                {recommendations.map((rec, index) => (\n                  <li\n                    key={index}\n                    className=\"text-sm text-gray-600 dark:text-gray-400\"\n                  >\n                    {rec}\n                  </li>\n                ))}\n              </ul>\n            </div>\n          )}\n        </div>\n      </WidgetContainer>\n    </WidgetErrorBoundary>\n  );\n});\n\n// Set display name for debugging\nImpactWidget.displayName = \"ImpactWidget\";\n\nexport default ImpactWidget;\n","import React from \"react\";\nimport type { AvailabilityImpactWidgetProps } from \"../../../types/widget-props\";\nimport { AVAILABILITY_IMPACT_TEST_IDS } from \"../../../constants/testIds\";\nimport ImpactWidget from \"./ImpactWidget\";\n\n/**\n * Widget that displays the impact of selected availability level\n *\n * ## Business Perspective\n *\n * This widget helps stakeholders understand the business impact of\n * availability controls, including uptime targets, recovery objectives,\n * and resilience requirements for business continuity. ‚è±Ô∏è\n */\nconst AvailabilityImpactWidget: React.FC<AvailabilityImpactWidgetProps> = ({\n  availabilityLevel,\n  integrityLevel: _integrityLevel,\n  confidentialityLevel: _confidentialityLevel,\n  showExtendedDetails = false,\n  className = \"\",\n  testId = `widget-${AVAILABILITY_IMPACT_TEST_IDS.AVAILABILITY_IMPACT_PREFIX}`,\n  onError,\n}) => {\n  return (\n    <ImpactWidget\n      component=\"availability\"\n      level={availabilityLevel}\n      className={className}\n      testId={testId}\n      showExtendedDetails={showExtendedDetails}\n      onError={onError}\n    />\n  );\n};\n\nexport default AvailabilityImpactWidget;\n","import React from \"react\";\nimport type { ConfidentialityImpactWidgetProps } from \"../../../types/widget-props\";\nimport { CONFIDENTIALITY_IMPACT_TEST_IDS } from \"../../../constants/testIds\";\nimport ImpactWidget from \"./ImpactWidget\";\n\n/**\n * Displays confidentiality impact details for the selected security level\n *\n * ## Business Perspective\n *\n * This widget helps stakeholders understand how confidentiality security levels\n * affect business operations through metrics like data classification, access controls,\n * and encryption methods. The visualization of these metrics supports better decision-making\n * about data protection requirements and privacy investments. üîí\n */\nconst ConfidentialityImpactWidget: React.FC<\n  ConfidentialityImpactWidgetProps\n> = ({\n  availabilityLevel: _availabilityLevel,\n  integrityLevel: _integrityLevel,\n  confidentialityLevel,\n  className = \"\",\n  testId = `widget-${CONFIDENTIALITY_IMPACT_TEST_IDS.CONFIDENTIALITY_IMPACT_PREFIX}`,\n  showExtendedDetails = false,\n  onError,\n}) => {\n  return (\n    <ImpactWidget\n      component=\"confidentiality\"\n      level={confidentialityLevel}\n      className={className}\n      testId={testId}\n      showExtendedDetails={showExtendedDetails}\n      onError={onError}\n    />\n  );\n};\n\nexport default ConfidentialityImpactWidget;\n","import React from \"react\";\nimport type { IntegrityImpactWidgetProps } from \"../../../types/widget-props\";\nimport { INTEGRITY_IMPACT_TEST_IDS } from \"../../../constants/testIds\";\nimport ImpactWidget from \"./ImpactWidget\";\n\n/**\n * Widget that displays the impact of selected integrity level\n *\n * ## Business Perspective\n *\n * This widget helps stakeholders understand the business impact of\n * integrity controls, including how data accuracy and validation\n * mechanisms protect business operations and decision-making. üìä\n */\nconst IntegrityImpactWidget: React.FC<IntegrityImpactWidgetProps> = ({\n  availabilityLevel: _availabilityLevel,\n  integrityLevel,\n  confidentialityLevel: _confidentialityLevel,\n  className = \"\",\n  testId = `widget-${INTEGRITY_IMPACT_TEST_IDS.INTEGRITY_IMPACT_PREFIX}`,\n  showExtendedDetails = false,\n  onError,\n}) => {\n  return (\n    <ImpactWidget\n      component=\"integrity\"\n      level={integrityLevel}\n      className={className}\n      testId={testId}\n      showExtendedDetails={showExtendedDetails}\n      onError={onError}\n    />\n  );\n};\n\nexport default IntegrityImpactWidget;\n"],"names":["useComponentDetails","component","level","ciaContentService","useCIAContentService","useMemo","isNullish","result","err","useBusinessImpact","getDefaultComponentImpact","useSecurityLevelState","initialLevels","levels","setLevels","useState","setLevel","useCallback","prev","resetLevels","defaultLevel","getLevel","useLocalStorage","key","initialValue","storedValue","setStoredValue","item","error","setValue","value","prevValue","valueToStore","useEffect","handleStorageChange","e","useKeyboardShortcuts","options","shortcuts","enabled","preventDefault","stopPropagation","shortcutsRef","useRef","optionsRef","handleKeyDown","event","areKeyboardShortcutsSupported","shouldIgnoreKeyboardEvent","keyCombination","getKeyCombination","matchingShortcut","shortcut","shortcutKeys","getPlatformShortcut","shortcutsMatch","logger","getBackgroundColorClasses","color","exhaustiveCheck","getTextColorClasses","getBadgeColorClasses","BusinessImpactSection","impact","testId","riskLevelForDisplay","bgClasses","textClasses","badgeClasses","jsxs","jsx","violation","index","MetricCard","label","unit","icon","description","variant","className","ariaLabel","colors","BORDER_RADIUS","SHADOWS","TYPOGRAPHY","WidgetSection","title","children","subtitle","ariaLabelledBy","variantClasses","headingId","SPACING","getComponentConfig","_effectiveTestId","widgetIds","getTestIds","AVAILABILITY_IMPACT_TEST_IDS","AVAILABILITY_IMPACT_WIDGET_IDS","INTEGRITY_IMPACT_TEST_IDS","INTEGRITY_IMPACT_WIDGET_IDS","CONFIDENTIALITY_IMPACT_TEST_IDS","CONFIDENTIALITY_IMPACT_WIDGET_IDS","getBorderColorClass","ImpactWidget","React","showExtendedDetails","onError","config","testIds","effectiveTestId","effectiveLevel","normalizeSecurityLevel","isLoading","handleError","details","businessImpact","recommendations","metrics","defaultMetrics","getDefaultSLAMetrics","getDefaultValidationLevel","getDefaultErrorRate","dataClassification","getDefaultPrivacyImpact","WidgetErrorBoundary","WidgetContainer","WIDGET_TITLES","WIDGET_ICONS","cn","getWidgetAriaDescription","SecurityLevelBadge","getSecurityLevelBackgroundClass","WidgetClasses","Fragment","rec","AvailabilityImpactWidget","availabilityLevel","_integrityLevel","_confidentialityLevel","ConfidentialityImpactWidget","_availabilityLevel","confidentialityLevel","IntegrityImpactWidget","integrityLevel"],"mappings":"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"}