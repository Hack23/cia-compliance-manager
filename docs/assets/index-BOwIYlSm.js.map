{"version":3,"mappings":"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","names":["SecurityLevelWidget","availabilityLevel","integrityLevel","confidentialityLevel","onAvailabilityChange","onIntegrityChange","onConfidentialityChange","className","testId","ciaContentService","useCIAContentService","serviceError","setServiceError","useState","isLoading","setIsLoading","activeComponent","setActiveComponent","error","setError","activeDetails","setActiveDetails","lastChangedComponent","setLastChangedComponent","useEffect","selectedLevel","details","err","handleAvailabilityChange","useCallback","event","newLevel","announceToScreenReader","handleIntegrityChange","handleConfidentialityChange","securityLevelOptions","SECURITY_LEVELS","getComponentSummary","component","level","getComponentColor","jsx","WidgetErrorBoundary","WidgetContainer","WIDGET_TITLES","WIDGET_ICONS","jsxs","getWidgetAriaDescription","cn","WidgetClasses","SECURITY_LEVEL_WIDGET_IDS","CIA_COMPONENT_ICONS","SecurityLevelBadge","CIA_TEST_IDS","SIZE_CLASSES","ShortcutBadge","React","shortcut","size","platformSpecific","platform","detectPlatform","keys","splitShortcutKeys","KEYBOARD_TEST_IDS","key","index","KeyboardShortcutContext","createContext","KeyboardShortcutProvider","children","initialShortcuts","defaultEnabled","shortcuts","setShortcuts","isEnabled","setIsEnabled","showHelp","setShowHelp","registerShortcut","logger","prev","unregisterShortcut","id","removed","rest","setEnabledCallback","enabled","setShowHelpCallback","show","contextValue","useMemo","useKeyboardShortcutContext","context","useContext","KeyboardShortcutHelp","isOpen","onClose","providedShortcuts","groupedShortcuts","groups","category","handleEscape","e","cleanup","rafId","modal","focusableElements","firstElement","lastElement","handleTab","categoryShortcuts","SHORTCUT_CATEGORY_LABELS","LoadingSkeleton","lines","variant","baseClasses","skeletonClasses","variantConfigs","classes","Fragment","_","i","config","spaceClassMap","spaceClass","BusinessImpactAnalysisWidget","lazy","__vitePreload","SecuritySummaryWidget","ComplianceStatusWidget","CostEstimationWidget","ValueCreationWidget","AvailabilityImpactWidget","ConfidentialityImpactWidget","IntegrityImpactWidget","SecurityResourcesWidget","SecurityVisualizationWidget","TechnicalDetailsWidget","CIAClassificationApp","appVersion","defaultLevels","savedLevels","setSavedLevels","useLocalStorage","levels","setLevel","useSecurityLevelState","defaultDarkMode","darkMode","setDarkMode","toggleDarkMode","handleWidgetError","errorInfo","KEYBOARD_SHORTCUTS","useKeyboardShortcuts","APP_TEST_IDS","UI_TEXT","Suspense","ErrorService","severity","logEntry","isServiceError","ServiceErrorCode","field","isNetworkError","statusCode","isRetryableError","retryAfter","msg","isValidationError","includeDetails","userMessage","errorService","getPositionClasses","position","ErrorToast","message","title","isVisible","onDismiss","autoHideDuration","retry","isAnimatingOut","setIsAnimatingOut","handleDismiss","timer","positionClasses","ErrorContext","ErrorProvider","maxErrors","defaultToastPosition","defaultAutoHideDuration","errors","setErrors","toastConfig","setToastConfig","isToastVisible","setIsToastVisible","generateErrorId","addError","errorEntry","prevErrors","clearError","clearAllErrors","showToast","hideToast","getLatestError","App","root","ReactDOM"],"ignoreList":[],"sources":["../../src/components/widgets/assessmentcenter/SecurityLevelWidget.tsx","../../src/components/common/ShortcutBadge.tsx","../../src/contexts/KeyboardShortcutContext.tsx","../../src/components/common/KeyboardShortcutHelp.tsx","../../src/components/common/LoadingSkeleton.tsx","../../src/application/CIAClassificationApp.tsx","../../src/services/errorService.ts","../../src/components/common/ErrorToast.tsx","../../src/contexts/ErrorContext.tsx","../../src/App.tsx","../../src/index.tsx"],"sourcesContent":["import React, { useCallback, useEffect, useState } from \"react\";\nimport {\n  SECURITY_LEVELS,\n  WIDGET_ICONS,\n  WIDGET_TITLES,\n} from \"../../../constants/appConstants\";\nimport { CIA_COMPONENT_ICONS } from \"../../../constants/uiConstants\";\nimport { SECURITY_LEVEL_WIDGET_IDS, CIA_TEST_IDS } from \"../../../constants/testIds\";\nimport { useCIAContentService } from \"../../../hooks/useCIAContentService\";\nimport { SecurityLevel } from \"../../../types/cia\";\nimport { CIADetails } from \"../../../types/cia-services\";\nimport { SecurityLevelWidgetProps } from \"../../../types/widget-props\";\nimport { \n  getWidgetAriaDescription,\n  announceToScreenReader \n} from \"../../../utils/accessibility\";\nimport { WidgetClasses, cn } from \"../../../utils/tailwindClassHelpers\";\nimport SecurityLevelBadge from \"../../common/SecurityLevelBadge\";\nimport WidgetContainer from \"../../common/WidgetContainer\";\nimport WidgetErrorBoundary from \"../../common/WidgetErrorBoundary\";\n\n/**\n * Widget for configuring CIA triad security levels\n *\n * ## Business Perspective\n *\n * This widget serves as the primary control center for security officers to\n * configure their organization's security posture across the CIA triad. It\n * provides clear descriptions of each security level to help users make\n * informed decisions about their security requirements. ðŸ”’\n *\n * ## Security Perspective\n *\n * Enables fine-grained control over each CIA component, with detailed\n * explanations of security implications for each level. Helps security\n * teams implement appropriate controls based on organizational needs.\n *\n * ## Architecture Perspective\n *\n * Provides technical implementation details for each security level,\n * helping system architects understand what controls and mechanisms\n * need to be implemented to achieve the selected security levels.\n */\nconst SecurityLevelWidget: React.FC<SecurityLevelWidgetProps> = ({\n  availabilityLevel,\n  integrityLevel,\n  confidentialityLevel,\n  onAvailabilityChange,\n  onIntegrityChange,\n  onConfidentialityChange,\n  className = \"\",\n  testId = \"security-level-widget\",\n}) => {\n  // Use the content service for security level details\n  const { ciaContentService } = useCIAContentService();\n\n  // Define local state for error and loading\n  const [serviceError, setServiceError] = useState<Error | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  // Track which component is active for details display\n  const [activeComponent, setActiveComponent] = useState<\n    \"availability\" | \"integrity\" | \"confidentiality\"\n  >(\"availability\");\n\n  // Add error state\n  const [error, setError] = useState<Error | null>(null);\n  const [activeDetails, setActiveDetails] = useState<CIADetails | null>(null);\n\n  // Track the last changed component for visual feedback\n  const [lastChangedComponent, setLastChangedComponent] = useState<\n    \"availability\" | \"integrity\" | \"confidentiality\" | null\n  >(null);\n\n  // Get details for the active component with error handling\n  useEffect(() => {\n    setIsLoading(true);\n    try {\n      if (!ciaContentService) {\n        throw new Error(\"Content service unavailable\");\n      }\n\n      const selectedLevel =\n        activeComponent === \"availability\"\n          ? availabilityLevel\n          : activeComponent === \"integrity\"\n          ? integrityLevel\n          : confidentialityLevel;\n\n      const details = ciaContentService.getComponentDetails(\n        activeComponent,\n        selectedLevel\n      ) || {\n        description: \"No details available\",\n        technical: \"No technical information available\",\n        businessImpact: \"No business impact information available\",\n        recommendations: [],\n      };\n\n      setActiveDetails(details);\n      setError(null);\n      setServiceError(null);\n    } catch (err) {\n      console.error(\"Error loading component details:\", err);\n      setError(\n        err instanceof Error\n          ? err\n          : new Error(\"Failed to load component details\")\n      );\n      setServiceError(err instanceof Error ? err : new Error(\"Service error\"));\n    } finally {\n      setIsLoading(false);\n    }\n  }, [\n    ciaContentService,\n    activeComponent,\n    availabilityLevel,\n    integrityLevel,\n    confidentialityLevel,\n  ]);\n\n  // Create handler functions that call the prop handlers\n  const handleAvailabilityChange = useCallback(\n    (event: React.ChangeEvent<HTMLSelectElement>) => {\n      const newLevel = event.target.value as SecurityLevel;\n      if (onAvailabilityChange) onAvailabilityChange(newLevel);\n      setLastChangedComponent(\"availability\");\n      // Announce change to screen readers\n      announceToScreenReader(`Availability security level changed to ${newLevel}`, 'polite');\n    },\n    [onAvailabilityChange]\n  );\n\n  const handleIntegrityChange = useCallback(\n    (event: React.ChangeEvent<HTMLSelectElement>) => {\n      const newLevel = event.target.value as SecurityLevel;\n      if (onIntegrityChange) onIntegrityChange(newLevel);\n      setLastChangedComponent(\"integrity\");\n      // Announce change to screen readers\n      announceToScreenReader(`Integrity security level changed to ${newLevel}`, 'polite');\n    },\n    [onIntegrityChange]\n  );\n\n  const handleConfidentialityChange = useCallback(\n    (event: React.ChangeEvent<HTMLSelectElement>) => {\n      const newLevel = event.target.value as SecurityLevel;\n      if (onConfidentialityChange) onConfidentialityChange(newLevel);\n      setLastChangedComponent(\"confidentiality\");\n      // Announce change to screen readers\n      announceToScreenReader(`Confidentiality security level changed to ${newLevel}`, 'polite');\n    },\n    [onConfidentialityChange]\n  );\n\n  // Get security level options\n  const securityLevelOptions = [\n    SECURITY_LEVELS.NONE,\n    SECURITY_LEVELS.LOW,\n    SECURITY_LEVELS.MODERATE,\n    SECURITY_LEVELS.HIGH,\n    SECURITY_LEVELS.VERY_HIGH,\n  ];\n\n  // Helper function to get component-specific summary\n  const getComponentSummary = (\n    component: string,\n    level: SecurityLevel\n  ): string => {\n    switch (component) {\n      case \"availability\":\n        if (level === \"None\") return \"No uptime guarantees\";\n        if (level === \"Low\") return \"~95% uptime, 24-48h recovery\";\n        if (level === \"Moderate\") return \"~99% uptime, 4-8h recovery\";\n        if (level === \"High\") return \"~99.9% uptime, 15-60min recovery\";\n        if (level === \"Very High\") return \"~99.99% uptime, <5min recovery\";\n        return \"\";\n\n      case \"integrity\":\n        if (level === \"None\") return \"No validation controls\";\n        if (level === \"Low\") return \"Manual validation with basic checks\";\n        if (level === \"Moderate\") return \"Automated validation with checks\";\n        if (level === \"High\") return \"Cryptographic verification\";\n        if (level === \"Very High\") return \"Blockchain validation\";\n        return \"\";\n\n      case \"confidentiality\":\n        if (level === \"None\") return \"No access controls\";\n        if (level === \"Low\") return \"Basic access control\";\n        if (level === \"Moderate\") return \"RBAC with encryption\";\n        if (level === \"High\") return \"E2E encryption with MFA\";\n        if (level === \"Very High\") return \"Zero-trust architecture\";\n        return \"\";\n\n      default:\n        return \"No details available\";\n    }\n  };\n\n  // Get color class for component - Use standardized utility\n  const getComponentColor = (component: string): string => {\n    switch (component) {\n      case \"availability\":\n        return \"text-blue-600 dark:text-blue-400\";\n      case \"integrity\":\n        return \"text-green-600 dark:text-green-400\";\n      case \"confidentiality\":\n        return \"text-purple-600 dark:text-purple-400\";\n      default:\n        return \"text-gray-600 dark:text-gray-400\";\n    }\n  };\n\n  return (\n    <WidgetErrorBoundary widgetName=\"Security Level\">\n      <WidgetContainer\n        title={WIDGET_TITLES.SECURITY_LEVEL}\n        icon={WIDGET_ICONS.SECURITY_LEVEL}\n        className={className}\n        testId={testId}\n      >\n      <div \n        className=\"p-md sm:p-lg\"\n        role=\"region\"\n        aria-label={getWidgetAriaDescription(\n          \"Security Level Configuration\",\n          \"Configure security levels for each CIA component to set your organization's security posture\"\n        )}\n      >\n        <div className={cn(\n          WidgetClasses.section,\n          \"p-md rounded-md\",\n          \"bg-info-light/10 dark:bg-info-dark/20\"\n        )}>\n          <p className={WidgetClasses.body}>\n            Configure security levels for each CIA component to set your\n            organization's security posture. Higher levels provide stronger\n            protection but may require more resources to implement.\n          </p>\n        </div>\n\n        {/* Display error message if there's an error */}\n        {(error || serviceError) && (\n          <div className={cn(\n            WidgetClasses.card,\n            \"mb-md bg-error-light/10 dark:bg-error-dark/20 text-error-dark dark:text-error-light shadow-none\"\n          )}>\n            <h4 className=\"font-medium\">Error</h4>\n            <p className={WidgetClasses.body}>\n              Unable to load component details. Please try again later.\n            </p>\n          </div>\n        )}\n\n        {/* Display loading state */}\n        {isLoading && (\n          <div className={cn(\n            WidgetClasses.card,\n            WidgetClasses.loading,\n            \"mb-md bg-info-light/10 dark:bg-info-dark/20 text-info-dark dark:text-info-light shadow-none\"\n          )}>\n            <p className={WidgetClasses.body}>Loading security level details...</p>\n          </div>\n        )}\n\n        <div className={WidgetClasses.grid2Cols}>\n          {/* Security level selectors */}\n          <div>\n            <h3 className={WidgetClasses.heading}>\n              Configure Security Levels\n            </h3>\n\n            <div className=\"space-y-md\">\n              {/* Confidentiality selector */}\n              <div\n                className={cn(\n                  WidgetClasses.card,\n                  \"bg-neutral-light/10 dark:bg-neutral-dark/20\"\n                )}\n                data-testid={SECURITY_LEVEL_WIDGET_IDS.section('confidentiality')}\n              >\n                <div className=\"flex justify-between items-center mb-sm\">\n                  <label\n                    htmlFor=\"confidentiality-select\"\n                    className={cn(WidgetClasses.body, \"font-medium flex items-center\")}\n                  >\n                    <span className=\"text-purple-500 dark:text-purple-400 mr-sm\">\n                      {CIA_COMPONENT_ICONS.confidentiality}\n                    </span>\n                    Confidentiality\n                  </label>\n                  <SecurityLevelBadge\n                    category=\"\"\n                    level={confidentialityLevel}\n                    colorClass=\"bg-purple-100 dark:bg-purple-900 dark:bg-opacity-20\"\n                    textClass=\"text-purple-800 dark:text-purple-300\"\n                    testId=\"security-level-widget-confidentiality-badge\"\n                  />\n                </div>\n\n                <select\n                  id=\"confidentiality-select\"\n                  className={cn(\n                    \"w-full p-sm border rounded-md bg-white dark:bg-gray-700 dark:border-gray-600 transition-all duration-normal hover:border-purple-400\",\n                    WidgetClasses.focusVisible\n                  )}\n                  value={confidentialityLevel}\n                  onChange={handleConfidentialityChange}\n                  data-testid={CIA_TEST_IDS.CONFIDENTIALITY_SELECT}\n                >\n                  {securityLevelOptions.map((level) => (\n                    <option key={`confidentiality-${level}`} value={level}>\n                      {level}\n                    </option>\n                  ))}\n                </select>\n\n                <div\n                  className={cn(WidgetClasses.labelNormal, \"mt-sm\")}\n                  data-testid={SECURITY_LEVEL_WIDGET_IDS.label('confidentiality-summary')}\n                >\n                  {confidentialityLevel}:{\" \"}\n                  {getComponentSummary(\"confidentiality\", confidentialityLevel)}\n                </div>\n\n                <button\n                  className={cn(\n                    WidgetClasses.buttonPrimary,\n                    \"mt-sm min-h-[44px] min-w-[44px]\"\n                  )}\n                  onClick={() => setActiveComponent(\"confidentiality\")}\n                  data-testid={SECURITY_LEVEL_WIDGET_IDS.button('confidentiality-details')}\n                >\n                  View details\n                </button>\n\n                {lastChangedComponent === \"confidentiality\" && (\n                  <div\n                    className={cn(WidgetClasses.labelNormal, \"mt-sm text-green-600 dark:text-green-400 animate-pulse\")}\n                    data-testid={SECURITY_LEVEL_WIDGET_IDS.label('confidentiality-changed')}\n                  >\n                    âœ“ Security level updated\n                  </div>\n                )}\n              </div>\n\n              {/* Integrity selector */}\n              <div\n                className=\"p-md bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700\"\n                data-testid={SECURITY_LEVEL_WIDGET_IDS.section('integrity')}\n              >\n                <div className=\"flex justify-between items-center mb-sm\">\n                  <label\n                    htmlFor=\"integrity-select\"\n                    className=\"text-sm font-medium flex items-center\"\n                  >\n                    <span className=\"text-green-500 dark:text-green-400 mr-sm\">\n                      {CIA_COMPONENT_ICONS.integrity}\n                    </span>\n                    Integrity\n                  </label>\n                  <SecurityLevelBadge\n                    category=\"\"\n                    level={integrityLevel}\n                    colorClass=\"bg-green-100 dark:bg-green-900 dark:bg-opacity-20\"\n                    textClass=\"text-green-800 dark:text-green-300\"\n                    testId=\"security-level-widget-integrity-badge\"\n                  />\n                </div>\n\n                <select\n                  id=\"integrity-select\"\n                  className=\"w-full p-sm border rounded-md bg-white dark:bg-gray-700 dark:border-gray-600 transition-all duration-300 hover:border-green-400 focus:border-green-500 focus:ring-2 focus:ring-green-200\"\n                  value={integrityLevel}\n                  onChange={handleIntegrityChange}\n                  data-testid={CIA_TEST_IDS.INTEGRITY_SELECT}\n                >\n                  {securityLevelOptions.map((level) => (\n                    <option key={`integrity-${level}`} value={level}>\n                      {level}\n                    </option>\n                  ))}\n                </select>\n\n                <div\n                  className=\"mt-sm text-xs text-gray-600 dark:text-gray-400\"\n                  data-testid={SECURITY_LEVEL_WIDGET_IDS.label('integrity-summary')}\n                >\n                  {integrityLevel}:{\" \"}\n                  {getComponentSummary(\"integrity\", integrityLevel)}\n                </div>\n\n                <button\n                  className=\"mt-sm px-4 py-3 sm:px-3 sm:py-2 text-sm sm:text-xs min-h-[44px] min-w-[44px] bg-green-600 text-white rounded hover:bg-green-700 dark:bg-green-700 dark:hover:bg-green-600 transition-colors\"\n                  onClick={() => setActiveComponent(\"integrity\")}\n                  data-testid={SECURITY_LEVEL_WIDGET_IDS.button('integrity-details')}\n                >\n                  View details\n                </button>\n\n                {lastChangedComponent === \"integrity\" && (\n                  <div\n                    className=\"mt-sm text-xs text-green-600 dark:text-green-400 animate-pulse\"\n                    data-testid={SECURITY_LEVEL_WIDGET_IDS.label('integrity-changed')}\n                  >\n                    âœ“ Security level updated\n                  </div>\n                )}\n              </div>\n\n              {/* Availability selector */}\n              <div\n                className=\"p-md bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700\"\n                data-testid={SECURITY_LEVEL_WIDGET_IDS.section('availability')}\n              >\n                <div className=\"flex justify-between items-center mb-sm\">\n                  <label\n                    htmlFor=\"availability-select\"\n                    className=\"text-sm font-medium flex items-center\"\n                  >\n                    <span className=\"text-blue-500 dark:text-blue-400 mr-sm\">\n                      {CIA_COMPONENT_ICONS.availability}\n                    </span>\n                    Availability\n                  </label>\n                  <SecurityLevelBadge\n                    category=\"\"\n                    level={availabilityLevel}\n                    colorClass=\"bg-blue-100 dark:bg-blue-900 dark:bg-opacity-20\"\n                    textClass=\"text-blue-800 dark:text-blue-300\"\n                    testId=\"security-level-widget-availability-badge\"\n                  />\n                </div>\n\n                <select\n                  id=\"availability-select\"\n                  className=\"w-full p-sm border rounded-md bg-white dark:bg-gray-700 dark:border-gray-600 transition-all duration-300 hover:border-blue-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-200\"\n                  value={availabilityLevel}\n                  onChange={handleAvailabilityChange}\n                  data-testid={CIA_TEST_IDS.AVAILABILITY_SELECT}\n                >\n                  {securityLevelOptions.map((level) => (\n                    <option key={`availability-${level}`} value={level}>\n                      {level}\n                    </option>\n                  ))}\n                </select>\n\n                <div\n                  className=\"mt-sm text-xs text-gray-600 dark:text-gray-400\"\n                  data-testid={SECURITY_LEVEL_WIDGET_IDS.label('availability-summary')}\n                >\n                  {availabilityLevel}:{\" \"}\n                  {getComponentSummary(\"availability\", availabilityLevel)}\n                </div>\n\n                <button\n                  className=\"mt-sm px-4 py-3 sm:px-3 sm:py-2 text-sm sm:text-xs min-h-[44px] min-w-[44px] bg-blue-600 text-white rounded hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-600 transition-colors\"\n                  onClick={() => setActiveComponent(\"availability\")}\n                  data-testid={SECURITY_LEVEL_WIDGET_IDS.button('availability-details')}\n                >\n                  View details\n                </button>\n\n                {lastChangedComponent === \"availability\" && (\n                  <div\n                    className=\"mt-sm text-xs text-green-600 dark:text-green-400 animate-pulse\"\n                    data-testid={SECURITY_LEVEL_WIDGET_IDS.label('availability-changed')}\n                  >\n                    âœ“ Security level updated\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n\n          {/* Security level details */}\n          <div>\n            <h3 className=\"text-base sm:text-lg font-medium mb-md\">\n              {activeComponent.charAt(0).toUpperCase() +\n                activeComponent.slice(1)}{\" \"}\n              Details\n            </h3>\n\n            <div\n              className=\"p-md bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 h-full\"\n              data-testid={`${activeComponent}-details-content`}\n            >\n              {activeDetails ? (\n                <div className=\"space-y-4\">\n                  <h4\n                    className={`font-medium ${getComponentColor(\n                      activeComponent\n                    )}`}\n                  >\n                    {activeComponent === \"availability\"\n                      ? availabilityLevel\n                      : activeComponent === \"integrity\"\n                      ? integrityLevel\n                      : confidentialityLevel}{\" \"}\n                    Level\n                  </h4>\n\n                  <div className=\"space-y-3\">\n                    {/* Description */}\n                    <div>\n                      <h5 className=\"text-sm font-medium mb-xs\">Description</h5>\n                      <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                        {activeDetails.description ||\n                          \"No description available\"}\n                      </p>\n                    </div>\n\n                    {/* Technical implementation */}\n                    <div>\n                      <h5 className=\"text-sm font-medium mb-xs\">\n                        Technical Implementation\n                      </h5>\n                      <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                        {activeDetails.technical ||\n                          \"No technical details available\"}\n                      </p>\n                    </div>\n\n                    {/* Business impact */}\n                    <div>\n                      <h5 className=\"text-sm font-medium mb-xs\">\n                        Business Impact\n                      </h5>\n                      <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                        {activeDetails.businessImpact ||\n                          \"No business impact details available\"}\n                      </p>\n                    </div>\n\n                    {/* Component-specific details */}\n                    {activeComponent === \"availability\" && (\n                      <div className=\"mt-md grid grid-cols-2 gap-md\">\n                        <div className=\"bg-blue-50 dark:bg-blue-900 dark:bg-opacity-20 p-sm rounded\">\n                          <div className=\"text-xs font-medium mb-xs text-blue-700 dark:text-blue-300\">\n                            Uptime\n                          </div>\n                          <div className=\"text-sm\">\n                            {activeDetails.uptime || \"N/A\"}\n                          </div>\n                        </div>\n                        <div className=\"bg-blue-50 dark:bg-blue-900 dark:bg-opacity-20 p-sm rounded\">\n                          <div className=\"text-xs font-medium mb-xs text-blue-700 dark:text-blue-300\">\n                            Recovery Time\n                          </div>\n                          <div className=\"text-sm\">\n                            {activeDetails.rto || \"N/A\"}\n                          </div>\n                        </div>\n                      </div>\n                    )}\n\n                    {activeComponent === \"integrity\" &&\n                      activeDetails.validationMethod && (\n                        <div className=\"mt-md bg-green-50 dark:bg-green-900 dark:bg-opacity-20 p-sm rounded\">\n                          <div className=\"text-xs font-medium mb-xs text-green-700 dark:text-green-300\">\n                            Validation Method\n                          </div>\n                          <div className=\"text-sm\">\n                            {activeDetails.validationMethod}\n                          </div>\n                        </div>\n                      )}\n\n                    {activeComponent === \"confidentiality\" &&\n                      activeDetails.protectionMethod && (\n                        <div className=\"mt-md bg-purple-50 dark:bg-purple-900 dark:bg-opacity-20 p-sm rounded\">\n                          <div className=\"text-xs font-medium mb-xs text-purple-700 dark:text-purple-300\">\n                            Protection Method\n                          </div>\n                          <div className=\"text-sm\">\n                            {activeDetails.protectionMethod}\n                          </div>\n                        </div>\n                      )}\n                  </div>\n                </div>\n              ) : (\n                <div className=\"text-center text-gray-500 dark:text-gray-400 py-8\">\n                  <p>No details available for this security level.</p>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Security level overview */}\n        <div className=\"mt-lg bg-gray-100 dark:bg-gray-800 p-md rounded-lg\">\n          <h3 className=\"text-md font-medium mb-sm\">Security Level Overview</h3>\n          <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-md\">\n            Higher security levels provide stronger protection but typically\n            require more resources to implement and maintain. Consider your\n            organization's needs and constraints when selecting security levels.\n          </p>\n\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-sm text-xs\">\n            <div className=\"p-sm bg-red-50 dark:bg-red-900 dark:bg-opacity-20 rounded\">\n              <div className=\"font-medium text-red-700 dark:text-red-300\">\n                None\n              </div>\n              <div className=\"text-red-600 dark:text-red-400\">\n                Minimal to no security controls\n              </div>\n            </div>\n            <div className=\"p-sm bg-yellow-50 dark:bg-yellow-900 dark:bg-opacity-20 rounded\">\n              <div className=\"font-medium text-yellow-700 dark:text-yellow-300\">\n                Low\n              </div>\n              <div className=\"text-yellow-600 dark:text-yellow-400\">\n                Basic security controls\n              </div>\n            </div>\n            <div className=\"p-sm bg-blue-50 dark:bg-blue-900 dark:bg-opacity-20 rounded\">\n              <div className=\"font-medium text-blue-700 dark:text-blue-300\">\n                Moderate\n              </div>\n              <div className=\"text-blue-600 dark:text-blue-400\">\n                Standard security controls\n              </div>\n            </div>\n            <div className=\"p-sm bg-green-50 dark:bg-green-900 dark:bg-opacity-20 rounded\">\n              <div className=\"font-medium text-green-700 dark:text-green-300\">\n                High\n              </div>\n              <div className=\"text-green-600 dark:text-green-400\">\n                Advanced security controls\n              </div>\n            </div>\n            <div className=\"p-sm bg-purple-50 dark:bg-purple-900 dark:bg-opacity-20 rounded\">\n              <div className=\"font-medium text-purple-700 dark:text-purple-300\">\n                Very High\n              </div>\n              <div className=\"text-purple-600 dark:text-purple-400\">\n                Maximum security controls\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </WidgetContainer>\n    </WidgetErrorBoundary>\n  );\n};\n\n// Export the component directly without HOC\nexport default SecurityLevelWidget;\n","/**\n * ShortcutBadge component for displaying keyboard shortcuts\n * \n * @module components/common/ShortcutBadge\n */\n\nimport React from 'react';\nimport { ShortcutBadgeProps } from '../../types/keyboard';\nimport { splitShortcutKeys, detectPlatform } from '../../utils/keyboardUtils';\nimport { KEYBOARD_TEST_IDS } from '../../constants/keyboardShortcuts';\n\n// Size classes defined outside component to avoid recreation on each render\nconst SIZE_CLASSES = {\n  sm: 'px-1.5 py-0.5 text-xs',\n  md: 'px-2 py-1 text-sm',\n  lg: 'px-2.5 py-1.5 text-base',\n} as const;\n\n/**\n * ShortcutBadge component displays a visual representation of a keyboard shortcut\n * \n * @example\n * ```tsx\n * <ShortcutBadge shortcut=\"ctrl+k\" size=\"sm\" />\n * ```\n */\nexport const ShortcutBadge: React.FC<ShortcutBadgeProps> = React.memo(({\n  shortcut,\n  size = 'sm',\n  className = '',\n  platformSpecific = true,\n}) => {\n  // detectPlatform is already cached at module level\n  const platform = platformSpecific ? detectPlatform() : 'windows';\n  const keys = splitShortcutKeys(shortcut, platform);\n\n  return (\n    <span\n      className={`inline-flex items-center gap-0.5 ${className}`}\n      data-testid={KEYBOARD_TEST_IDS.SHORTCUT_BADGE}\n      aria-label={`Keyboard shortcut: ${shortcut}`}\n    >\n      {keys.map((key, index) => (\n        <React.Fragment key={index}>\n          <kbd\n            className={`\n              ${SIZE_CLASSES[size]}\n              font-mono font-semibold\n              bg-gray-100 dark:bg-gray-700\n              text-gray-700 dark:text-gray-300\n              border border-gray-300 dark:border-gray-600\n              rounded shadow-sm\n              inline-flex items-center justify-center\n              min-w-[1.5em]\n            `}\n            data-testid={KEYBOARD_TEST_IDS.SHORTCUT_BADGE_KEY}\n          >\n            {key}\n          </kbd>\n          {index < keys.length - 1 && (\n            <span\n              className=\"text-gray-400 dark:text-gray-500 text-xs\"\n              aria-hidden=\"true\"\n            >\n              +\n            </span>\n          )}\n        </React.Fragment>\n      ))}\n    </span>\n  );\n});\n\nShortcutBadge.displayName = 'ShortcutBadge';\n\nexport default ShortcutBadge;\n","/**\n * Keyboard shortcut context for global shortcut state management\n * \n * @module contexts/KeyboardShortcutContext\n */\n\nimport React, { createContext, useContext, useState, useCallback, useMemo, ReactNode } from 'react';\nimport { \n  KeyboardShortcutContextValue, \n  ShortcutMap, \n  KeyboardShortcut,\n} from '../types/keyboard';\nimport { detectPlatform } from '../utils/keyboardUtils';\nimport logger from '../utils/logger';\n\n/**\n * Keyboard shortcut context\n */\nconst KeyboardShortcutContext = createContext<KeyboardShortcutContextValue | undefined>(undefined);\n\n/**\n * Props for KeyboardShortcutProvider\n */\nexport interface KeyboardShortcutProviderProps {\n  /** Child components */\n  children: ReactNode;\n  \n  /** Initial shortcuts to register */\n  initialShortcuts?: ShortcutMap;\n  \n  /** Whether shortcuts are enabled by default */\n  defaultEnabled?: boolean;\n}\n\n/**\n * Provider component for keyboard shortcut context\n * \n * @example\n * ```tsx\n * <KeyboardShortcutProvider>\n *   <App />\n * </KeyboardShortcutProvider>\n * ```\n */\nexport function KeyboardShortcutProvider({\n  children,\n  initialShortcuts = {},\n  defaultEnabled = true,\n}: KeyboardShortcutProviderProps): React.ReactElement {\n  const [shortcuts, setShortcuts] = useState<ShortcutMap>(initialShortcuts);\n  const [isEnabled, setIsEnabled] = useState<boolean>(defaultEnabled);\n  const [showHelp, setShowHelp] = useState<boolean>(false);\n  \n  // Platform detection is cached at module level, so we can simply call it\n  // directly without memoization (it returns the cached value instantly)\n  const platform = detectPlatform();\n\n  /**\n   * Register a new keyboard shortcut\n   */\n  const registerShortcut = useCallback((shortcut: KeyboardShortcut): void => {\n    logger.debug('Registering keyboard shortcut', {\n      id: shortcut.id,\n      keys: shortcut.keys,\n      description: shortcut.description,\n    });\n\n    setShortcuts(prev => ({\n      ...prev,\n      [shortcut.id]: shortcut,\n    }));\n  }, []);\n\n  /**\n   * Unregister a keyboard shortcut by id\n   */\n  const unregisterShortcut = useCallback((id: string): void => {\n    logger.debug('Unregistering keyboard shortcut', { id });\n\n    setShortcuts(prev => {\n      const { [id]: removed, ...rest } = prev;\n      return rest;\n    });\n  }, []);\n\n  /**\n   * Enable or disable all shortcuts\n   */\n  const setEnabledCallback = useCallback((enabled: boolean): void => {\n    logger.debug('Setting keyboard shortcuts enabled', { enabled });\n    setIsEnabled(enabled);\n  }, []);\n\n  /**\n   * Toggle help modal visibility\n   */\n  const setShowHelpCallback = useCallback((show: boolean): void => {\n    logger.debug('Setting keyboard shortcut help visibility', { show });\n    setShowHelp(show);\n  }, []);\n\n  // Memoize context value to avoid unnecessary re-renders\n  const contextValue = useMemo<KeyboardShortcutContextValue>(\n    () => ({\n      shortcuts,\n      registerShortcut,\n      unregisterShortcut,\n      isEnabled,\n      setEnabled: setEnabledCallback,\n      platform,\n      showHelp,\n      setShowHelp: setShowHelpCallback,\n    }),\n    [\n      shortcuts,\n      registerShortcut,\n      unregisterShortcut,\n      isEnabled,\n      setEnabledCallback,\n      platform,\n      showHelp,\n      setShowHelpCallback,\n    ]\n  );\n\n  return (\n    <KeyboardShortcutContext.Provider value={contextValue}>\n      {children}\n    </KeyboardShortcutContext.Provider>\n  );\n}\n\n/**\n * Hook to access keyboard shortcut context\n * \n * @throws Error if used outside of KeyboardShortcutProvider\n * @returns Keyboard shortcut context value\n * \n * @example\n * ```tsx\n * const { shortcuts, registerShortcut, showHelp, setShowHelp } = useKeyboardShortcutContext();\n * ```\n */\nexport function useKeyboardShortcutContext(): KeyboardShortcutContextValue {\n  const context = useContext(KeyboardShortcutContext);\n  \n  if (context === undefined) {\n    throw new Error(\n      'useKeyboardShortcutContext must be used within a KeyboardShortcutProvider'\n    );\n  }\n  \n  return context;\n}\n\n/**\n * Optional hook to access keyboard shortcut context (returns undefined if not in provider)\n * \n * @returns Keyboard shortcut context value or undefined\n * \n * @example\n * ```tsx\n * const context = useKeyboardShortcutContextOptional();\n * if (context) {\n *   // Use context\n * }\n * ```\n */\nexport function useKeyboardShortcutContextOptional(): KeyboardShortcutContextValue | undefined {\n  return useContext(KeyboardShortcutContext);\n}\n","/**\n * KeyboardShortcutHelp modal component\n * \n * @module components/common/KeyboardShortcutHelp\n */\n\nimport React, { useEffect, useMemo } from 'react';\nimport { KeyboardShortcutHelpProps, GroupedShortcuts } from '../../types/keyboard';\nimport { ShortcutBadge } from './ShortcutBadge';\nimport { SHORTCUT_CATEGORY_LABELS, KEYBOARD_TEST_IDS } from '../../constants/keyboardShortcuts';\nimport { useKeyboardShortcutContext } from '../../contexts/KeyboardShortcutContext';\n\n/**\n * KeyboardShortcutHelp component displays a modal with all available keyboard shortcuts\n * \n * @example\n * ```tsx\n * <KeyboardShortcutHelp isOpen={showHelp} onClose={() => setShowHelp(false)} />\n * ```\n */\nexport const KeyboardShortcutHelp: React.FC<KeyboardShortcutHelpProps> = ({\n  isOpen,\n  onClose,\n  shortcuts: providedShortcuts,\n}) => {\n  const context = useKeyboardShortcutContext();\n  const shortcuts = providedShortcuts || context.shortcuts;\n\n  // Group shortcuts by category\n  const groupedShortcuts = useMemo<GroupedShortcuts>(() => {\n    const groups: GroupedShortcuts = {};\n    \n    Object.values(shortcuts).forEach((shortcut) => {\n      const category = shortcut.category;\n      if (!groups[category]) {\n        groups[category] = [];\n      }\n      groups[category].push(shortcut);\n    });\n    \n    return groups;\n  }, [shortcuts]);\n\n  // Handle Escape key to close modal\n  // Note: This local handler coexists with the global keyboard shortcut handler.\n  // The Escape key is marked as a bypass key in BYPASS_INPUT_CHECK_KEYS, ensuring\n  // it works correctly in both contexts without conflicts.\n  useEffect(() => {\n    if (!isOpen) return;\n\n    const handleEscape = (e: KeyboardEvent): void => {\n      if (e.key === 'Escape') {\n        onClose();\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    };\n\n    window.addEventListener('keydown', handleEscape);\n    return () => window.removeEventListener('keydown', handleEscape);\n  }, [isOpen, onClose]);\n\n  // Focus trap for accessibility\n  useEffect(() => {\n    if (!isOpen) return;\n\n    let cleanup: (() => void) | undefined;\n\n    // Use requestAnimationFrame to ensure modal is in DOM\n    const rafId = requestAnimationFrame(() => {\n      const modal = document.querySelector('[role=\"dialog\"]');\n      if (!modal) return;\n\n      const focusableElements = modal.querySelectorAll<HTMLElement>(\n        'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n      );\n      \n      const firstElement = focusableElements[0];\n      const lastElement = focusableElements[focusableElements.length - 1];\n\n      const handleTab = (e: KeyboardEvent): void => {\n        if (e.key !== 'Tab') return;\n\n        if (e.shiftKey && document.activeElement === firstElement) {\n          e.preventDefault();\n          lastElement?.focus();\n        } else if (!e.shiftKey && document.activeElement === lastElement) {\n          e.preventDefault();\n          firstElement?.focus();\n        }\n      };\n\n      modal.addEventListener('keydown', handleTab as EventListener);\n      firstElement?.focus();\n\n      cleanup = () => modal.removeEventListener('keydown', handleTab as EventListener);\n    });\n\n    return () => {\n      cancelAnimationFrame(rafId);\n      cleanup?.();\n    };\n  }, [isOpen]);\n\n  if (!isOpen) return null;\n\n  return (\n    <div\n      className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50\"\n      onClick={onClose}\n      data-testid={KEYBOARD_TEST_IDS.HELP_MODAL}\n      aria-label=\"Close keyboard shortcuts dialog by clicking outside\"\n    >\n      <div\n        role=\"dialog\"\n        aria-modal=\"true\"\n        aria-labelledby=\"keyboard-shortcuts-title\"\n        className=\"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        {/* Header */}\n        <div className=\"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between\">\n          <h2\n            id=\"keyboard-shortcuts-title\"\n            className=\"text-2xl font-bold text-gray-900 dark:text-white\"\n            data-testid={KEYBOARD_TEST_IDS.HELP_MODAL_TITLE}\n          >\n            âŒ¨ï¸ Keyboard Shortcuts\n          </h2>\n          <button\n            onClick={onClose}\n            className=\"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\n            aria-label=\"Close keyboard shortcuts\"\n            data-testid={KEYBOARD_TEST_IDS.HELP_MODAL_CLOSE}\n          >\n            <svg\n              className=\"w-6 h-6\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M6 18L18 6M6 6l12 12\"\n              />\n            </svg>\n          </button>\n        </div>\n\n        {/* Content */}\n        <div className=\"overflow-y-auto p-6 flex-1\">\n          {Object.entries(groupedShortcuts).map(([category, categoryShortcuts]) => (\n            <div\n              key={category}\n              className=\"mb-6 last:mb-0\"\n              data-testid={KEYBOARD_TEST_IDS.HELP_MODAL_CATEGORY}\n            >\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-3\">\n                {SHORTCUT_CATEGORY_LABELS[category as keyof typeof SHORTCUT_CATEGORY_LABELS] || category}\n              </h3>\n              <div className=\"space-y-2\">\n                {categoryShortcuts.map((shortcut) => (\n                  <div\n                    key={shortcut.id}\n                    className=\"flex items-center justify-between py-2 px-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\n                    data-testid={KEYBOARD_TEST_IDS.HELP_MODAL_SHORTCUT}\n                  >\n                    <span className=\"text-gray-700 dark:text-gray-300\">\n                      {shortcut.description}\n                    </span>\n                    <ShortcutBadge\n                      shortcut={shortcut.keys}\n                      size=\"md\"\n                      platformSpecific={true}\n                    />\n                  </div>\n                ))}\n              </div>\n            </div>\n          ))}\n        </div>\n\n        {/* Footer */}\n        <div className=\"px-6 py-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900\">\n          <p className=\"text-sm text-gray-600 dark:text-gray-400 text-center\">\n            Press <ShortcutBadge shortcut=\"Escape\" size=\"sm\" /> to close this dialog\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default KeyboardShortcutHelp;\n","import React from 'react';\nimport type { LoadingSkeletonProps, SkeletonVariant } from '../../types/componentPropExports';\n\n/**\n * Configuration structure for skeleton variants\n * \n * Defines the rendering configuration for each skeleton variant including\n * accessibility attributes and the render function that produces the skeleton DOM.\n * \n * @property ariaLabel - ARIA label for screen readers describing what's loading\n * @property srText - Screen reader text announced when skeleton is rendered\n * @property render - Function that generates the skeleton DOM elements\n */\ninterface SkeletonVariantConfig {\n  ariaLabel: string;\n  srText: string;\n  render: (skeletonClasses: string) => React.ReactNode;\n}\n\n/**\n * Loading skeleton component for better perceived performance\n * \n * ## Business Perspective\n * \n * Improves perceived performance by showing content placeholders while\n * data loads, making the application feel more responsive and reducing\n * user anxiety during loading operations. ðŸ“Š\n * \n * ## Technical Perspective\n * \n * Provides animated placeholder content that mimics the structure of\n * the actual content being loaded. Uses CSS animations for smooth\n * skeleton shimmer effect. Supports multiple variants for different\n * widget layouts.\n * \n * @example\n * ```tsx\n * // Default 3-line skeleton\n * <LoadingSkeleton />\n * \n * // Custom number of lines\n * <LoadingSkeleton lines={5} />\n * \n * // Summary widget skeleton\n * <LoadingSkeleton variant=\"summary\" />\n * \n * // Chart widget skeleton\n * <LoadingSkeleton variant=\"chart\" />\n * \n * // Metrics widget skeleton\n * <LoadingSkeleton variant=\"metrics\" />\n * ```\n */\nexport const LoadingSkeleton: React.FC<LoadingSkeletonProps> = ({ \n  lines = 3,\n  variant = 'default',\n  testId = 'loading-skeleton',\n  className = ''\n}) => {\n  const baseClasses = 'animate-pulse';\n  const skeletonClasses = 'bg-gray-200 dark:bg-gray-700 rounded';\n\n  // Configuration map for each variant\n  const variantConfigs: Record<SkeletonVariant, SkeletonVariantConfig> = {\n    default: {\n      ariaLabel: 'Loading content',\n      srText: 'Loading...',\n      render: (classes) => (\n        <>\n          {Array.from({ length: lines }).map((_, i) => (\n            <div \n              key={`skeleton-line-${i}`}\n              className={`h-4 ${classes}`}\n              data-testid={`${testId}-line-${i}`}\n              aria-hidden=\"true\"\n            />\n          ))}\n        </>\n      )\n    },\n    summary: {\n      ariaLabel: 'Loading summary',\n      srText: 'Loading summary...',\n      render: (classes) => (\n        <>\n          <div className={`h-8 ${classes} w-3/4`} aria-hidden=\"true\" />\n          <div className={`h-24 ${classes}`} aria-hidden=\"true\" />\n          <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\n            {['summary-metric-1', 'summary-metric-2', 'summary-metric-3'].map((key) => (\n              <div key={key} className={`h-20 ${classes}`} aria-hidden=\"true\" />\n            ))}\n          </div>\n        </>\n      )\n    },\n    chart: {\n      ariaLabel: 'Loading chart',\n      srText: 'Loading chart...',\n      render: (classes) => (\n        <>\n          <div className={`h-6 ${classes} w-1/2`} aria-hidden=\"true\" />\n          <div className={`h-64 ${classes}`} aria-hidden=\"true\" />\n          <div className=\"flex justify-between gap-4\">\n            {['legend-1', 'legend-2', 'legend-3', 'legend-4'].map((key) => (\n              <div key={key} className={`h-4 w-16 ${classes}`} aria-hidden=\"true\" />\n            ))}\n          </div>\n        </>\n      )\n    },\n    list: {\n      ariaLabel: 'Loading list',\n      srText: 'Loading list...',\n      render: (classes) => (\n        <>\n          {['list-item-1', 'list-item-2', 'list-item-3', 'list-item-4', 'list-item-5'].map((key) => (\n            <div key={key} className=\"flex items-center space-x-4\">\n              <div className={`h-10 w-10 ${classes} rounded-full`} aria-hidden=\"true\" />\n              <div className=\"flex-1 space-y-2\">\n                <div className={`h-4 ${classes} w-3/4`} aria-hidden=\"true\" />\n                <div className={`h-3 ${classes} w-1/2`} aria-hidden=\"true\" />\n              </div>\n            </div>\n          ))}\n        </>\n      )\n    },\n    metrics: {\n      ariaLabel: 'Loading metrics',\n      srText: 'Loading metrics...',\n      render: (classes) => (\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\n          {['metric-1', 'metric-2', 'metric-3', 'metric-4'].map((key) => (\n            <div key={key} className=\"space-y-3\">\n              <div className={`h-4 ${classes} w-2/3`} aria-hidden=\"true\" />\n              <div className={`h-8 ${classes}`} aria-hidden=\"true\" />\n              <div className={`h-3 ${classes} w-1/2`} aria-hidden=\"true\" />\n            </div>\n          ))}\n        </div>\n      )\n    },\n    tabs: {\n      ariaLabel: 'Loading tabs',\n      srText: 'Loading tabs...',\n      render: (classes) => (\n        <>\n          <div className=\"flex space-x-2 border-b border-gray-200 dark:border-gray-700\">\n            {['tab-1', 'tab-2', 'tab-3', 'tab-4'].map((key) => (\n              <div key={key} className={`h-10 w-24 ${classes} mb-[-1px]`} aria-hidden=\"true\" />\n            ))}\n          </div>\n          <div className=\"space-y-3\">\n            <div className={`h-6 ${classes} w-3/4`} aria-hidden=\"true\" />\n            <div className={`h-32 ${classes}`} aria-hidden=\"true\" />\n            <div className={`h-4 ${classes} w-5/6`} aria-hidden=\"true\" />\n            <div className={`h-4 ${classes} w-4/6`} aria-hidden=\"true\" />\n          </div>\n        </>\n      )\n    }\n  };\n\n  // Get the configuration for the current variant, fallback to default\n  const config = variantConfigs[variant] || variantConfigs.default;\n  \n  // Explicit spacing configuration per variant for maintainability\n  const spaceClassMap: Record<SkeletonVariant, string> = {\n    default: 'space-y-4',\n    summary: 'space-y-4',\n    chart: 'space-y-4',\n    tabs: 'space-y-4',\n    list: 'space-y-3',\n    metrics: ''\n  };\n  const spaceClass = spaceClassMap[variant] || spaceClassMap.default;\n\n  return (\n    <div \n      className={`${baseClasses} ${spaceClass} ${className}`}\n      data-testid={testId}\n      role=\"status\"\n      aria-label={config.ariaLabel}\n    >\n      {config.render(skeletonClasses)}\n      <span className=\"sr-only\">{config.srText}</span>\n    </div>\n  );\n};\n\nexport default LoadingSkeleton;\n","import React, { useCallback, useEffect, lazy, Suspense, useMemo } from \"react\";\n// Import SecurityLevelWidget eagerly - critical for initial user interaction\nimport SecurityLevelWidget from \"../components/widgets/assessmentcenter/SecurityLevelWidget\";\n\n// Lazy load all other widgets for better code splitting and faster initial load\n// Assessment Center Widgets\nconst BusinessImpactAnalysisWidget = lazy(\n  () => import(\"../components/widgets/assessmentcenter/BusinessImpactAnalysisWidget\")\n);\nconst SecuritySummaryWidget = lazy(\n  () => import(\"../components/widgets/assessmentcenter/SecuritySummaryWidget\")\n);\n\n// Business Value Widgets\nconst ComplianceStatusWidget = lazy(\n  () => import(\"../components/widgets/businessvalue/ComplianceStatusWidget\")\n);\nconst CostEstimationWidget = lazy(\n  () => import(\"../components/widgets/businessvalue/CostEstimationWidget\")\n);\nconst ValueCreationWidget = lazy(\n  () => import(\"../components/widgets/businessvalue/ValueCreationWidget\")\n);\n\n// Impact Analysis Widgets\nconst AvailabilityImpactWidget = lazy(\n  () => import(\"../components/widgets/impactanalysis/AvailabilityImpactWidget\")\n);\nconst ConfidentialityImpactWidget = lazy(\n  () => import(\"../components/widgets/impactanalysis/ConfidentialityImpactWidget\")\n);\nconst IntegrityImpactWidget = lazy(\n  () => import(\"../components/widgets/impactanalysis/IntegrityImpactWidget\")\n);\n\n// Implementation Guide Widgets (includes Chart.js dependency)\nconst SecurityResourcesWidget = lazy(\n  () => import(\"../components/widgets/implementationguide/SecurityResourcesWidget\")\n);\nconst SecurityVisualizationWidget = lazy(\n  () => import(\"../components/widgets/implementationguide/SecurityVisualizationWidget\")\n);\nconst TechnicalDetailsWidget = lazy(\n  () => import(\"../components/widgets/implementationguide/TechnicalDetailsWidget\")\n);\n\nimport WidgetErrorBoundary from \"../components/common/WidgetErrorBoundary\";\nimport KeyboardShortcutHelp from \"../components/common/KeyboardShortcutHelp\";\nimport { APP_TEST_IDS, UI_TEXT } from \"../constants\";\nimport { KEYBOARD_SHORTCUTS } from \"../constants/keyboardShortcuts\";\nimport { useSecurityLevelState, useLocalStorage, SecurityLevelState } from \"../hooks\";\nimport { useKeyboardShortcuts } from \"../hooks/useKeyboardShortcuts\";\nimport { useKeyboardShortcutContext } from \"../contexts/KeyboardShortcutContext\";\nimport { SecurityLevel } from \"../types/cia\";\nimport { ShortcutMap } from \"../types/keyboard\";\nimport LoadingSkeleton from \"../components/common/LoadingSkeleton\";\nimport logger from \"../utils/logger\";\n\n/**\n * Main application component for CIA Classification\n *\n * ## Business Perspective\n *\n * This component serves as the central state manager for security levels\n * across the application, ensuring consistent security posture visualization\n * and providing a unified user experience for security professionals. ðŸ”’\n */\nconst CIAClassificationApp: React.FC = () => {\n  const appVersion = APP_VERSION;\n  \n  // Get keyboard shortcut context\n  const { showHelp, setShowHelp } = useKeyboardShortcutContext();\n\n  // Use custom hooks for security level state management with localStorage persistence\n  const defaultLevels: SecurityLevelState = {\n    availability: \"Moderate\",\n    integrity: \"Moderate\",\n    confidentiality: \"Moderate\",\n  };\n  const [savedLevels, setSavedLevels] = useLocalStorage(\"securityLevels\", defaultLevels);\n\n  // Initialize security level state with saved values\n  const { levels, setLevel } = useSecurityLevelState(savedLevels);\n\n  // Persist security levels to localStorage whenever they change\n  useEffect(() => {\n    setSavedLevels(levels);\n  }, [levels, setSavedLevels]);\n\n  // Use custom hook for dark mode persistence\n  const defaultDarkMode =\n    window.matchMedia &&\n    window.matchMedia(\"(prefers-color-scheme: dark)\").matches;\n  const [darkMode, setDarkMode] = useLocalStorage(\"darkMode\", defaultDarkMode);\n\n  // Log initial values for debugging\n  useEffect(() => {\n    console.log(\"CIA App Security Levels:\", {\n      availability: levels.availability,\n      integrity: levels.integrity,\n      confidentiality: levels.confidentiality,\n    });\n  }, [levels]);\n\n  // Create handler functions using the hook's setLevel method\n  const handleAvailabilityChange = useCallback(\n    (level: SecurityLevel) => {\n      console.log(\"CIAClassificationApp: Setting availability level to:\", level);\n      setLevel(\"availability\", level);\n    },\n    [setLevel]\n  );\n\n  const handleIntegrityChange = useCallback(\n    (level: SecurityLevel) => {\n      console.log(\"CIAClassificationApp: Setting integrity level to:\", level);\n      setLevel(\"integrity\", level);\n    },\n    [setLevel]\n  );\n\n  const handleConfidentialityChange = useCallback(\n    (level: SecurityLevel) => {\n      console.log(\n        \"CIAClassificationApp: Setting confidentiality level to:\",\n        level\n      );\n      setLevel(\"confidentiality\", level);\n    },\n    [setLevel]\n  );\n\n  // Toggle dark mode\n  const toggleDarkMode = () => {\n    setDarkMode((prev) => !prev);\n  };\n\n  // Error handler for widget error boundaries\n  const handleWidgetError = useCallback((error: Error, errorInfo: React.ErrorInfo) => {\n    logger.error('Widget error caught by error boundary', { error, errorInfo });\n  }, []);\n  \n  // Register keyboard shortcuts\n  const shortcuts: ShortcutMap = useMemo(() => ({\n    // Show help\n    [KEYBOARD_SHORTCUTS.SHOW_HELP.id]: {\n      ...KEYBOARD_SHORTCUTS.SHOW_HELP,\n      handler: () => setShowHelp(true),\n    },\n    [KEYBOARD_SHORTCUTS.SHOW_HELP_ALT.id]: {\n      ...KEYBOARD_SHORTCUTS.SHOW_HELP_ALT,\n      handler: () => setShowHelp(true),\n    },\n    // Security level selection shortcuts (future enhancement)\n    // Navigation shortcuts (future enhancement)\n    // Action shortcuts (future enhancement)\n  }), [setShowHelp]);\n  \n  // Use keyboard shortcuts hook\n  useKeyboardShortcuts({\n    shortcuts,\n    enabled: true,\n    preventDefault: true,\n  });\n\n  // Apply dark mode class\n  useEffect(() => {\n    if (darkMode) {\n      document.documentElement.classList.add(\"dark\");\n      document.body.classList.add(\"dark\");\n    } else {\n      document.documentElement.classList.remove(\"dark\");\n      document.body.classList.remove(\"dark\");\n    }\n  }, [darkMode]);\n\n  return (\n    <div className=\"app-container\">\n      <div\n        className={`min-h-screen ${\n          darkMode ? \"dark bg-gray-900\" : \"bg-gray-100\"\n        } p-4 transition-colors duration-300`}\n      >\n        {/* Ultra-compact app header with horizontal layout */}\n        <div className=\"mb-2 px-2 py-0.5 bg-white dark:bg-gray-800 rounded-lg shadow-md flex justify-between items-center app-header\">\n          <div className=\"flex items-center\">\n            <div className=\"w-5 h-5 flex items-center justify-center overflow-hidden mr-1.5\">\n              <img\n                src=\"./icon-192.png\"\n                alt=\"CIA Compliance Manager Logo\"\n                style={{ transform: \"scale(0.2)\" }}\n                data-testid={APP_TEST_IDS.APP_LOGO}\n              />\n            </div>\n            <div className=\"flex flex-row items-center\">\n              <h1\n                data-testid={APP_TEST_IDS.APP_TITLE}\n                className=\"text-sm font-semibold text-gray-800 dark:text-gray-100 transition-colors duration-300 mr-2\"\n              >\n                {UI_TEXT.APP_TITLE}\n              </h1>\n              <div className=\"cyber-nav flex items-center flex-wrap\">\n                <span\n                  className=\"inline-block pulse-dot mr-1\"\n                  data-testid={APP_TEST_IDS.APP_INDICATOR}\n                >\n                  â– \n                </span>\n                <span className=\"mr-1 version-tag\" data-testid={APP_TEST_IDS.APP_VERSION}>\n                  v{appVersion}\n                </span>\n                <span className=\"mx-1 nav-separator\">â€¢</span>\n                <a\n                  href=\"https://github.com/Hack23/cia-compliance-manager\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"cyber-link\"\n                  data-testid={APP_TEST_IDS.SOURCE_LINK}\n                >\n                  Source\n                </a>\n                <span className=\"mx-1 nav-separator\">â€¢</span>\n                <a\n                  href=\"https://www.hack23.com/cia-compliance-manager-features.html\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"cyber-link\"\n                  data-testid={APP_TEST_IDS.DOCS_LINK}\n                >\n                  Doc\n                </a>\n                <span className=\"mx-1 nav-separator\">â€¢</span>\n                <a\n                  href=\"https://hack23.com/\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"cyber-link\"\n                  data-testid={APP_TEST_IDS.AUTHOR_LINK}\n                >\n                  Hack23\n                </a>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex items-center gap-2\">\n            <button\n              onClick={() => setShowHelp(true)}\n              className=\"px-2 py-1 text-xs font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 rounded transition-colors\"\n              title=\"Keyboard Shortcuts (? or Ctrl+/)\"\n              data-testid={APP_TEST_IDS.KEYBOARD_SHORTCUTS_BUTTON}\n            >\n              âŒ¨ï¸ Shortcuts\n            </button>\n            <button\n              onClick={toggleDarkMode}\n              className=\"theme-toggle-btn\"\n              data-testid={APP_TEST_IDS.THEME_TOGGLE}\n            >\n              {darkMode ? \"â˜€ï¸ Light\" : \"ðŸŒ™ Dark\"}\n            </button>\n          </div>\n        </div>\n\n        {/* Container with defined width to ensure grid fits properly */}\n        <div className=\"w-full max-w-[1600px] mx-auto\">\n          <div\n            data-testid={APP_TEST_IDS.DASHBOARD_GRID}\n            className=\"dashboard-grid-container\"\n          >\n            {/* Security Level Widget */}\n            <div className=\"grid-widget-container\">\n              <SecurityLevelWidget\n                availabilityLevel={levels.availability}\n                integrityLevel={levels.integrity}\n                confidentialityLevel={levels.confidentiality}\n                onAvailabilityChange={handleAvailabilityChange}\n                onIntegrityChange={handleIntegrityChange}\n                onConfidentialityChange={handleConfidentialityChange}\n                testId=\"widget-security-level\"\n              />\n            </div>\n\n            {/* Business Impact Analysis Widget */}\n            <div className=\"grid-widget-container\">\n              <WidgetErrorBoundary widgetName=\"Business Impact Analysis\" onError={handleWidgetError}>\n                <Suspense fallback={<LoadingSkeleton lines={5} className=\"p-4\" testId=\"loading-business-impact\" />}>\n                  <BusinessImpactAnalysisWidget\n                    availabilityLevel={levels.availability}\n                    integrityLevel={levels.integrity}\n                    confidentialityLevel={levels.confidentiality}\n                    testId=\"widget-business-impact\"\n                  />\n                </Suspense>\n              </WidgetErrorBoundary>\n            </div>\n\n            {/* Security Summary Widget */}\n            <div className=\"grid-widget-container\">\n              <WidgetErrorBoundary widgetName=\"Security Summary\" onError={handleWidgetError}>\n                <Suspense fallback={<LoadingSkeleton lines={5} className=\"p-4\" testId=\"loading-security-summary\" />}>\n                  <SecuritySummaryWidget\n                    availabilityLevel={levels.availability}\n                    integrityLevel={levels.integrity}\n                    confidentialityLevel={levels.confidentiality}\n                    testId=\"widget-security-summary\"\n                  />\n                </Suspense>\n              </WidgetErrorBoundary>\n            </div>\n\n            {/* Value Creation Widget */}\n            <div className=\"grid-widget-container\">\n              <WidgetErrorBoundary widgetName=\"Value Creation\" onError={handleWidgetError}>\n                <Suspense fallback={<LoadingSkeleton lines={5} className=\"p-4\" testId=\"loading-value-creation\" />}>\n                  <ValueCreationWidget\n                    availabilityLevel={levels.availability}\n                    integrityLevel={levels.integrity}\n                    confidentialityLevel={levels.confidentiality}\n                    testId=\"widget-value-creation\"\n                  />\n                </Suspense>\n              </WidgetErrorBoundary>\n            </div>\n\n            {/* Cost Estimation Widget */}\n            <div className=\"grid-widget-container\">\n              <WidgetErrorBoundary widgetName=\"Cost Estimation\" onError={handleWidgetError}>\n                <Suspense fallback={<LoadingSkeleton lines={5} className=\"p-4\" testId=\"loading-cost-estimation\" />}>\n                  <CostEstimationWidget\n                    availabilityLevel={levels.availability}\n                    integrityLevel={levels.integrity}\n                    confidentialityLevel={levels.confidentiality}\n                    testId=\"widget-cost-estimation\"\n                  />\n                </Suspense>\n              </WidgetErrorBoundary>\n            </div>\n\n            {/* Compliance Status Widget */}\n            <div className=\"grid-widget-container\">\n              <WidgetErrorBoundary widgetName=\"Compliance Status\" onError={handleWidgetError}>\n                <Suspense fallback={<LoadingSkeleton lines={5} className=\"p-4\" testId=\"loading-compliance-status\" />}>\n                  <ComplianceStatusWidget\n                    availabilityLevel={levels.availability}\n                    integrityLevel={levels.integrity}\n                    confidentialityLevel={levels.confidentiality}\n                    testId=\"widget-compliance-status\"\n                  />\n                </Suspense>\n              </WidgetErrorBoundary>\n            </div>\n\n            {/* Confidentiality Impact Widget */}\n            <div className=\"grid-widget-container\">\n              <WidgetErrorBoundary widgetName=\"Confidentiality Impact\" onError={handleWidgetError}>\n                <Suspense fallback={<LoadingSkeleton lines={5} className=\"p-4\" testId=\"loading-confidentiality-impact\" />}>\n                  <ConfidentialityImpactWidget\n                    availabilityLevel={levels.availability}\n                    integrityLevel={levels.integrity}\n                    confidentialityLevel={levels.confidentiality}\n                    testId=\"widget-confidentiality-impact\"\n                  />\n                </Suspense>\n              </WidgetErrorBoundary>\n            </div>\n\n            {/* Integrity Impact Widget */}\n            <div className=\"grid-widget-container\">\n              <WidgetErrorBoundary widgetName=\"Integrity Impact\" onError={handleWidgetError}>\n                <Suspense fallback={<LoadingSkeleton lines={5} className=\"p-4\" testId=\"loading-integrity-impact\" />}>\n                  <IntegrityImpactWidget\n                    availabilityLevel={levels.availability}\n                    integrityLevel={levels.integrity}\n                    confidentialityLevel={levels.confidentiality}\n                    testId=\"widget-integrity-impact\"\n                  />\n                </Suspense>\n              </WidgetErrorBoundary>\n            </div>\n\n            {/* Availability Impact Widget */}\n            <div className=\"grid-widget-container\">\n              <WidgetErrorBoundary widgetName=\"Availability Impact\" onError={handleWidgetError}>\n                <Suspense fallback={<LoadingSkeleton lines={5} className=\"p-4\" testId=\"loading-availability-impact\" />}>\n                  <AvailabilityImpactWidget\n                    availabilityLevel={levels.availability}\n                    integrityLevel={levels.integrity}\n                    confidentialityLevel={levels.confidentiality}\n                    testId=\"widget-availability-impact\"\n                  />\n                </Suspense>\n              </WidgetErrorBoundary>\n            </div>\n\n            {/* Technical Details Widget */}\n            <div className=\"grid-widget-container\">\n              <WidgetErrorBoundary widgetName=\"Technical Details\" onError={handleWidgetError}>\n                <Suspense fallback={<LoadingSkeleton lines={5} className=\"p-4\" testId=\"loading-technical-details\" />}>\n                  <TechnicalDetailsWidget\n                    availabilityLevel={levels.availability}\n                    integrityLevel={levels.integrity}\n                    confidentialityLevel={levels.confidentiality}\n                    testId=\"widget-technical-details\"\n                  />\n                </Suspense>\n              </WidgetErrorBoundary>\n            </div>\n\n            {/* Security Visualization Widget */}\n            <div className=\"grid-widget-container\">\n              <WidgetErrorBoundary widgetName=\"Security Visualization\" onError={handleWidgetError}>\n                <Suspense fallback={<LoadingSkeleton lines={5} className=\"p-4\" testId=\"loading-security-visualization\" />}>\n                  <SecurityVisualizationWidget\n                    availabilityLevel={levels.availability}\n                    integrityLevel={levels.integrity}\n                    confidentialityLevel={levels.confidentiality}\n                    testId=\"widget-security-visualization\"\n                  />\n                </Suspense>\n              </WidgetErrorBoundary>\n            </div>\n\n            {/* Security Resources Widget */}\n            <div className=\"grid-widget-container\">\n              <WidgetErrorBoundary widgetName=\"Security Resources\" onError={handleWidgetError}>\n                <Suspense fallback={<LoadingSkeleton lines={5} className=\"p-4\" testId=\"loading-security-resources\" />}>\n                  <SecurityResourcesWidget\n                    availabilityLevel={levels.availability}\n                    integrityLevel={levels.integrity}\n                    confidentialityLevel={levels.confidentiality}\n                    testId=\"widget-security-resources\"\n                  />\n                </Suspense>\n              </WidgetErrorBoundary>\n            </div>\n          </div>\n        </div>\n        \n        {/* Keyboard Shortcut Help Modal */}\n        <KeyboardShortcutHelp\n          isOpen={showHelp}\n          onClose={() => setShowHelp(false)}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default CIAClassificationApp;\n","/**\n * # Centralized Error Service\n *\n * Provides centralized error handling, logging, and user-friendly message generation\n * across the entire application. This service standardizes error handling patterns\n * and provides consistent error reporting.\n *\n * ## Business Perspective\n * Ensures consistent error handling and reporting across the application, improving\n * user experience by providing clear, actionable error messages and enabling better\n * debugging through centralized logging. Critical for operational excellence. ðŸ›¡ï¸\n *\n * ## Technical Perspective\n * Implements centralized error logging, user-friendly message generation, and\n * error recovery detection. Integrates with existing logger and error types.\n *\n * @packageDocumentation\n */\n\nimport logger from '../utils/logger';\nimport {\n  isServiceError,\n  isValidationError,\n  isNetworkError,\n  isRetryableError,\n  ErrorContext,\n  ServiceErrorCode,\n} from './errors';\n\n/**\n * Error severity levels for categorization\n */\nexport enum ErrorSeverity {\n  /** Low severity - informational errors */\n  LOW = 'low',\n  /** Medium severity - user action may be needed */\n  MEDIUM = 'medium',\n  /** High severity - significant functionality impacted */\n  HIGH = 'high',\n  /** Critical severity - application-wide impact */\n  CRITICAL = 'critical',\n}\n\n/**\n * Error log entry structure\n */\nexport interface ErrorLogEntry {\n  /** Error message */\n  message: string;\n  /** Error severity */\n  severity: ErrorSeverity;\n  /** Error context */\n  context?: ErrorContext;\n  /** Error stack trace */\n  stack?: string;\n  /** Timestamp */\n  timestamp: string;\n  /** User-friendly message */\n  userMessage: string;\n  /** Whether the error is recoverable */\n  recoverable: boolean;\n}\n\n/**\n * Centralized Error Service\n *\n * Provides consistent error handling, logging, and user-friendly message generation\n * across the entire application.\n *\n * @example\n * ```typescript\n * // Log an error with context\n * errorService.logError(\n *   new Error('Data fetch failed'),\n *   { service: 'ComplianceService', method: 'fetchData' }\n * );\n *\n * // Get user-friendly message\n * const message = errorService.getUserFriendlyMessage(error);\n *\n * // Check if error is recoverable\n * const canRetry = errorService.canRecover(error);\n * ```\n */\nexport class ErrorService {\n  private static instance: ErrorService;\n\n  /**\n   * Get the singleton instance\n   */\n  public static getInstance(): ErrorService {\n    if (!ErrorService.instance) {\n      ErrorService.instance = new ErrorService();\n    }\n    return ErrorService.instance;\n  }\n\n  /**\n   * Private constructor for singleton pattern\n   */\n  private constructor() {\n    // Private constructor for singleton\n  }\n\n  /**\n   * Log an error with context\n   *\n   * @param error - Error to log\n   * @param context - Optional error context\n   * @param severity - Error severity level\n   */\n  public logError(\n    error: Error,\n    context?: ErrorContext,\n    severity: ErrorSeverity = ErrorSeverity.MEDIUM\n  ): void {\n    const logEntry: ErrorLogEntry = {\n      message: error.message,\n      severity,\n      context,\n      stack: error.stack,\n      timestamp: new Date().toISOString(),\n      userMessage: this.getUserFriendlyMessage(error),\n      recoverable: this.canRecover(error),\n    };\n\n    // Log based on severity\n    switch (severity) {\n      case ErrorSeverity.CRITICAL:\n      case ErrorSeverity.HIGH:\n        logger.error('[CIA Compliance Manager Error]', {\n          ...logEntry,\n          error,\n        });\n        break;\n      case ErrorSeverity.MEDIUM:\n        logger.warn('[CIA Compliance Manager Warning]', {\n          ...logEntry,\n          error,\n        });\n        break;\n      case ErrorSeverity.LOW:\n        logger.info('[CIA Compliance Manager Info]', {\n          ...logEntry,\n          error,\n        });\n        break;\n      default:\n        logger.error('[CIA Compliance Manager Error]', {\n          ...logEntry,\n          error,\n        });\n    }\n\n    // TODO: Integrate with external monitoring service (e.g., Sentry, LogRocket)\n    // See docs/ERROR_HANDLING.md for future enhancement plan\n    // this.sendToMonitoring(logEntry);\n  }\n\n  /**\n   * Get a user-friendly error message\n   *\n   * @param error - Error to convert to user-friendly message\n   * @returns User-friendly error message\n   */\n  public getUserFriendlyMessage(error: unknown): string {\n    // Handle ServiceError with specific codes\n    if (isServiceError(error)) {\n      // Check for validation errors\n      if (error.code === ServiceErrorCode.VALIDATION_ERROR) {\n        const field = error.context.field as string | undefined;\n        return field\n          ? `Please check the ${field} field and try again.`\n          : 'Please check your input and try again.';\n      }\n      \n      // Check for network errors\n      if (isNetworkError(error)) {\n        const statusCode = error.context.statusCode as number | undefined;\n        if (statusCode === 404) {\n          return 'The requested resource was not found.';\n        }\n        if (statusCode === 401 || statusCode === 403) {\n          return 'You do not have permission to access this resource.';\n        }\n        if (statusCode && statusCode >= 500) {\n          return 'Server error. Please try again later.';\n        }\n        return 'Network connection issue. Please check your connection and try again.';\n      }\n      \n      // Check for retryable errors\n      if (isRetryableError(error)) {\n        const retryAfter = error.context.retryAfter as number | undefined;\n        return retryAfter\n          ? `Operation failed. Please try again in ${retryAfter} seconds.`\n          : 'Operation failed. Please try again.';\n      }\n      \n      // Handle other service error codes\n      switch (error.code) {\n        case ServiceErrorCode.INVALID_SECURITY_LEVEL:\n        case ServiceErrorCode.INVALID_COMPONENT_TYPE:\n        case ServiceErrorCode.INVALID_INPUT:\n        case ServiceErrorCode.MISSING_REQUIRED_FIELD:\n          return 'Invalid input provided. Please check your data and try again.';\n        \n        case ServiceErrorCode.DATA_NOT_FOUND:\n          return 'The requested data could not be found.';\n        \n        case ServiceErrorCode.DATA_PROVIDER_ERROR:\n        case ServiceErrorCode.CONFIGURATION_ERROR:\n          return 'System configuration error. Please contact support.';\n        \n        case ServiceErrorCode.CALCULATION_ERROR:\n        case ServiceErrorCode.COMPLIANCE_CHECK_ERROR:\n        case ServiceErrorCode.ROI_CALCULATION_ERROR:\n          return 'Error processing your request. Please try again.';\n        \n        case ServiceErrorCode.TIMEOUT_ERROR:\n          return 'Operation timed out. Please try again.';\n        \n        case ServiceErrorCode.CONNECTION_ERROR:\n          return 'Connection error. Please check your network.';\n        \n        case ServiceErrorCode.RATE_LIMIT_ERROR:\n          return 'Too many requests. Please wait a moment and try again.';\n        \n        case ServiceErrorCode.INTERNAL_ERROR:\n        case ServiceErrorCode.UNEXPECTED_ERROR:\n        default:\n          return 'An unexpected error occurred. Please try again.';\n      }\n    }\n\n    // Handle standard Error\n    if (error instanceof Error) {\n      // Check for known error patterns in the message\n      const msg = error.message.toLowerCase();\n      if (msg.includes('network') || msg.includes('fetch')) {\n        return 'Network connection issue. Please check your connection and try again.';\n      }\n      if (msg.includes('timeout')) {\n        return 'Operation timed out. Please try again.';\n      }\n      if (msg.includes('permission') || msg.includes('unauthorized')) {\n        return 'You do not have permission to perform this action.';\n      }\n    }\n\n    // Default fallback message\n    return 'An unexpected error occurred. Please try again.';\n  }\n\n  /**\n   * Check if an error can be recovered from\n   *\n   * @param error - Error to check\n   * @returns True if the error is recoverable\n   */\n  public canRecover(error: unknown): boolean {\n    // Retryable ServiceErrors are explicitly marked as recoverable\n    if (isRetryableError(error)) {\n      return true;\n    }\n\n    // Network ServiceErrors are generally recoverable\n    if (isNetworkError(error)) {\n      return true;\n    }\n\n    // Validation ServiceErrors are recoverable through user correction\n    if (isValidationError(error)) {\n      return true;\n    }\n\n    // Other ServiceErrors - check code\n    if (isServiceError(error)) {\n      switch (error.code) {\n        case ServiceErrorCode.INVALID_SECURITY_LEVEL:\n        case ServiceErrorCode.INVALID_COMPONENT_TYPE:\n        case ServiceErrorCode.INVALID_INPUT:\n        case ServiceErrorCode.MISSING_REQUIRED_FIELD:\n        case ServiceErrorCode.DATA_NOT_FOUND:\n        case ServiceErrorCode.TIMEOUT_ERROR:\n        case ServiceErrorCode.CONNECTION_ERROR:\n        case ServiceErrorCode.RATE_LIMIT_ERROR:\n          return true;\n        default:\n          return false;\n      }\n    }\n\n    // Standard errors - check message for known recoverable patterns\n    if (error instanceof Error) {\n      const msg = error.message.toLowerCase();\n      if (msg.includes('network') || msg.includes('timeout') || msg.includes('fetch')) {\n        return true;\n      }\n    }\n\n    // By default, assume errors are not recoverable\n    return false;\n  }\n\n  /**\n   * Get error severity based on error type\n   *\n   * @param error - Error to analyze\n   * @returns Error severity level\n   */\n  public getErrorSeverity(error: unknown): ErrorSeverity {\n    // Handle ServiceErrors\n    if (isServiceError(error)) {\n      // Validation errors are usually low severity\n      if (error.code === ServiceErrorCode.VALIDATION_ERROR) {\n        return ErrorSeverity.LOW;\n      }\n      \n      // Network errors severity depends on status code\n      if (isNetworkError(error)) {\n        const statusCode = error.context.statusCode as number | undefined;\n        if (statusCode && statusCode >= 500) {\n          return ErrorSeverity.HIGH;\n        }\n        return ErrorSeverity.MEDIUM;\n      }\n      \n      // Retryable errors are medium severity\n      if (isRetryableError(error)) {\n        return ErrorSeverity.MEDIUM;\n      }\n      \n      // Other error codes\n      switch (error.code) {\n        case ServiceErrorCode.INVALID_INPUT:\n        case ServiceErrorCode.MISSING_REQUIRED_FIELD:\n          return ErrorSeverity.LOW;\n        \n        case ServiceErrorCode.DATA_NOT_FOUND:\n        case ServiceErrorCode.INVALID_SECURITY_LEVEL:\n        case ServiceErrorCode.INVALID_COMPONENT_TYPE:\n        case ServiceErrorCode.TIMEOUT_ERROR:\n        case ServiceErrorCode.CONNECTION_ERROR:\n          return ErrorSeverity.MEDIUM;\n        \n        case ServiceErrorCode.DATA_PROVIDER_ERROR:\n        case ServiceErrorCode.CONFIGURATION_ERROR:\n        case ServiceErrorCode.CALCULATION_ERROR:\n        case ServiceErrorCode.COMPLIANCE_CHECK_ERROR:\n        case ServiceErrorCode.ROI_CALCULATION_ERROR:\n          return ErrorSeverity.HIGH;\n        \n        case ServiceErrorCode.INTERNAL_ERROR:\n        case ServiceErrorCode.UNEXPECTED_ERROR:\n          return ErrorSeverity.CRITICAL;\n        \n        case ServiceErrorCode.RATE_LIMIT_ERROR:\n          return ErrorSeverity.MEDIUM;\n        \n        default:\n          return ErrorSeverity.HIGH;\n      }\n    }\n\n    // Default to HIGH for unknown error types\n    return ErrorSeverity.HIGH;\n  }\n\n  /**\n   * Create a formatted error message for display\n   *\n   * @param error - Error to format\n   * @param includeDetails - Whether to include technical details\n   * @returns Formatted error message\n   */\n  public formatErrorForDisplay(error: unknown, includeDetails: boolean = false): string {\n    const userMessage = this.getUserFriendlyMessage(error);\n    \n    if (!includeDetails) {\n      return userMessage;\n    }\n\n    if (error instanceof Error) {\n      return `${userMessage}\\n\\nTechnical details: ${error.message}`;\n    }\n\n    return userMessage;\n  }\n}\n\n/**\n * Export singleton instance for convenient access\n */\nexport const errorService = ErrorService.getInstance();\n\n/**\n * Export default instance\n */\nexport default errorService;\n","/**\n * # Error Toast Component\n *\n * Toast notification component for displaying transient error messages\n * that auto-dismiss after a timeout.\n *\n * ## Business Perspective\n * Provides non-intrusive error notifications for transient errors that don't\n * require immediate user action. Maintains workflow continuity while keeping\n * users informed of issues. Critical for user experience. ðŸ“¢\n *\n * ## Technical Perspective\n * Lightweight toast notification component with auto-dismiss, manual dismiss,\n * and accessibility features. Designed for transient errors that shouldn't\n * block the entire UI.\n *\n * @packageDocumentation\n */\n\nimport React, { useEffect, useState, useCallback } from 'react';\n\n/**\n * Toast notification position\n */\nexport type ToastPosition =\n  | 'top-left'\n  | 'top-center'\n  | 'top-right'\n  | 'bottom-left'\n  | 'bottom-center'\n  | 'bottom-right';\n\n/**\n * Props for ErrorToast component\n */\nexport interface ErrorToastProps {\n  /**\n   * Error message to display\n   */\n  message: string;\n  \n  /**\n   * Error title (optional)\n   */\n  title?: string;\n  \n  /**\n   * Whether the toast is visible\n   */\n  isVisible: boolean;\n  \n  /**\n   * Callback when toast is dismissed\n   */\n  onDismiss: () => void;\n  \n  /**\n   * Auto-dismiss timeout in milliseconds\n   * @default 5000\n   */\n  autoHideDuration?: number;\n  \n  /**\n   * Toast position\n   * @default 'top-right'\n   */\n  position?: ToastPosition;\n  \n  /**\n   * Optional retry callback function\n   * Aligns with ErrorMessage component API for consistency\n   */\n  retry?: () => void;\n  \n  /**\n   * Optional test ID for automated testing\n   */\n  testId?: string;\n}\n\n/**\n * Get position classes for toast placement\n */\nconst getPositionClasses = (position: ToastPosition): string => {\n  switch (position) {\n    case 'top-left':\n      return 'top-4 left-4';\n    case 'top-center':\n      return 'top-4 left-1/2 -translate-x-1/2';\n    case 'top-right':\n      return 'top-4 right-4';\n    case 'bottom-left':\n      return 'bottom-4 left-4';\n    case 'bottom-center':\n      return 'bottom-4 left-1/2 -translate-x-1/2';\n    case 'bottom-right':\n      return 'bottom-4 right-4';\n    default:\n      return 'top-4 right-4';\n  }\n};\n\n/**\n * Error Toast Component\n *\n * Displays transient error notifications with auto-dismiss and optional retry.\n * Designed for errors that don't require blocking the entire UI.\n *\n * @example\n * ```tsx\n * // Basic error toast\n * <ErrorToast\n *   message=\"Failed to save changes\"\n *   isVisible={showToast}\n *   onDismiss={() => setShowToast(false)}\n * />\n *\n * // Error toast with title and retry\n * <ErrorToast\n *   title=\"Network Error\"\n *   message=\"Unable to connect to server\"\n *   isVisible={showToast}\n *   onDismiss={() => setShowToast(false)}\n *   retry={() => retryOperation()}\n * />\n *\n * // Custom position and timeout\n * <ErrorToast\n *   message=\"Operation failed\"\n *   isVisible={showToast}\n *   onDismiss={() => setShowToast(false)}\n *   position=\"bottom-center\"\n *   autoHideDuration={10000}\n * />\n * ```\n */\nexport const ErrorToast: React.FC<ErrorToastProps> = ({\n  message,\n  title = 'Error',\n  isVisible,\n  onDismiss,\n  autoHideDuration = 5000,\n  position = 'top-right',\n  retry,\n  testId = 'error-toast',\n}) => {\n  const [isAnimatingOut, setIsAnimatingOut] = useState(false);\n\n  const handleDismiss = useCallback((): void => {\n    setIsAnimatingOut(true);\n    setTimeout(() => {\n      setIsAnimatingOut(false);\n      onDismiss();\n    }, 300); // Match animation duration\n  }, [onDismiss]);\n\n  useEffect(() => {\n    if (isVisible && autoHideDuration > 0) {\n      const timer = setTimeout(() => {\n        handleDismiss();\n      }, autoHideDuration);\n\n      return () => clearTimeout(timer);\n    }\n    return undefined;\n  }, [isVisible, autoHideDuration, handleDismiss]);\n\n  if (!isVisible && !isAnimatingOut) {\n    return null;\n  }\n\n  const positionClasses = getPositionClasses(position);\n\n  return (\n    <div\n      className={`fixed ${positionClasses} z-50 transform transition-all duration-300 ${\n        isAnimatingOut ? 'opacity-0 scale-95' : 'opacity-100 scale-100'\n      }`}\n      data-testid={testId}\n      role=\"alert\"\n      aria-live=\"assertive\"\n      aria-atomic=\"true\"\n    >\n      <div className=\"max-w-md w-full bg-white dark:bg-gray-800 rounded-lg shadow-lg border-l-4 border-red-500 dark:border-red-600 overflow-hidden\">\n        <div className=\"p-4\">\n          {/* Header */}\n          <div className=\"flex items-start\">\n            <div className=\"flex-shrink-0\">\n              <svg\n                className=\"h-6 w-6 text-red-500 dark:text-red-400\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n                aria-hidden=\"true\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n                />\n              </svg>\n            </div>\n            <div className=\"ml-3 flex-1\">\n              <h3\n                className=\"text-sm font-semibold text-gray-900 dark:text-gray-100\"\n                data-testid={`${testId}-title`}\n              >\n                {title}\n              </h3>\n              <p\n                className=\"mt-1 text-sm text-gray-700 dark:text-gray-300\"\n                data-testid={`${testId}-message`}\n              >\n                {message}\n              </p>\n            </div>\n            <div className=\"ml-4 flex-shrink-0\">\n              <button\n                onClick={handleDismiss}\n                className=\"inline-flex text-gray-400 hover:text-gray-500 dark:text-gray-500 dark:hover:text-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500 rounded\"\n                data-testid={`${testId}-close-button`}\n                aria-label=\"Close notification\"\n              >\n                <svg\n                  className=\"h-5 w-5\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  stroke=\"currentColor\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M6 18L18 6M6 6l12 12\"\n                  />\n                </svg>\n              </button>\n            </div>\n          </div>\n\n          {/* Action Button */}\n          {retry && (\n            <div className=\"mt-3\">\n              <button\n                onClick={() => {\n                  retry();\n                  handleDismiss();\n                }}\n                className=\"inline-flex items-center px-3 py-1.5 text-sm font-medium text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 focus:outline-none focus:ring-2 focus:ring-red-500 rounded\"\n                data-testid={`${testId}-retry-button`}\n                aria-label=\"Retry operation\"\n              >\n                <svg\n                  className=\"w-4 h-4 mr-1.5\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  stroke=\"currentColor\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\n                  />\n                </svg>\n                Retry\n              </button>\n            </div>\n          )}\n        </div>\n\n        {/* Progress bar (for auto-dismiss) */}\n        {autoHideDuration > 0 && isVisible && !isAnimatingOut && (\n          <div className=\"h-1 bg-gray-200 dark:bg-gray-700 overflow-hidden\">\n            <div\n              className=\"h-full bg-red-500 dark:bg-red-600 animate-progress\"\n              style={{\n                animation: `progress ${autoHideDuration}ms linear`,\n              }}\n            />\n          </div>\n        )}\n      </div>\n\n      <style>{`\n        @keyframes progress {\n          from {\n            width: 100%;\n          }\n          to {\n            width: 0%;\n          }\n        }\n        .animate-progress {\n          animation: progress linear;\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default ErrorToast;\n","/**\n * # Error Context\n *\n * React Context for centralized error state management across the application.\n * Provides error tracking, toast notifications, and error recovery actions.\n *\n * ## Business Perspective\n * Centralizes error handling state management, enabling consistent error tracking\n * and user notifications across the entire application. Critical for operational\n * excellence and user experience. ðŸ›¡ï¸\n *\n * ## Technical Perspective\n * React Context that manages error state, toast notifications, and provides\n * actions for error handling. Integrates with centralized error service for\n * logging and user-friendly message generation.\n *\n * @packageDocumentation\n */\n\nimport React, { createContext, useContext, useState, useCallback, useMemo, ReactNode } from 'react';\nimport { errorService } from '../services/errorService';\nimport ErrorToast, { ToastPosition } from '../components/common/ErrorToast';\n\n/**\n * Error entry for tracking errors\n */\nexport interface ErrorEntry {\n  /** Unique error ID */\n  id: string;\n  /** Error object */\n  error: Error;\n  /** User-friendly error message */\n  message: string;\n  /** Error timestamp */\n  timestamp: Date;\n  /** Whether the error is recoverable */\n  recoverable: boolean;\n  /** Error context */\n  context?: Record<string, unknown>;\n}\n\n/**\n * Toast notification configuration\n */\nexport interface ToastConfig {\n  /** Toast message */\n  message: string;\n  /** Toast title (optional) */\n  title?: string;\n  /** Auto-hide duration in milliseconds */\n  autoHideDuration?: number;\n  /** Toast position */\n  position?: ToastPosition;\n  /** Retry callback (optional) - aligns with ErrorToast component API */\n  retry?: () => void;\n}\n\n/**\n * Error context value\n */\nexport interface ErrorContextValue {\n  /** List of tracked errors */\n  errors: ErrorEntry[];\n  \n  /** Add an error to tracking */\n  addError: (error: Error, context?: Record<string, unknown>) => void;\n  \n  /** Clear a specific error */\n  clearError: (id: string) => void;\n  \n  /** Clear all errors */\n  clearAllErrors: () => void;\n  \n  /** Show a toast notification */\n  showToast: (config: ToastConfig) => void;\n  \n  /** Hide the current toast */\n  hideToast: () => void;\n  \n  /** Get the most recent error */\n  getLatestError: () => ErrorEntry | undefined;\n}\n\n/**\n * Error context\n */\nconst ErrorContext = createContext<ErrorContextValue | undefined>(undefined);\n\n/**\n * Props for ErrorProvider\n */\nexport interface ErrorProviderProps {\n  /** Child components */\n  children: ReactNode;\n  \n  /** Maximum number of errors to track */\n  maxErrors?: number;\n  \n  /** Default toast position */\n  defaultToastPosition?: ToastPosition;\n  \n  /** Default toast auto-hide duration */\n  defaultAutoHideDuration?: number;\n}\n\n/**\n * Error Provider Component\n *\n * Provides error context to child components, managing error state and\n * toast notifications.\n *\n * @example\n * ```tsx\n * // Wrap application with ErrorProvider\n * <ErrorProvider>\n *   <App />\n * </ErrorProvider>\n *\n * // Use in components\n * const { addError, showToast } = useError();\n *\n * try {\n *   await fetchData();\n * } catch (error) {\n *   addError(error, { component: 'DataFetcher' });\n *   showToast({\n *     message: 'Failed to load data',\n *     retry: () => fetchData()\n *   });\n * }\n * ```\n */\nexport const ErrorProvider: React.FC<ErrorProviderProps> = ({\n  children,\n  maxErrors = 10,\n  defaultToastPosition = 'top-right',\n  defaultAutoHideDuration = 5000,\n}) => {\n  const [errors, setErrors] = useState<ErrorEntry[]>([]);\n  const [toastConfig, setToastConfig] = useState<ToastConfig | null>(null);\n  const [isToastVisible, setIsToastVisible] = useState(false);\n\n  /**\n   * Generate unique error ID\n   */\n  const generateErrorId = useCallback((): string => {\n    return `error-${Date.now()}-${Math.random().toString(36).substring(2, 11)}`;\n  }, []);\n\n  /**\n   * Add an error to tracking\n   */\n  const addError = useCallback((error: Error, context?: Record<string, unknown>) => {\n    // Log error using error service\n    errorService.logError(error, context);\n\n    // Create error entry\n    const errorEntry: ErrorEntry = {\n      id: generateErrorId(),\n      error,\n      message: errorService.getUserFriendlyMessage(error),\n      timestamp: new Date(),\n      recoverable: errorService.canRecover(error),\n      context,\n    };\n\n    // Add to tracked errors (limit to maxErrors)\n    setErrors(prevErrors => {\n      const newErrors = [errorEntry, ...prevErrors];\n      return newErrors.slice(0, maxErrors);\n    });\n  }, [maxErrors, generateErrorId]);\n\n  /**\n   * Clear a specific error\n   */\n  const clearError = useCallback((id: string) => {\n    setErrors(prevErrors => prevErrors.filter(err => err.id !== id));\n  }, []);\n\n  /**\n   * Clear all errors\n   */\n  const clearAllErrors = useCallback(() => {\n    setErrors([]);\n  }, []);\n\n  /**\n   * Show a toast notification\n   */\n  const showToast = useCallback((config: ToastConfig) => {\n    setToastConfig(config);\n    setIsToastVisible(true);\n  }, []);\n\n  /**\n   * Hide the current toast\n   */\n  const hideToast = useCallback(() => {\n    setIsToastVisible(false);\n    // Clear config after animation completes\n    setTimeout(() => {\n      setToastConfig(null);\n    }, 300);\n  }, []);\n\n  /**\n   * Get the most recent error\n   */\n  const getLatestError = useCallback((): ErrorEntry | undefined => {\n    return errors[0];\n  }, [errors]);\n\n  const contextValue: ErrorContextValue = useMemo(() => ({\n    errors,\n    addError,\n    clearError,\n    clearAllErrors,\n    showToast,\n    hideToast,\n    getLatestError,\n  }), [errors, addError, clearError, clearAllErrors, showToast, hideToast, getLatestError]);\n\n  return (\n    <ErrorContext.Provider value={contextValue}>\n      {children}\n      \n      {/* Toast notification */}\n      {toastConfig && (\n        <ErrorToast\n          message={toastConfig.message}\n          title={toastConfig.title}\n          isVisible={isToastVisible}\n          onDismiss={hideToast}\n          autoHideDuration={toastConfig.autoHideDuration ?? defaultAutoHideDuration}\n          position={toastConfig.position ?? defaultToastPosition}\n          retry={toastConfig.retry}\n        />\n      )}\n    </ErrorContext.Provider>\n  );\n};\n\n/**\n * Custom hook to use error context\n *\n * @throws Error if used outside ErrorProvider\n * @returns Error context value\n *\n * @example\n * ```tsx\n * const { addError, showToast, clearError } = useError();\n *\n * // Track and display error\n * try {\n *   await saveData();\n * } catch (error) {\n *   addError(error, { operation: 'save' });\n *   showToast({\n *     message: 'Failed to save data',\n *     retry: () => saveData()\n *   });\n * }\n * ```\n */\nexport const useError = (): ErrorContextValue => {\n  const context = useContext(ErrorContext);\n  \n  if (context === undefined) {\n    throw new Error('useError must be used within an ErrorProvider');\n  }\n  \n  return context;\n};\n\nexport default ErrorProvider;\n","import \"./App.css\"; // Keep the import to avoid build errors\nimport CIAClassificationApp from \"./application/CIAClassificationApp\";\nimport { KeyboardShortcutProvider } from \"./contexts/KeyboardShortcutContext\";\nimport { ErrorProvider } from \"./contexts/ErrorContext\";\nimport { APP_TEST_IDS } from \"./constants/testIds\";\n\n/**\n * Main App component\n * \n * ## Business Perspective\n * \n * ### Purpose\n * The `App` component serves as the main entry point of the application, ensuring backward compatibility by wrapping the `CIAClassificationApp` component. ðŸ›¡ï¸\n * \n * ### User Experience\n * By maintaining backward compatibility, the `App` component ensures a seamless user experience, reducing the need for retraining or adjustments for existing users. ðŸŒŸ\n * \n * ### Business Continuity\n * The `App` component's role in maintaining backward compatibility helps in minimizing disruptions during updates or migrations, ensuring business continuity. ðŸ”„\n * \n * ### Scalability\n * The `App` component's simple structure allows for easy scalability and future enhancements without affecting the core functionality. ðŸ“ˆ\n * \n * ### Security\n * By acting as a wrapper, the `App` component ensures that the security measures implemented in the `CIAClassificationApp` are consistently applied across the application. ðŸ”’\n * \n * ### Error Handling\n * The `App` component integrates centralized error handling through ErrorProvider, ensuring consistent error tracking and user-friendly error notifications. âš ï¸\n */\nfunction App() {\n  return (\n    <ErrorProvider>\n      <KeyboardShortcutProvider>\n        <div className=\"app-container\" data-testid={APP_TEST_IDS.APP_CONTAINER}>\n          <CIAClassificationApp />\n        </div>\n      </KeyboardShortcutProvider>\n    </ErrorProvider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\n/**\n * Entry point for the React application.\n * \n * ## Technical Implementation\n * This file initializes the React application by rendering the `App` component into the root DOM element.\n * \n * ## Future-Proofing\n * The use of React's `createRoot` method ensures compatibility with future versions of React and enables concurrent mode.\n * \n * ## Performance\n * The application is wrapped in `React.StrictMode` to help identify potential performance issues and ensure best practices.\n * \n * ## Maintainability\n * The structure of this file is simple and clear, making it easy to maintain and update as needed.\n * \n * ## Integration\n * This file integrates the main `App` component with the HTML structure of the application, serving as the bridge between the React code and the DOM.\n */\nconst root = ReactDOM.createRoot(\n  document.getElementById(\"root\") as HTMLElement\n);\n\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n"],"file":"index-BOwIYlSm.js"}